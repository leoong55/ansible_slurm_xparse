2024-06-23 23:05:35,082 p=186436 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:05:35,280 p=186436 u=lasolovyov@dtln.local n=ansible | ERROR! Empty playbook, nothing to do: /home/lasolovyov@dtln.local/slurm/xpaste_practicum/main.yml
2024-06-23 23:05:57,715 p=204673 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:05:57,983 p=204673 u=lasolovyov@dtln.local n=ansible | PLAY [app] *************************************************************************************************************************************
2024-06-23 23:05:58,016 p=204673 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'distutils'
2024-06-23 23:05:58,016 p=204673 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:05:58,019 p=204673 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 30, in <module>
    import distutils.version
ModuleNotFoundError: No module named 'distutils'

2024-06-23 23:09:27,906 p=204958 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:09:28,171 p=204958 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:09:28,177 p=204958 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'distutils'
2024-06-23 23:09:28,177 p=204958 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:09:28,180 p=204958 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 30, in <module>
    import distutils.version
ModuleNotFoundError: No module named 'distutils'

2024-06-23 23:09:34,789 p=204968 u=root n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:09:35,032 p=204968 u=root n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:09:35,038 p=204968 u=root n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'distutils'
2024-06-23 23:09:35,038 p=204968 u=root n=ansible | to see the full traceback, use -vvv
2024-06-23 23:09:35,040 p=204968 u=root n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 30, in <module>
    import distutils.version
ModuleNotFoundError: No module named 'distutils'

2024-06-23 23:16:02,432 p=207510 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:16:02,678 p=207510 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:16:02,781 p=207510 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:16:02,781 p=207510 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:16:02,784 p=207510 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:16:27,835 p=207551 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:16:28,078 p=207551 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:16:28,151 p=207551 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:16:28,151 p=207551 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:16:28,153 p=207551 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:16:50,553 p=207579 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:16:50,801 p=207579 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:16:50,874 p=207579 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:16:50,874 p=207579 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:16:50,877 p=207579 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:17:18,939 p=207638 u=root n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:17:19,187 p=207638 u=root n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:17:19,260 p=207638 u=root n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:17:19,261 p=207638 u=root n=ansible | to see the full traceback, use -vvv
2024-06-23 23:17:19,263 p=207638 u=root n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:18:12,314 p=207682 u=root n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:18:12,556 p=207682 u=root n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:18:12,626 p=207682 u=root n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:18:12,627 p=207682 u=root n=ansible | to see the full traceback, use -vvv
2024-06-23 23:18:12,629 p=207682 u=root n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:23:02,085 p=207860 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:23:02,331 p=207860 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:23:02,398 p=207860 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:23:02,398 p=207860 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:23:02,400 p=207860 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:23:56,652 p=207928 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]collections_paths option, does not fit var naming standard, use the singular form collections_path instead. 
This feature will be removed from ansible-core in version 2.19. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-23 23:23:56,895 p=207928 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:23:56,965 p=207928 u=lasolovyov@dtln.local n=ansible | ERROR! Unexpected Exception, this is probably a bug: No module named 'imp'
2024-06-23 23:23:56,966 p=207928 u=lasolovyov@dtln.local n=ansible | to see the full traceback, use -vvv
2024-06-23 23:23:56,968 p=207928 u=lasolovyov@dtln.local n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/usr/lib/python3.12/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
                ^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/cli/playbook.py", line 156, in run
    results = pbex.run()
              ^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/playbook_executor.py", line 190, in run
    result = self._tqm.run(play=play)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/executor/task_queue_manager.py", line 324, in run
    strategy = strategy_loader.get(new_play.strategy, self)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 864, in get
    return self.get_with_context(name, *args, **kwargs).object
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 899, in get_with_context
    self._module_cache[path] = self._load_module_source(resolved_type_name, path)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/site-packages/ansible/plugins/loader.py", line 837, in _load_module_source
    spec.loader.exec_module(module)
  File "<frozen importlib._bootstrap_external>", line 994, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/plugins/strategy/mitogen_linear.py", line 56, in <module>
    import ansible_mitogen.strategy
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/ansible_mitogen/strategy.py", line 40, in <module>
    import mitogen.core
  File "/home/lasolovyov@dtln.local/slurm/xpaste_practicum/plugins/mitogen-0.2.10/mitogen/core.py", line 63, in <module>
    import imp
ModuleNotFoundError: No module named 'imp'

2024-06-23 23:29:30,407 p=209111 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:29:49,064 p=209145 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:29:49,377 p=209145 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:29:49,545 p=209145 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:29:49,672 p=209145 u=lasolovyov@dtln.local n=ansible | ERROR! Your Ansible version (2.11.12) is too recent. The most recent version
supported by Mitogen for Ansible is (2, 9).x. Please check the Mitogen
release notes to see if a new version is available, otherwise
subscribe to the corresponding GitHub issue to be notified when
support becomes available.

    https://mitogen.rtfd.io/en/latest/changelog.html
    https://github.com/dw/mitogen/issues/

2024-06-23 23:31:56,900 p=209469 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:31:57,216 p=209469 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:31:57,337 p=209469 u=lasolovyov@dtln.local n=ansible | PLAY [test] ************************************************************************************************************************************
2024-06-23 23:31:57,342 p=209469 u=lasolovyov@dtln.local n=ansible | ERROR! Invalid play strategy specified: mitogen_linear

The error appears to be in '/home/lasolovyov@dtln.local/slurm/xpaste_practicum/test.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- hosts:
  ^ here

2024-06-23 23:32:26,921 p=209531 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:32:27,231 p=209531 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:32:27,371 p=209531 u=lasolovyov@dtln.local n=ansible | PLAY [app] *************************************************************************************************************************************
2024-06-23 23:32:27,381 p=209531 u=lasolovyov@dtln.local n=ansible | ERROR! Invalid play strategy specified: mitogen_linear

The error appears to be in '/home/lasolovyov@dtln.local/slurm/xpaste_practicum/main.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- hosts:
  ^ here

2024-06-23 23:33:02,726 p=209577 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:33:03,047 p=209577 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:33:03,188 p=209577 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:33:03,200 p=209577 u=lasolovyov@dtln.local n=ansible | ERROR! Invalid play strategy specified: mitogen_linear

The error appears to be in '/home/lasolovyov@dtln.local/slurm/xpaste_practicum/main.yml': line 1, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- hosts:
  ^ here

2024-06-23 23:33:19,484 p=209597 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:33:19,784 p=209597 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:33:19,956 p=209597 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:33:19,993 p=209597 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-23 23:33:19,993 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:33:19 +0300 (0:00:00.041)       0:00:00.041 ****** 
2024-06-23 23:33:21,185 p=209597 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state temporarily changed from 'enforcing' to 'permissive'. State change will take effect next reboot.

2024-06-23 23:33:21,185 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:33:21,198 p=209597 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-23 23:33:21,198 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:33:21 +0300 (0:00:01.204)       0:00:01.246 ****** 
2024-06-23 23:33:21,645 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:33:21,656 p=209597 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-23 23:33:21,656 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:33:21 +0300 (0:00:00.458)       0:00:01.704 ****** 
2024-06-23 23:33:23,114 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:33:23,124 p=209597 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-23 23:33:23,124 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:33:23 +0300 (0:00:01.468)       0:00:03.172 ****** 
2024-06-23 23:34:15,736 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:34:15,750 p=209597 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-23 23:34:15,750 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:34:15 +0300 (0:00:52.625)       0:00:55.798 ****** 
2024-06-23 23:34:52,891 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=vim)
2024-06-23 23:35:25,743 p=209597 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=netcat)
2024-06-23 23:35:41,608 p=209597 u=lasolovyov@dtln.local n=ansible | failed: [app] (item=build-base) => {"ansible_loop_var": "item", "changed": false, "item": "build-base", "msg": "No package matching 'build-base' found available, installed or updated", "rc": 126, "results": ["No package matching 'build-base' found available, installed or updated"]}
2024-06-23 23:35:57,540 p=209597 u=lasolovyov@dtln.local n=ansible | failed: [app] (item=libxml2-dev) => {"ansible_loop_var": "item", "changed": false, "item": "libxml2-dev", "msg": "No package matching 'libxml2-dev' found available, installed or updated", "rc": 126, "results": ["No package matching 'libxml2-dev' found available, installed or updated"]}
2024-06-23 23:35:57,544 p=209597 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-23 23:35:57,544 p=209597 u=lasolovyov@dtln.local n=ansible | app                        : ok=4    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-23 23:35:57,544 p=209597 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:35:57 +0300 (0:01:41.794)       0:02:37.592 ****** 
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------ 101.79s
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 52.63s
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 1.47s
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.20s
2024-06-23 23:35:57,545 p=209597 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.46s
2024-06-23 23:39:33,997 p=210014 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:39:34,306 p=210014 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:39:34,441 p=210014 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:39:34,592 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-23 23:39:34,593 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:39:34 +0300 (0:00:00.155)       0:00:00.155 ****** 
2024-06-23 23:39:36,544 p=210014 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state change will take effect next reboot

2024-06-23 23:39:36,544 p=210014 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:39:36,553 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-23 23:39:36,553 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:39:36 +0300 (0:00:01.960)       0:00:02.115 ****** 
2024-06-23 23:39:36,723 p=210014 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:39:36,734 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-23 23:39:36,734 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:39:36 +0300 (0:00:00.181)       0:00:02.297 ****** 
2024-06-23 23:39:36,897 p=210014 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:39:36,907 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-23 23:39:36,907 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:39:36 +0300 (0:00:00.172)       0:00:02.469 ****** 
2024-06-23 23:39:54,601 p=210014 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:39:54,610 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-23 23:39:54,610 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:39:54 +0300 (0:00:17.702)       0:00:20.172 ****** 
2024-06-23 23:40:10,301 p=210014 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=vim)
2024-06-23 23:40:10,418 p=210014 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=netcat)
2024-06-23 23:40:10,430 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-23 23:40:10,431 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:40:10 +0300 (0:00:15.820)       0:00:35.993 ****** 
2024-06-23 23:40:10,514 p=210014 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:40:10,535 p=210014 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL cluster] *************************************************************************************
2024-06-23 23:40:10,535 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:40:10 +0300 (0:00:00.104)       0:00:36.097 ****** 
2024-06-23 23:40:26,057 p=210014 u=lasolovyov@dtln.local n=ansible | failed: [app] (item=xml-utils) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "item": "xml-utils", "msg": "No package matching 'xml-utils' found available, installed or updated", "rc": 126, "results": ["No package matching 'xml-utils' found available, installed or updated"]}
2024-06-23 23:41:00,609 p=210014 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-23 23:41:00,614 p=210014 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-23 23:41:00,614 p=210014 u=lasolovyov@dtln.local n=ansible | app                        : ok=6    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-23 23:41:00,614 p=210014 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:00 +0300 (0:00:50.079)       0:01:26.177 ****** 
2024-06-23 23:41:00,614 p=210014 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL cluster ------------------------------------------------------------------------------------ 50.08s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 17.70s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------- 15.82s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.96s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.18s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.17s
2024-06-23 23:41:00,615 p=210014 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.10s
2024-06-23 23:41:18,267 p=210171 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:41:18,575 p=210171 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:41:18,708 p=210171 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:41:18,783 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-23 23:41:18,783 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:18 +0300 (0:00:00.078)       0:00:00.078 ****** 
2024-06-23 23:41:20,733 p=210171 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state change will take effect next reboot

2024-06-23 23:41:20,733 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:41:20,743 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-23 23:41:20,743 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:20 +0300 (0:00:01.959)       0:00:02.038 ****** 
2024-06-23 23:41:20,875 p=210171 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:41:20,887 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-23 23:41:20,887 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:20 +0300 (0:00:00.144)       0:00:02.182 ****** 
2024-06-23 23:41:21,073 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:41:21,082 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-23 23:41:21,082 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:21 +0300 (0:00:00.195)       0:00:02.378 ****** 
2024-06-23 23:41:38,587 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:41:38,596 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-23 23:41:38,596 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:38 +0300 (0:00:17.513)       0:00:19.891 ****** 
2024-06-23 23:41:54,218 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=vim)
2024-06-23 23:41:54,334 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=netcat)
2024-06-23 23:41:54,346 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-23 23:41:54,346 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:54 +0300 (0:00:15.749)       0:00:35.641 ****** 
2024-06-23 23:41:54,424 p=210171 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:41:54,440 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL cluster] *************************************************************************************
2024-06-23 23:41:54,441 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:54 +0300 (0:00:00.094)       0:00:35.736 ****** 
2024-06-23 23:41:54,554 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-23 23:41:54,564 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-23 23:41:54,564 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:54 +0300 (0:00:00.123)       0:00:35.859 ****** 
2024-06-23 23:41:54,713 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:41:54,723 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-23 23:41:54,723 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:54 +0300 (0:00:00.159)       0:00:36.018 ****** 
2024-06-23 23:41:54,937 p=210171 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:41:54,948 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-23 23:41:54,948 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:54 +0300 (0:00:00.224)       0:00:36.243 ****** 
2024-06-23 23:41:55,042 p=210171 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:41:55,051 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-23 23:41:55,051 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:55 +0300 (0:00:00.102)       0:00:36.346 ****** 
2024-06-23 23:41:56,322 p=210171 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:41:56,332 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-23 23:41:56,332 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:56 +0300 (0:00:01.281)       0:00:37.627 ****** 
2024-06-23 23:41:57,393 p=210171 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:41:57,402 p=210171 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-23 23:41:57,402 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:57 +0300 (0:00:01.069)       0:00:38.697 ****** 
2024-06-23 23:41:57,557 p=210171 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Failed to import the required Python library (psycopg2) on app's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2024-06-23 23:41:57,558 p=210171 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-23 23:41:57,559 p=210171 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-23 23:41:57,559 p=210171 u=lasolovyov@dtln.local n=ansible | app                        : ok=12   changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-23 23:41:57,559 p=210171 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:41:57 +0300 (0:00:00.157)       0:00:38.855 ****** 
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 17.51s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------- 15.75s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.96s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.28s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.07s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.22s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.20s
2024-06-23 23:41:57,560 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-23 23:41:57,561 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-23 23:41:57,561 p=210171 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.14s
2024-06-23 23:41:57,561 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL cluster ------------------------------------------------------------------------------------- 0.12s
2024-06-23 23:41:57,561 p=210171 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.10s
2024-06-23 23:41:57,561 p=210171 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.09s
2024-06-23 23:46:05,501 p=210366 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:46:05,810 p=210366 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:46:05,941 p=210366 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:46:06,013 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-23 23:46:06,014 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:06 +0300 (0:00:00.076)       0:00:00.076 ****** 
2024-06-23 23:46:07,935 p=210366 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state change will take effect next reboot

2024-06-23 23:46:07,935 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:46:07,943 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-23 23:46:07,944 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:07 +0300 (0:00:01.929)       0:00:02.005 ****** 
2024-06-23 23:46:08,102 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:46:08,111 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-23 23:46:08,111 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:08 +0300 (0:00:00.167)       0:00:02.173 ****** 
2024-06-23 23:46:08,273 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:46:08,282 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-23 23:46:08,282 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:08 +0300 (0:00:00.171)       0:00:02.344 ****** 
2024-06-23 23:46:26,008 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:46:26,017 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-23 23:46:26,017 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:26 +0300 (0:00:17.734)       0:00:20.079 ****** 
2024-06-23 23:46:41,653 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=vim)
2024-06-23 23:46:41,769 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=netcat)
2024-06-23 23:46:41,780 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-23 23:46:41,781 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:41 +0300 (0:00:15.763)       0:00:35.843 ****** 
2024-06-23 23:46:41,862 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:46:41,878 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL cluster] *************************************************************************************
2024-06-23 23:46:41,878 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:46:41 +0300 (0:00:00.097)       0:00:35.940 ****** 
2024-06-23 23:47:14,115 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-23 23:47:14,176 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-23 23:47:14,187 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-23 23:47:14,188 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:14 +0300 (0:00:32.309)       0:01:08.250 ****** 
2024-06-23 23:47:14,330 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:47:14,339 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-23 23:47:14,340 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:14 +0300 (0:00:00.151)       0:01:08.401 ****** 
2024-06-23 23:47:14,566 p=210366 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:47:14,578 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-23 23:47:14,579 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:14 +0300 (0:00:00.239)       0:01:08.641 ****** 
2024-06-23 23:47:14,707 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:47:14,717 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-23 23:47:14,718 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:14 +0300 (0:00:00.138)       0:01:08.779 ****** 
2024-06-23 23:47:15,984 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:47:15,993 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-23 23:47:15,994 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:15 +0300 (0:00:01.276)       0:01:10.055 ****** 
2024-06-23 23:47:16,096 p=210366 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:47:16,105 p=210366 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-23 23:47:16,105 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:16 +0300 (0:00:00.111)       0:01:10.167 ****** 
2024-06-23 23:47:16,260 p=210366 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "unable to connect to database: ВАЖНО:  открыть файл сопоставления отношений \"global/pg_filenode.map\" не удалось: Нет такого файла или каталога\n"}
2024-06-23 23:47:16,261 p=210366 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-23 23:47:16,262 p=210366 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-23 23:47:16,262 p=210366 u=lasolovyov@dtln.local n=ansible | app                        : ok=12   changed=6    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-23 23:47:16,262 p=210366 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:47:16 +0300 (0:00:00.157)       0:01:10.324 ****** 
2024-06-23 23:47:16,262 p=210366 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL cluster ------------------------------------------------------------------------------------ 32.31s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 17.73s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------- 15.76s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.93s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.28s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.24s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.17s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.17s
2024-06-23 23:47:16,263 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-23 23:47:16,264 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.15s
2024-06-23 23:47:16,264 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.14s
2024-06-23 23:47:16,264 p=210366 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.11s
2024-06-23 23:47:16,264 p=210366 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.10s
2024-06-23 23:58:44,745 p=212969 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:58:45,042 p=212969 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-23 23:58:45,167 p=212969 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-23 23:58:45,240 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-23 23:58:45,240 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:45 +0300 (0:00:00.076)       0:00:00.076 ****** 
2024-06-23 23:58:47,442 p=212969 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-23 23:58:47,554 p=212969 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-23 23:58:47,566 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-23 23:58:47,566 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:47 +0300 (0:00:02.326)       0:00:02.402 ****** 
2024-06-23 23:58:47,695 p=212969 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:58:47,708 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-23 23:58:47,709 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:47 +0300 (0:00:00.142)       0:00:02.545 ****** 
2024-06-23 23:58:47,965 p=212969 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-23 23:58:47,975 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-23 23:58:47,976 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:47 +0300 (0:00:00.266)       0:00:02.812 ****** 
2024-06-23 23:58:48,133 p=212969 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:58:48,148 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-23 23:58:48,149 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:48 +0300 (0:00:00.172)       0:00:02.985 ****** 
2024-06-23 23:58:49,597 p=212969 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:58:49,606 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-23 23:58:49,606 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:49 +0300 (0:00:01.457)       0:00:04.442 ****** 
2024-06-23 23:58:50,704 p=212969 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:58:50,713 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-23 23:58:50,713 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:50 +0300 (0:00:01.107)       0:00:05.549 ****** 
2024-06-23 23:58:50,915 p=212969 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-23 23:58:50,924 p=212969 u=lasolovyov@dtln.local n=ansible | TASK [pg : Add new	rule in	pg_hba file.] *********************************************************************************************************
2024-06-23 23:58:50,924 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:50 +0300 (0:00:00.211)       0:00:05.760 ****** 
2024-06-23 23:58:51,053 p=212969 u=lasolovyov@dtln.local n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ImportError: u'ipaddress' is present in the Mitogen importer blacklist, therefore this context will not attempt to request it from the master, as the request will always be refused.
2024-06-23 23:58:51,054 p=212969 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Failed to import the required Python library (ipaddress) on app's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2024-06-23 23:58:51,054 p=212969 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-23 23:58:51,055 p=212969 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-23 23:58:51,055 p=212969 u=lasolovyov@dtln.local n=ansible | app                        : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-23 23:58:51,055 p=212969 u=lasolovyov@dtln.local n=ansible | Воскресенье 23 июня 2024  23:58:51 +0300 (0:00:00.130)       0:00:05.891 ****** 
2024-06-23 23:58:51,055 p=212969 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.33s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.46s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.11s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.27s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.14s
2024-06-23 23:58:51,056 p=212969 u=lasolovyov@dtln.local n=ansible | pg : Add new	rule in	pg_hba file. ------------------------------------------------------------------------------------------------------- 0.13s
2024-06-24 00:00:58,786 p=213321 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:00:59,099 p=213321 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:00:59,232 p=213321 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:00:59,303 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:00:59,303 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:00:59 +0300 (0:00:00.074)       0:00:00.074 ****** 
2024-06-24 00:01:01,694 p=213321 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:01:01,814 p=213321 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:01:01,830 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:01:01,830 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:01 +0300 (0:00:02.526)       0:00:02.601 ****** 
2024-06-24 00:01:01,978 p=213321 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:01:01,988 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:01:01,988 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:01 +0300 (0:00:00.158)       0:00:02.759 ****** 
2024-06-24 00:01:02,241 p=213321 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:01:02,254 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:01:02,254 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:02 +0300 (0:00:00.265)       0:00:03.025 ****** 
2024-06-24 00:01:02,386 p=213321 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:01:02,397 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:01:02,397 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:02 +0300 (0:00:00.142)       0:00:03.168 ****** 
2024-06-24 00:01:03,737 p=213321 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:01:03,746 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:01:03,746 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:03 +0300 (0:00:01.349)       0:00:04.517 ****** 
2024-06-24 00:01:03,869 p=213321 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:01:03,878 p=213321 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:01:03,878 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:03 +0300 (0:00:00.132)       0:00:04.650 ****** 
2024-06-24 00:01:04,059 p=213321 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "unable to connect to database: ВАЖНО:  открыть файл сопоставления отношений \"global/pg_filenode.map\" не удалось: Нет такого файла или каталога\n"}
2024-06-24 00:01:04,060 p=213321 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-24 00:01:04,060 p=213321 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | app                        : ok=6    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:01:04 +0300 (0:00:00.182)       0:00:04.832 ****** 
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.53s
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.35s
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.27s
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 00:01:04,061 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.14s
2024-06-24 00:01:04,062 p=213321 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-24 00:04:37,298 p=213712 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:04:37,610 p=213712 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:04:37,745 p=213712 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:04:37,822 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:04:37,822 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:37 +0300 (0:00:00.080)       0:00:00.080 ****** 
2024-06-24 00:04:40,056 p=213712 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:04:40,169 p=213712 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:04:40,181 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:04:40,181 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:40 +0300 (0:00:02.358)       0:00:02.439 ****** 
2024-06-24 00:04:40,315 p=213712 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:04:40,326 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:04:40,326 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:40 +0300 (0:00:00.144)       0:00:02.584 ****** 
2024-06-24 00:04:40,547 p=213712 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:04:40,555 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:04:40,555 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:40 +0300 (0:00:00.229)       0:00:02.814 ****** 
2024-06-24 00:04:40,718 p=213712 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:04:40,729 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:04:40,729 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:40 +0300 (0:00:00.173)       0:00:02.987 ****** 
2024-06-24 00:04:42,120 p=213712 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:04:42,132 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:04:42,132 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:42 +0300 (0:00:01.402)       0:00:04.390 ****** 
2024-06-24 00:04:43,221 p=213712 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:04:43,229 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 00:04:43,230 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:43 +0300 (0:00:01.097)       0:00:05.488 ****** 
2024-06-24 00:04:44,339 p=213712 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:04:44,352 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:04:44,352 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:44 +0300 (0:00:01.122)       0:00:06.610 ****** 
2024-06-24 00:04:44,570 p=213712 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:04:44,580 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 00:04:44,581 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:44 +0300 (0:00:00.228)       0:00:06.839 ****** 
2024-06-24 00:04:44,820 p=213712 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:04:44,829 p=213712 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 00:04:44,829 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:44 +0300 (0:00:00.248)       0:00:07.087 ****** 
2024-06-24 00:04:44,958 p=213712 u=lasolovyov@dtln.local n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ПОДСКАЗКА:  Используйте то же правило сортировки, что и в шаблоне базы данных, или выберите в качестве шаблона template0.
2024-06-24 00:04:44,959 p=213712 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Database query failed: ОШИБКА:  новое правило сортировки (en_US.UTF-8) несовместимо с правилом в шаблоне базы данных (ru_RU.UTF-8)\nПОДСКАЗКА:  Используйте то же правило сортировки, что и в шаблоне базы данных, или выберите в качестве шаблона template0.\n"}
2024-06-24 00:04:44,961 p=213712 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:04:44,961 p=213712 u=lasolovyov@dtln.local n=ansible | app                        : ok=9    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:04:44 +0300 (0:00:00.132)       0:00:07.220 ****** 
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.36s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.40s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.12s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.10s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.25s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.23s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.14s
2024-06-24 00:04:44,962 p=213712 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.13s
2024-06-24 00:07:58,830 p=214107 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:07:59,154 p=214107 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:07:59,286 p=214107 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:07:59,683 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:07:59,683 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:07:59 +0300 (0:00:00.400)       0:00:00.400 ****** 
2024-06-24 00:08:02,135 p=214107 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:08:02,258 p=214107 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:08:02,273 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:08:02,273 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:02 +0300 (0:00:02.589)       0:00:02.990 ****** 
2024-06-24 00:08:02,435 p=214107 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:08:02,445 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:08:02,445 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:02 +0300 (0:00:00.171)       0:00:03.162 ****** 
2024-06-24 00:08:02,689 p=214107 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:08:02,699 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:08:02,699 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:02 +0300 (0:00:00.253)       0:00:03.416 ****** 
2024-06-24 00:08:02,871 p=214107 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:08:02,883 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:08:02,883 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:02 +0300 (0:00:00.184)       0:00:03.600 ****** 
2024-06-24 00:08:04,195 p=214107 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:08:04,204 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:08:04,204 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:04 +0300 (0:00:01.320)       0:00:04.921 ****** 
2024-06-24 00:08:04,372 p=214107 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:08:04,386 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 00:08:04,386 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:04 +0300 (0:00:00.181)       0:00:05.102 ****** 
2024-06-24 00:08:05,509 p=214107 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:08:05,521 p=214107 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:08:05,521 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:05 +0300 (0:00:01.135)       0:00:06.238 ****** 
2024-06-24 00:08:05,711 p=214107 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "unable to connect to database: ВАЖНО:  открыть файл сопоставления отношений \"global/pg_filenode.map\" не удалось: Нет такого файла или каталога\n"}
2024-06-24 00:08:05,712 p=214107 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | app                        : ok=7    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:05 +0300 (0:00:00.191)       0:00:06.430 ****** 
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.59s
2024-06-24 00:08:05,713 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.32s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.14s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.25s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.18s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-24 00:08:05,714 p=214107 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.17s
2024-06-24 00:08:44,579 p=214293 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:08:44,960 p=214293 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:08:45,090 p=214293 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:08:45,166 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 00:08:45,167 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:45 +0300 (0:00:00.080)       0:00:00.080 ****** 
2024-06-24 00:08:47,115 p=214293 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state change will take effect next reboot

2024-06-24 00:08:47,115 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:08:47,124 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-24 00:08:47,124 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:47 +0300 (0:00:01.957)       0:00:02.037 ****** 
2024-06-24 00:08:47,269 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:08:47,278 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 00:08:47,278 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:47 +0300 (0:00:00.154)       0:00:02.191 ****** 
2024-06-24 00:08:47,476 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:08:47,486 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 00:08:47,486 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:08:47 +0300 (0:00:00.207)       0:00:02.399 ****** 
2024-06-24 00:09:05,128 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:09:05,137 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-24 00:09:05,138 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:05 +0300 (0:00:17.651)       0:00:20.051 ****** 
2024-06-24 00:09:20,750 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=vim)
2024-06-24 00:09:20,864 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=netcat)
2024-06-24 00:09:20,875 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 00:09:20,875 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:20 +0300 (0:00:15.737)       0:00:35.788 ****** 
2024-06-24 00:09:20,970 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:20,987 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:09:20,987 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:20 +0300 (0:00:00.111)       0:00:35.900 ****** 
2024-06-24 00:09:21,167 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:09:21,224 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:09:21,236 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:09:21,236 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:21 +0300 (0:00:00.248)       0:00:36.149 ****** 
2024-06-24 00:09:21,387 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:09:21,400 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:09:21,400 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:21 +0300 (0:00:00.164)       0:00:36.313 ****** 
2024-06-24 00:09:21,621 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:09:21,630 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:09:21,630 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:21 +0300 (0:00:00.229)       0:00:36.543 ****** 
2024-06-24 00:09:21,853 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:21,864 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:09:21,864 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:21 +0300 (0:00:00.234)       0:00:36.777 ****** 
2024-06-24 00:09:23,205 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:23,217 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:09:23,217 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:23 +0300 (0:00:01.352)       0:00:38.130 ****** 
2024-06-24 00:09:24,297 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:24,306 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 00:09:24,306 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:24 +0300 (0:00:01.089)       0:00:39.219 ****** 
2024-06-24 00:09:25,402 p=214293 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:09:25,411 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:09:25,412 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:25 +0300 (0:00:01.105)       0:00:40.325 ****** 
2024-06-24 00:09:25,594 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:25,607 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 00:09:25,607 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:25 +0300 (0:00:00.195)       0:00:40.520 ****** 
2024-06-24 00:09:25,906 p=214293 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:09:25,916 p=214293 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 00:09:25,916 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:25 +0300 (0:00:00.308)       0:00:40.829 ****** 
2024-06-24 00:09:26,030 p=214293 u=lasolovyov@dtln.local n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ПОДСКАЗКА:  Используйте то же правило сортировки, что и в шаблоне базы данных, или выберите в качестве шаблона template0.
2024-06-24 00:09:26,031 p=214293 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Database query failed: ОШИБКА:  новое правило сортировки (en_US.UTF-8) несовместимо с правилом в шаблоне базы данных (ru_RU.UTF-8)\nПОДСКАЗКА:  Используйте то же правило сортировки, что и в шаблоне базы данных, или выберите в качестве шаблона template0.\n"}
2024-06-24 00:09:26,032 p=214293 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:09:26,032 p=214293 u=lasolovyov@dtln.local n=ansible | app                        : ok=15   changed=7    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:09:26,032 p=214293 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:09:26 +0300 (0:00:00.116)       0:00:40.945 ****** 
2024-06-24 00:09:26,032 p=214293 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 17.65s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------- 15.74s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.96s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.35s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.11s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.09s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.31s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 0.25s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.23s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.23s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.21s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 00:09:26,033 p=214293 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.15s
2024-06-24 00:09:26,034 p=214293 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.12s
2024-06-24 00:09:26,034 p=214293 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.11s
2024-06-24 00:10:44,068 p=214579 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:10:44,404 p=214579 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:10:44,536 p=214579 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:10:44,610 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 00:10:44,610 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:10:44 +0300 (0:00:00.077)       0:00:00.077 ****** 
2024-06-24 00:10:46,542 p=214579 u=lasolovyov@dtln.local n=ansible | [WARNING]: SELinux state change will take effect next reboot

2024-06-24 00:10:46,543 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:10:46,554 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Set a en_US.utf8 locale] ********************************************************************************************************
2024-06-24 00:10:46,554 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:10:46 +0300 (0:00:01.943)       0:00:02.021 ****** 
2024-06-24 00:10:46,702 p=214579 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:10:46,711 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 00:10:46,711 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:10:46 +0300 (0:00:00.157)       0:00:02.178 ****** 
2024-06-24 00:10:46,912 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:10:46,922 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 00:10:46,922 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:10:46 +0300 (0:00:00.210)       0:00:02.389 ****** 
2024-06-24 00:11:04,488 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:11:04,497 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Install depencies] **************************************************************************************************************
2024-06-24 00:11:04,497 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:04 +0300 (0:00:17.575)       0:00:19.964 ****** 
2024-06-24 00:11:20,125 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=vim)
2024-06-24 00:11:20,244 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=netcat)
2024-06-24 00:11:20,256 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 00:11:20,256 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:20 +0300 (0:00:15.758)       0:00:35.723 ****** 
2024-06-24 00:11:20,342 p=214579 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:11:20,358 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:11:20,359 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:20 +0300 (0:00:00.102)       0:00:35.826 ****** 
2024-06-24 00:11:20,459 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:11:20,531 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:11:20,542 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:11:20,542 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:20 +0300 (0:00:00.183)       0:00:36.009 ****** 
2024-06-24 00:11:20,735 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:11:20,744 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:11:20,744 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:20 +0300 (0:00:00.201)       0:00:36.211 ****** 
2024-06-24 00:11:20,959 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:11:20,971 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:11:20,971 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:20 +0300 (0:00:00.226)       0:00:36.438 ****** 
2024-06-24 00:11:21,099 p=214579 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:11:21,110 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:11:21,110 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:21 +0300 (0:00:00.139)       0:00:36.577 ****** 
2024-06-24 00:11:22,466 p=214579 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:11:22,479 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:11:22,479 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:22 +0300 (0:00:01.368)       0:00:37.946 ****** 
2024-06-24 00:11:22,582 p=214579 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:11:22,591 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 00:11:22,591 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:22 +0300 (0:00:00.112)       0:00:38.058 ****** 
2024-06-24 00:11:23,693 p=214579 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:11:23,702 p=214579 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:11:23,702 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:23 +0300 (0:00:01.111)       0:00:39.169 ****** 
2024-06-24 00:11:23,949 p=214579 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "unable to connect to database: ВАЖНО:  открыть файл сопоставления отношений \"global/pg_filenode.map\" не удалось: Нет такого файла или каталога\n"}
2024-06-24 00:11:23,950 p=214579 u=lasolovyov@dtln.local n=ansible | NO MORE HOSTS LEFT *****************************************************************************************************************************
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | app                        : ok=13   changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:11:23 +0300 (0:00:00.248)       0:00:39.418 ****** 
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 17.58s
2024-06-24 00:11:23,951 p=214579 u=lasolovyov@dtln.local n=ansible | common : Install depencies ------------------------------------------------------------------------------------------------------------- 15.76s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.94s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.37s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.11s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.23s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.21s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.20s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 0.18s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | common : Set a en_US.utf8 locale -------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.14s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.11s
2024-06-24 00:11:23,952 p=214579 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.10s
2024-06-24 00:12:52,109 p=214877 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:12:52,423 p=214877 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 00:12:52,556 p=214877 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 00:12:52,631 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 00:12:52,631 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:52 +0300 (0:00:00.079)       0:00:00.079 ****** 
2024-06-24 00:12:54,908 p=214877 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 00:12:55,022 p=214877 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 00:12:55,040 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 00:12:55,040 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:55 +0300 (0:00:02.409)       0:00:02.488 ****** 
2024-06-24 00:12:55,179 p=214877 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:12:55,191 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 00:12:55,191 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:55 +0300 (0:00:00.150)       0:00:02.639 ****** 
2024-06-24 00:12:55,446 p=214877 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:12:55,456 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 00:12:55,456 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:55 +0300 (0:00:00.265)       0:00:02.904 ****** 
2024-06-24 00:12:55,601 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:12:55,612 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 00:12:55,612 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:55 +0300 (0:00:00.156)       0:00:03.060 ****** 
2024-06-24 00:12:56,986 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:12:56,994 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 00:12:56,995 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:56 +0300 (0:00:01.382)       0:00:04.442 ****** 
2024-06-24 00:12:58,170 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:12:58,179 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 00:12:58,179 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:58 +0300 (0:00:01.184)       0:00:05.627 ****** 
2024-06-24 00:12:59,322 p=214877 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 00:12:59,331 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 00:12:59,332 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:59 +0300 (0:00:01.152)       0:00:06.779 ****** 
2024-06-24 00:12:59,566 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:12:59,576 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 00:12:59,576 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:59 +0300 (0:00:00.244)       0:00:07.024 ****** 
2024-06-24 00:12:59,810 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:12:59,818 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 00:12:59,818 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:12:59 +0300 (0:00:00.242)       0:00:07.266 ****** 
2024-06-24 00:13:00,204 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:13:00,222 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install depencies] ***************************************************************************************************************
2024-06-24 00:13:00,222 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:13:00 +0300 (0:00:00.404)       0:00:07.670 ****** 
2024-06-24 00:13:32,877 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:13:32,899 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 00:13:32,900 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:13:32 +0300 (0:00:32.677)       0:00:40.347 ****** 
2024-06-24 00:13:32,954 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:13:32,963 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 00:13:32,963 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:13:32 +0300 (0:00:00.063)       0:00:40.411 ****** 
2024-06-24 00:13:35,185 p=214877 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 00:13:35,194 p=214877 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 00:13:35,194 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:13:35 +0300 (0:00:02.230)       0:00:42.642 ****** 
2024-06-24 00:13:35,266 p=214877 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "bundle config build.nokogiri --use-system-libraries", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-24 00:13:35,268 p=214877 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 00:13:35,268 p=214877 u=lasolovyov@dtln.local n=ansible | app                        : ok=13   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  00:13:35 +0300 (0:00:00.074)       0:00:42.716 ****** 
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | nginx : Install depencies -------------------------------------------------------------------------------------------------------------- 32.68s
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.41s
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 2.23s
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.38s
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.18s
2024-06-24 00:13:35,269 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.15s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.40s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.27s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.24s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.16s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.15s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.07s
2024-06-24 00:13:35,270 p=214877 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 0.06s
2024-06-24 11:12:52,323 p=261449 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:12:52,725 p=261449 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:12:52,882 p=261449 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:12:52,972 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:12:52,972 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:12:52 +0300 (0:00:00.094)       0:00:00.094 ****** 
2024-06-24 11:13:13,229 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-24 11:13:29,111 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-24 11:13:29,126 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:13:29,127 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:29 +0300 (0:00:36.154)       0:00:36.249 ****** 
2024-06-24 11:13:29,277 p=261449 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:13:29,288 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:13:29,288 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:29 +0300 (0:00:00.161)       0:00:36.410 ****** 
2024-06-24 11:13:29,529 p=261449 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:13:29,543 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:13:29,543 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:29 +0300 (0:00:00.254)       0:00:36.665 ****** 
2024-06-24 11:13:29,733 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:13:29,743 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:13:29,743 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:29 +0300 (0:00:00.200)       0:00:36.866 ****** 
2024-06-24 11:13:31,630 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:13:31,643 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:13:31,643 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:31 +0300 (0:00:01.899)       0:00:38.765 ****** 
2024-06-24 11:13:31,837 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:13:31,850 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:13:31,851 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:31 +0300 (0:00:00.207)       0:00:38.973 ****** 
2024-06-24 11:13:31,925 p=261449 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:13:31,934 p=261449 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:13:31,934 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:13:31 +0300 (0:00:00.083)       0:00:39.056 ****** 
2024-06-24 11:15:32,218 p=261449 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "elapsed": 120, "msg": "Timeout when waiting for 127.0.0.1:5432"}
2024-06-24 11:15:32,221 p=261449 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 11:15:32,221 p=261449 u=lasolovyov@dtln.local n=ansible | app                        : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 11:15:32,221 p=261449 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:15:32 +0300 (0:02:00.286)       0:02:39.343 ****** 
2024-06-24 11:15:32,221 p=261449 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 11:15:32,221 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------ 120.29s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL -------------------------------------------------------------------------------------------- 36.15s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.90s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.25s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.21s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.20s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 11:15:32,222 p=261449 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.08s
2024-06-24 11:16:51,161 p=261916 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:16:51,510 p=261916 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:16:51,663 p=261916 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:16:51,977 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:16:51,978 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:51 +0300 (0:00:00.319)       0:00:00.319 ****** 
2024-06-24 11:16:54,630 p=261916 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 11:16:54,810 p=261916 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 11:16:54,826 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:16:54,826 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:54 +0300 (0:00:02.848)       0:00:03.168 ****** 
2024-06-24 11:16:54,981 p=261916 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:16:54,993 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:16:54,993 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:54 +0300 (0:00:00.166)       0:00:03.334 ****** 
2024-06-24 11:16:55,282 p=261916 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:16:55,292 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:16:55,292 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:55 +0300 (0:00:00.299)       0:00:03.634 ****** 
2024-06-24 11:16:55,511 p=261916 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:16:55,523 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:16:55,523 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:55 +0300 (0:00:00.230)       0:00:03.864 ****** 
2024-06-24 11:16:57,048 p=261916 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:16:57,059 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:16:57,059 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:57 +0300 (0:00:01.536)       0:00:05.401 ****** 
2024-06-24 11:16:57,295 p=261916 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:16:57,308 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:16:57,308 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:57 +0300 (0:00:00.248)       0:00:05.650 ****** 
2024-06-24 11:16:57,415 p=261916 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:16:57,424 p=261916 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:16:57,425 p=261916 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:16:57 +0300 (0:00:00.116)       0:00:05.766 ****** 
2024-06-24 11:17:56,646 p=261916 u=lasolovyov@dtln.local n=ansible |  [ERROR]: User interrupted execution

2024-06-24 11:17:58,152 p=262120 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:17:58,534 p=262120 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:17:58,685 p=262120 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:17:58,779 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:17:58,779 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:17:58 +0300 (0:00:00.099)       0:00:00.099 ****** 
2024-06-24 11:18:01,242 p=262120 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 11:18:01,370 p=262120 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 11:18:01,383 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:18:01,383 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:01 +0300 (0:00:02.603)       0:00:02.702 ****** 
2024-06-24 11:18:01,600 p=262120 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:18:01,615 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:18:01,615 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:01 +0300 (0:00:00.232)       0:00:02.934 ****** 
2024-06-24 11:18:01,899 p=262120 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:18:01,911 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:18:01,912 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:01 +0300 (0:00:00.296)       0:00:03.231 ****** 
2024-06-24 11:18:02,105 p=262120 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:18:02,118 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:18:02,118 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:02 +0300 (0:00:00.206)       0:00:03.437 ****** 
2024-06-24 11:18:03,521 p=262120 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:18:03,535 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:18:03,536 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:03 +0300 (0:00:01.417)       0:00:04.855 ****** 
2024-06-24 11:18:03,796 p=262120 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:18:03,806 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:18:03,806 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:03 +0300 (0:00:00.270)       0:00:05.125 ****** 
2024-06-24 11:18:04,875 p=262120 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:18:04,889 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:18:04,889 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:04 +0300 (0:00:01.082)       0:00:06.208 ****** 
2024-06-24 11:18:06,004 p=262120 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:18:06,015 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 11:18:06,015 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:06 +0300 (0:00:01.125)       0:00:07.334 ****** 
2024-06-24 11:18:06,274 p=262120 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:18:06,284 p=262120 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 11:18:06,284 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:06 +0300 (0:00:00.269)       0:00:07.604 ****** 
2024-06-24 11:18:06,487 p=262120 u=lasolovyov@dtln.local n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ПОДСКАЗКА:  Use the same collation as in the template database, or use template0 as template.
2024-06-24 11:18:06,487 p=262120 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Database query failed: new collation (en_US.UTF-8) is incompatible with the collation of the template database (ru_RU.UTF-8)\nПОДСКАЗКА:  Use the same collation as in the template database, or use template0 as template.\n"}
2024-06-24 11:18:06,489 p=262120 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 11:18:06,489 p=262120 u=lasolovyov@dtln.local n=ansible | app                        : ok=9    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:18:06 +0300 (0:00:00.205)       0:00:07.809 ****** 
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.60s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.42s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.13s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.08s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.30s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.27s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.23s
2024-06-24 11:18:06,490 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.21s
2024-06-24 11:18:06,491 p=262120 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.21s
2024-06-24 11:19:36,905 p=262409 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:19:37,213 p=262409 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:19:37,344 p=262409 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:19:37,418 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:19:37,419 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:37 +0300 (0:00:00.078)       0:00:00.078 ****** 
2024-06-24 11:19:39,561 p=262409 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 11:19:39,689 p=262409 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 11:19:39,704 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:19:39,704 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:39 +0300 (0:00:02.285)       0:00:02.363 ****** 
2024-06-24 11:19:39,863 p=262409 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:19:39,873 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:19:39,873 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:39 +0300 (0:00:00.168)       0:00:02.532 ****** 
2024-06-24 11:19:40,116 p=262409 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:19:40,128 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:19:40,129 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:40 +0300 (0:00:00.255)       0:00:02.787 ****** 
2024-06-24 11:19:40,275 p=262409 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:19:40,286 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:19:40,286 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:40 +0300 (0:00:00.157)       0:00:02.945 ****** 
2024-06-24 11:19:41,774 p=262409 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:19:41,784 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:19:41,784 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:41 +0300 (0:00:01.498)       0:00:04.443 ****** 
2024-06-24 11:19:42,067 p=262409 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:19:42,077 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:19:42,077 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:42 +0300 (0:00:00.292)       0:00:04.736 ****** 
2024-06-24 11:19:42,254 p=262409 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:19:42,264 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:19:42,264 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:42 +0300 (0:00:00.187)       0:00:04.923 ****** 
2024-06-24 11:19:43,363 p=262409 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:19:43,372 p=262409 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 11:19:43,372 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:43 +0300 (0:00:01.107)       0:00:06.031 ****** 
2024-06-24 11:19:43,531 p=262409 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "unable to connect to database: FATAL:  could not open relation mapping file \"global/pg_filenode.map\": No such file or directory\n"}
2024-06-24 11:19:43,533 p=262409 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 11:19:43,533 p=262409 u=lasolovyov@dtln.local n=ansible | app                        : ok=8    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 11:19:43,533 p=262409 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:19:43 +0300 (0:00:00.161)       0:00:06.192 ****** 
2024-06-24 11:19:43,533 p=262409 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.29s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.50s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.11s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.29s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.26s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.17s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 11:19:43,534 p=262409 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.16s
2024-06-24 11:23:51,922 p=262983 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:23:52,238 p=262983 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:23:52,381 p=262983 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:23:52,462 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:23:52,462 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:52 +0300 (0:00:00.085)       0:00:00.085 ****** 
2024-06-24 11:23:54,751 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 11:23:54,884 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 11:23:54,897 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:23:54,897 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:54 +0300 (0:00:02.434)       0:00:02.519 ****** 
2024-06-24 11:23:55,040 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:23:55,049 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:23:55,049 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:55 +0300 (0:00:00.152)       0:00:02.671 ****** 
2024-06-24 11:23:55,305 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:23:55,314 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:23:55,314 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:55 +0300 (0:00:00.264)       0:00:02.936 ****** 
2024-06-24 11:23:55,466 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:23:55,478 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:23:55,478 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:55 +0300 (0:00:00.164)       0:00:03.101 ****** 
2024-06-24 11:23:57,021 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:23:57,035 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:23:57,035 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:57 +0300 (0:00:01.556)       0:00:04.657 ****** 
2024-06-24 11:23:57,237 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:23:57,246 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:23:57,246 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:57 +0300 (0:00:00.211)       0:00:04.868 ****** 
2024-06-24 11:23:58,349 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:23:58,360 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:23:58,360 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:58 +0300 (0:00:01.113)       0:00:05.982 ****** 
2024-06-24 11:23:59,509 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:23:59,521 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 11:23:59,521 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:59 +0300 (0:00:01.161)       0:00:07.143 ****** 
2024-06-24 11:23:59,746 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:23:59,758 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 11:23:59,758 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:23:59 +0300 (0:00:00.237)       0:00:07.380 ****** 
2024-06-24 11:24:00,143 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:24:00,166 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install depencies] ***************************************************************************************************************
2024-06-24 11:24:00,166 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:00 +0300 (0:00:00.407)       0:00:07.788 ****** 
2024-06-24 11:24:15,155 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:24:15,172 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 11:24:15,172 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:15 +0300 (0:00:15.005)       0:00:22.794 ****** 
2024-06-24 11:24:15,216 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:24:15,225 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 11:24:15,226 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:15 +0300 (0:00:00.053)       0:00:22.848 ****** 
2024-06-24 11:24:16,895 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:24:16,905 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 11:24:16,905 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:16 +0300 (0:00:01.679)       0:00:24.527 ****** 
2024-06-24 11:24:32,753 p=262983 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=ruby-devel)
2024-06-24 11:24:32,855 p=262983 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=ruby)
2024-06-24 11:24:32,866 p=262983 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 11:24:32,866 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:32 +0300 (0:00:15.961)       0:00:40.489 ****** 
2024-06-24 11:24:32,945 p=262983 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "bundle config build.nokogiri --use-system-libraries", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-24 11:24:32,946 p=262983 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | app                        : ok=14   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:24:32 +0300 (0:00:00.080)       0:00:40.569 ****** 
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app -------------------------------------------------------------------------------------------------------- 15.96s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | nginx : Install depencies -------------------------------------------------------------------------------------------------------------- 15.01s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 2.43s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 1.68s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.56s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.16s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.11s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.41s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.26s
2024-06-24 11:24:32,947 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-24 11:24:32,948 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.21s
2024-06-24 11:24:32,948 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.16s
2024-06-24 11:24:32,948 p=262983 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.15s
2024-06-24 11:24:32,948 p=262983 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.08s
2024-06-24 11:24:32,948 p=262983 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 0.05s
2024-06-24 11:37:01,081 p=264462 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:37:01,521 p=264462 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 11:37:01,703 p=264462 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 11:37:01,807 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 11:37:01,808 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:01 +0300 (0:00:00.109)       0:00:00.109 ****** 
2024-06-24 11:37:27,493 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-24 11:37:49,517 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-24 11:37:49,529 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 11:37:49,529 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:49 +0300 (0:00:47.721)       0:00:47.831 ****** 
2024-06-24 11:37:49,666 p=264462 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:37:49,680 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop and disable postgresql.service] ************************************************************************************************
2024-06-24 11:37:49,680 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:49 +0300 (0:00:00.150)       0:00:47.982 ****** 
2024-06-24 11:37:49,907 p=264462 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:37:49,916 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 11:37:49,917 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:49 +0300 (0:00:00.236)       0:00:48.218 ****** 
2024-06-24 11:37:50,011 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:50,021 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 11:37:50,021 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:50 +0300 (0:00:00.104)       0:00:48.323 ****** 
2024-06-24 11:37:51,781 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:51,790 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 11:37:51,791 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:51 +0300 (0:00:01.769)       0:00:50.092 ****** 
2024-06-24 11:37:51,977 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:51,985 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start new DB] ***********************************************************************************************************************
2024-06-24 11:37:51,986 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:51 +0300 (0:00:00.194)       0:00:50.287 ****** 
2024-06-24 11:37:53,058 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:53,067 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 11:37:53,067 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:53 +0300 (0:00:01.081)       0:00:51.369 ****** 
2024-06-24 11:37:54,156 p=264462 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 11:37:54,165 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 11:37:54,165 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:54 +0300 (0:00:01.098)       0:00:52.467 ****** 
2024-06-24 11:37:54,392 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:54,402 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 11:37:54,403 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:54 +0300 (0:00:00.237)       0:00:52.704 ****** 
2024-06-24 11:37:54,938 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:37:54,955 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install depencies] ***************************************************************************************************************
2024-06-24 11:37:54,955 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:37:54 +0300 (0:00:00.552)       0:00:53.256 ****** 
2024-06-24 11:38:15,899 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:38:15,915 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 11:38:15,916 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:38:15 +0300 (0:00:20.961)       0:01:14.218 ****** 
2024-06-24 11:38:15,964 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:38:15,973 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 11:38:15,974 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:38:15 +0300 (0:00:00.057)       0:01:14.275 ****** 
2024-06-24 11:38:17,850 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 11:38:17,859 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 11:38:17,859 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:38:17 +0300 (0:00:01.885)       0:01:16.160 ****** 
2024-06-24 11:38:38,926 p=264462 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-24 11:38:38,936 p=264462 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 11:38:38,936 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:38:38 +0300 (0:00:21.077)       0:01:37.238 ****** 
2024-06-24 11:38:38,990 p=264462 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "bundle config build.nokogiri --use-system-libraries", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-24 11:38:38,991 p=264462 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 11:38:38,991 p=264462 u=lasolovyov@dtln.local n=ansible | app                        : ok=14   changed=11   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  11:38:38 +0300 (0:00:00.055)       0:01:37.293 ****** 
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL -------------------------------------------------------------------------------------------- 47.72s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app -------------------------------------------------------------------------------------------------------- 21.08s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | nginx : Install depencies -------------------------------------------------------------------------------------------------------------- 20.96s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 1.89s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.77s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.10s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Start new DB ----------------------------------------------------------------------------------------------------------------------- 1.08s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.55s
2024-06-24 11:38:38,992 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Stop and disable postgresql.service ------------------------------------------------------------------------------------------------ 0.24s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.20s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.15s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.10s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 0.06s
2024-06-24 11:38:38,993 p=264462 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.06s
2024-06-24 12:09:10,462 p=268651 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 12:09:10,865 p=268651 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 12:09:11,020 p=268651 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 12:09:11,124 p=268651 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *******************************************************************************************************************
2024-06-24 12:09:11,125 p=268651 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  12:09:11 +0300 (0:00:00.109)       0:00:00.109 ****** 
2024-06-24 12:09:13,983 p=268651 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 12:09:13,996 p=268651 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ******************************************************************************************************
2024-06-24 12:09:13,997 p=268651 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  12:09:13 +0300 (0:00:02.871)       0:00:02.980 ****** 
2024-06-24 12:09:14,203 p=268651 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 12:09:14,213 p=268651 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] **************************************************************************************************
2024-06-24 12:09:14,213 p=268651 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  12:09:14 +0300 (0:00:00.216)       0:00:03.197 ****** 
2024-06-24 12:09:14,489 p=268651 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 12:09:14,522 p=268651 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 12:09:14,523 p=268651 u=lasolovyov@dtln.local n=ansible | app                        : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-06-24 12:09:14,523 p=268651 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  12:09:14 +0300 (0:00:00.309)       0:00:03.507 ****** 
2024-06-24 12:09:14,523 p=268651 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 12:09:14,523 p=268651 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ------------------------------------------------------------------------------------------------------------------- 2.87s
2024-06-24 12:09:14,523 p=268651 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service -------------------------------------------------------------------------------------------------- 0.31s
2024-06-24 12:09:14,524 p=268651 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ------------------------------------------------------------------------------------------------------ 0.22s
2024-06-24 18:12:41,892 p=310093 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:12:42,209 p=310093 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:12:42,345 p=310093 u=lasolovyov@dtln.local n=ansible | ERROR! couldn't resolve module/action 'rvm'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/home/lasolovyov@dtln.local/slurm/xpaste_practicum/roles/app/tasks/main.yml': line 30, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Install Ruby 2.5.1
  ^ here

2024-06-24 18:19:56,412 p=310966 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:19:56,733 p=310966 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:19:56,908 p=310966 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:19:56,925 p=310966 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:19:57,026 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 18:19:57,027 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:19:57 +0300 (0:00:00.105)       0:00:00.105 ****** 
2024-06-24 18:19:58,992 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:19:59,006 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 18:19:59,006 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:19:59 +0300 (0:00:01.979)       0:00:02.084 ****** 
2024-06-24 18:19:59,181 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:19:59,193 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 18:19:59,193 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:19:59 +0300 (0:00:00.187)       0:00:02.272 ****** 
2024-06-24 18:20:20,081 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:20:20,094 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ********************************************************************************************************
2024-06-24 18:20:20,094 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:20:20 +0300 (0:00:20.901)       0:00:23.173 ****** 
2024-06-24 18:20:55,552 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-24 18:20:55,696 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-24 18:20:55,708 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 18:20:55,708 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:20:55 +0300 (0:00:35.614)       0:00:58.787 ****** 
2024-06-24 18:20:55,833 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:20:55,850 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 18:20:55,850 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:20:55 +0300 (0:00:00.141)       0:00:58.929 ****** 
2024-06-24 18:21:28,669 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-24 18:22:03,294 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-24 18:22:37,088 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-24 18:22:37,099 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 18:22:37,099 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:37 +0300 (0:01:41.248)       0:02:40.177 ****** 
2024-06-24 18:22:37,246 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:22:37,255 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] ************************************************************************************************************
2024-06-24 18:22:37,256 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:37 +0300 (0:00:00.156)       0:02:40.334 ****** 
2024-06-24 18:22:37,467 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:22:37,476 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 18:22:37,477 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:37 +0300 (0:00:00.220)       0:02:40.555 ****** 
2024-06-24 18:22:37,574 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:37,583 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 18:22:37,583 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:37 +0300 (0:00:00.106)       0:02:40.662 ****** 
2024-06-24 18:22:39,489 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:39,499 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 18:22:39,499 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:39 +0300 (0:00:01.916)       0:02:42.578 ****** 
2024-06-24 18:22:39,693 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:39,702 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] **************************************************************************************************
2024-06-24 18:22:39,702 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:39 +0300 (0:00:00.202)       0:02:42.781 ****** 
2024-06-24 18:22:40,865 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:40,875 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 18:22:40,875 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:40 +0300 (0:00:01.172)       0:02:43.953 ****** 
2024-06-24 18:22:41,978 p=310966 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:22:41,986 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 18:22:41,987 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:41 +0300 (0:00:01.111)       0:02:45.065 ****** 
2024-06-24 18:22:42,200 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:42,210 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 18:22:42,210 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:42 +0300 (0:00:00.223)       0:02:45.289 ****** 
2024-06-24 18:22:42,638 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:22:42,661 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *******************************************************************************************************************
2024-06-24 18:22:42,661 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:22:42 +0300 (0:00:00.451)       0:02:45.740 ****** 
2024-06-24 18:23:16,346 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:16,356 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ******************************************************************************************************
2024-06-24 18:23:16,356 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:16 +0300 (0:00:33.695)       0:03:19.435 ****** 
2024-06-24 18:23:16,442 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:16,451 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] **************************************************************************************************
2024-06-24 18:23:16,451 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:16 +0300 (0:00:00.095)       0:03:19.530 ****** 
2024-06-24 18:23:16,616 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:16,636 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:23:16,636 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:16 +0300 (0:00:00.184)       0:03:19.715 ****** 
2024-06-24 18:23:16,684 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:16,694 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:23:16,694 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:16 +0300 (0:00:00.057)       0:03:19.772 ****** 
2024-06-24 18:23:18,718 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:18,728 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:23:18,728 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:18 +0300 (0:00:02.034)       0:03:21.807 ****** 
2024-06-24 18:23:52,596 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-24 18:23:52,609 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:23:52,609 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:52 +0300 (0:00:33.880)       0:03:55.688 ****** 
2024-06-24 18:23:56,801 p=310966 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:23:56,811 p=310966 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:23:56,811 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:56 +0300 (0:00:04.201)       0:03:59.889 ****** 
2024-06-24 18:23:56,902 p=310966 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "source /etc/profile.d/rvm.sh", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-24 18:23:56,904 p=310966 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:23:56,904 p=310966 u=lasolovyov@dtln.local n=ansible | app                        : ok=22   changed=16   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 18:23:56,904 p=310966 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:23:56 +0300 (0:00:00.093)       0:03:59.983 ****** 
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------- 101.25s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------- 35.61s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app -------------------------------------------------------------------------------------------------------- 33.88s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ------------------------------------------------------------------------------------------------------------------ 33.70s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 20.90s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 4.20s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 2.03s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.98s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.92s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service -------------------------------------------------------------------------------------------------- 1.17s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.11s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.45s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-24 18:23:56,905 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ------------------------------------------------------------------------------------------------------------ 0.22s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.20s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.19s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service -------------------------------------------------------------------------------------------------- 0.18s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.14s
2024-06-24 18:23:56,906 p=310966 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.11s
2024-06-24 18:28:42,855 p=313589 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:28:43,185 p=313589 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:28:43,360 p=313589 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:28:43,379 p=313589 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:28:43,479 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:28:43,480 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:43 +0300 (0:00:00.104)       0:00:00.104 ****** 
2024-06-24 18:28:45,326 p=313589 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:28:45,336 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:28:45,336 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:45 +0300 (0:00:01.856)       0:00:01.961 ****** 
2024-06-24 18:28:49,066 p=313589 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:28:49,076 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:28:49,076 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:49 +0300 (0:00:03.740)       0:00:05.701 ****** 
2024-06-24 18:28:49,870 p=313589 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 18:28:49,881 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:28:49,882 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:49 +0300 (0:00:00.805)       0:00:06.507 ****** 
2024-06-24 18:28:54,170 p=313589 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:28:54,179 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:28:54,179 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:54 +0300 (0:00:04.297)       0:00:10.804 ****** 
2024-06-24 18:28:54,263 p=313589 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:28:54,272 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 18:28:54,272 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:28:54 +0300 (0:00:00.092)       0:00:10.897 ****** 
2024-06-24 18:29:36,105 p=313589 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:29:36,117 p=313589 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27] ****************************************************************************************************
2024-06-24 18:29:36,117 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:29:36 +0300 (0:00:41.845)       0:00:52.742 ****** 
2024-06-24 18:29:40,545 p=313589 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "/usr/bin/gem install --version 2.3.27 --user-install --no-document bundler", "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "", "stdout_lines": []}
2024-06-24 18:29:40,546 p=313589 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:29:40,546 p=313589 u=lasolovyov@dtln.local n=ansible | app                        : ok=6    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:29:40 +0300 (0:00:04.429)       0:00:57.172 ****** 
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 --------------------------------------------------------------------------------------------------------------- 41.85s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 ---------------------------------------------------------------------------------------------------- 4.43s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 4.30s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 3.74s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 1.86s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app --------------------------------------------------------------------------------------------------------- 0.81s
2024-06-24 18:29:40,547 p=313589 u=lasolovyov@dtln.local n=ansible | app : Load RVM into current shell session ----------------------------------------------------------------------------------------------- 0.09s
2024-06-24 18:33:11,636 p=314115 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:33:11,952 p=314115 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:33:12,111 p=314115 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:33:12,128 p=314115 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:33:12,219 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:33:12,220 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:12 +0300 (0:00:00.095)       0:00:00.095 ****** 
2024-06-24 18:33:14,131 p=314115 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:33:14,147 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:33:14,148 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:14 +0300 (0:00:01.927)       0:00:02.023 ****** 
2024-06-24 18:33:18,408 p=314115 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:33:18,419 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:33:18,420 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:18 +0300 (0:00:04.271)       0:00:06.295 ****** 
2024-06-24 18:33:19,260 p=314115 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 18:33:19,273 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:33:19,274 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:19 +0300 (0:00:00.853)       0:00:07.149 ****** 
2024-06-24 18:33:23,629 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:33:23,654 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:33:23,654 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:23 +0300 (0:00:04.380)       0:00:11.530 ****** 
2024-06-24 18:33:23,754 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:33:23,765 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 18:33:23,765 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:23 +0300 (0:00:00.110)       0:00:11.640 ****** 
2024-06-24 18:33:24,589 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:33:24,599 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27] ****************************************************************************************************
2024-06-24 18:33:24,599 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:24 +0300 (0:00:00.834)       0:00:12.475 ****** 
2024-06-24 18:33:25,149 p=314115 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:33:25,162 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ******************************************************************************************************************
2024-06-24 18:33:25,162 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:33:25 +0300 (0:00:00.562)       0:00:13.037 ****** 
2024-06-24 18:34:47,188 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:34:47,197 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *******************************************************************************************************************
2024-06-24 18:34:47,198 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:34:47 +0300 (0:01:22.035)       0:01:35.073 ****** 
2024-06-24 18:35:28,464 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:35:28,473 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 18:35:28,473 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:35:28 +0300 (0:00:41.275)       0:02:16.348 ****** 
2024-06-24 18:35:28,715 p=314115 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:35:28,724 p=314115 u=lasolovyov@dtln.local n=ansible | TASK [app : Install gems without development dependencies] *************************************************************************************
2024-06-24 18:35:28,724 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:35:28 +0300 (0:00:00.251)       0:02:16.599 ****** 
2024-06-24 18:35:39,831 p=314115 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": ["bundle", "install", "--clean", "--no-cache", "--without", "development"], "delta": "0:00:11.049182", "end": "2024-06-24 18:35:39.320079", "msg": "non-zero return code", "rc": 5, "start": "2024-06-24 18:35:28.270897", "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 12.3.1\nInstalling rake 12.3.1\nFetching concurrent-ruby 1.0.5\nInstalling concurrent-ruby 1.0.5\nFetching i18n 1.0.0\nInstalling i18n 1.0.0\nFetching minitest 5.11.3\nInstalling minitest 5.11.3\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.5\nInstalling tzinfo 1.2.5\nFetching activesupport 5.2.0\nInstalling activesupport 5.2.0\nFetching builder 3.2.3\nInstalling builder 3.2.3\nFetching erubi 1.7.1\nInstalling erubi 1.7.1\nFetching mini_portile2 2.3.0\nInstalling mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240624-15316-1nstnm8.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Fetching rake 12.3.1", "Installing rake 12.3.1", "Fetching concurrent-ruby 1.0.5", "Installing concurrent-ruby 1.0.5", "Fetching i18n 1.0.0", "Installing i18n 1.0.0", "Fetching minitest 5.11.3", "Installing minitest 5.11.3", "Fetching thread_safe 0.3.6", "Installing thread_safe 0.3.6", "Fetching tzinfo 1.2.5", "Installing tzinfo 1.2.5", "Fetching activesupport 5.2.0", "Installing activesupport 5.2.0", "Fetching builder 3.2.3", "Installing builder 3.2.3", "Fetching erubi 1.7.1", "Installing erubi 1.7.1", "Fetching mini_portile2 2.3.0", "Installing mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240624-15316-1nstnm8.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | app                        : ok=10   changed=6    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:35:39 +0300 (0:00:11.108)       0:02:27.708 ****** 
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | app : Download node js ----------------------------------------------------------------------------------------------------------------- 82.04s
2024-06-24 18:35:39,833 p=314115 u=lasolovyov@dtln.local n=ansible | app : Install node js ------------------------------------------------------------------------------------------------------------------ 41.28s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Install gems without development dependencies ------------------------------------------------------------------------------------ 11.11s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 4.38s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 4.27s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 1.93s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app --------------------------------------------------------------------------------------------------------- 0.85s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 ---------------------------------------------------------------------------------------------------------------- 0.83s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 ---------------------------------------------------------------------------------------------------- 0.56s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.25s
2024-06-24 18:35:39,834 p=314115 u=lasolovyov@dtln.local n=ansible | app : Load RVM into current shell session ----------------------------------------------------------------------------------------------- 0.11s
2024-06-24 18:38:54,584 p=314915 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:38:55,012 p=314915 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:38:55,216 p=314915 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:38:55,240 p=314915 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:38:55,362 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:38:55,362 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:38:55 +0300 (0:00:00.126)       0:00:00.126 ****** 
2024-06-24 18:38:57,553 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:38:57,567 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:38:57,567 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:38:57 +0300 (0:00:02.204)       0:00:02.331 ****** 
2024-06-24 18:39:01,680 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:39:01,691 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:39:01,691 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:01 +0300 (0:00:04.124)       0:00:06.455 ****** 
2024-06-24 18:39:02,531 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 18:39:02,544 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:39:02,544 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:02 +0300 (0:00:00.852)       0:00:07.308 ****** 
2024-06-24 18:39:06,963 p=314915 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:39:06,973 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:39:06,973 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:06 +0300 (0:00:04.428)       0:00:11.737 ****** 
2024-06-24 18:39:07,053 p=314915 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:39:07,065 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 18:39:07,066 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:07 +0300 (0:00:00.092)       0:00:11.830 ****** 
2024-06-24 18:39:07,885 p=314915 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:39:07,899 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27] ****************************************************************************************************
2024-06-24 18:39:07,899 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:07 +0300 (0:00:00.833)       0:00:12.663 ****** 
2024-06-24 18:39:08,476 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:39:08,488 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install nokogiri version 1.8.2] ****************************************************************************************************
2024-06-24 18:39:08,488 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:08 +0300 (0:00:00.588)       0:00:13.252 ****** 
2024-06-24 18:39:09,006 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:39:09,016 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ******************************************************************************************************************
2024-06-24 18:39:09,017 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:39:09 +0300 (0:00:00.528)       0:00:13.781 ****** 
2024-06-24 18:40:30,622 p=314915 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:40:30,632 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *******************************************************************************************************************
2024-06-24 18:40:30,632 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:40:30 +0300 (0:01:21.615)       0:01:35.397 ****** 
2024-06-24 18:40:30,839 p=314915 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:40:30,849 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 18:40:30,849 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:40:30 +0300 (0:00:00.216)       0:01:35.613 ****** 
2024-06-24 18:40:31,152 p=314915 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:40:31,161 p=314915 u=lasolovyov@dtln.local n=ansible | TASK [app : Install gems without development dependencies] *************************************************************************************
2024-06-24 18:40:31,161 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:40:31 +0300 (0:00:00.312)       0:01:35.925 ****** 
2024-06-24 18:41:29,154 p=314915 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": ["bundle", "install", "--clean", "--no-cache", "--without", "development"], "delta": "0:00:57.933318", "end": "2024-06-24 18:41:28.638741", "msg": "non-zero return code", "rc": 15, "start": "2024-06-24 18:40:30.705423", "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nUsing rake 12.3.1\nUsing concurrent-ruby 1.0.5\nUsing i18n 1.0.0\nUsing minitest 5.11.3\nUsing thread_safe 0.3.6\nUsing tzinfo 1.2.5\nUsing activesupport 5.2.0\nUsing builder 3.2.3\nUsing erubi 1.7.1\nUsing mini_portile2 2.3.0\nUsing nokogiri 1.8.2\nFetching rails-dom-testing 2.0.3\nInstalling rails-dom-testing 2.0.3\nFetching crass 1.0.4\nInstalling crass 1.0.4\nFetching loofah 2.2.3\nInstalling loofah 2.2.3\nFetching rails-html-sanitizer 1.0.4\nInstalling rails-html-sanitizer 1.0.4\nFetching actionview 5.2.0\nInstalling actionview 5.2.0\nFetching rack 2.0.4\nInstalling rack 2.0.4\nFetching rack-test 1.0.0\nInstalling rack-test 1.0.0\nFetching actionpack 5.2.0\nInstalling actionpack 5.2.0\nFetching nio4r 2.3.0\nInstalling nio4r 2.3.0 with native extensions\nFetching websocket-extensions 0.1.3\nInstalling websocket-extensions 0.1.3\nFetching websocket-driver 0.7.0\nInstalling websocket-driver 0.7.0 with native extensions\nFetching actioncable 5.2.0\nInstalling actioncable 5.2.0\nFetching globalid 0.4.1\nInstalling globalid 0.4.1\nFetching activejob 5.2.0\nInstalling activejob 5.2.0\nFetching mini_mime 1.0.0\nInstalling mini_mime 1.0.0\nFetching mail 2.7.0\nInstalling mail 2.7.0\nFetching actionmailer 5.2.0\nInstalling actionmailer 5.2.0\nFetching activemodel 5.2.0\nInstalling activemodel 5.2.0\nFetching arel 9.0.0\nInstalling arel 9.0.0\nFetching activerecord 5.2.0\nInstalling activerecord 5.2.0\nFetching mimemagic 0.3.10\nInstalling mimemagic 0.3.10 with native extensions\nFetching marcel 0.3.2\nInstalling marcel 0.3.2\nFetching activestorage 5.2.0\nInstalling activestorage 5.2.0\nFetching public_suffix 3.0.2\nInstalling public_suffix 3.0.2\nFetching addressable 2.5.2\nInstalling addressable 2.5.2\nFetching airbrake-ruby 1.8.0\nInstalling airbrake-ruby 1.8.0\nFetching airbrake 5.8.1\nInstalling airbrake 5.8.1\nFetching msgpack 1.2.2\nInstalling msgpack 1.2.2 with native extensions\nFetching bootsnap 1.1.8\nInstalling bootsnap 1.1.8 with native extensions\nUsing bundler 1.17.3\nFetching byebug 10.0.0\nInstalling byebug 10.0.0 with native extensions\nFetching xpath 3.0.0\nInstalling xpath 3.0.0\nFetching capybara 2.18.0\nInstalling capybara 2.18.0\nFetching launchy 2.4.3\nInstalling launchy 2.4.3\nFetching capybara-screenshot 1.0.18\nInstalling capybara-screenshot 1.0.18\nFetching clipboard-rails 1.5.5\nInstalling clipboard-rails 1.5.5\nFetching coffee-script-source 1.12.2\nInstalling coffee-script-source 1.12.2\nFetching execjs 2.7.0\nInstalling execjs 2.7.0\nFetching coffee-script 2.4.1\nInstalling coffee-script 2.4.1\nFetching method_source 0.9.0\nInstalling method_source 0.9.0\nFetching thor 0.20.0\nInstalling thor 0.20.0\nFetching railties 5.2.0\nInstalling railties 5.2.0\nFetching coffee-rails 4.2.2\nInstalling coffee-rails 4.2.2\nFetching connection_pool 2.2.2\nInstalling connection_pool 2.2.2\nFetching safe_yaml 1.0.4\nInstalling safe_yaml 1.0.4\nFetching crack 0.4.3\nInstalling crack 0.4.3\nFetching database_cleaner 1.6.2\nInstalling database_cleaner 1.6.2\nFetching diff-lcs 1.3\nInstalling diff-lcs 1.3\nFetching enumerize 2.2.2\nInstalling enumerize 2.2.2\nFetching et-orbi 1.1.6\nInstalling et-orbi 1.1.6\nFetching factory_bot 4.8.2\nInstalling factory_bot 4.8.2\nFetching factory_bot_rails 4.8.2\nInstalling factory_bot_rails 4.8.2\nFetching faker 1.8.7\nInstalling faker 1.8.7\nFetching ffi 1.9.23\nInstalling ffi 1.9.23 with native extensions\nFetching raabro 1.1.6\nInstalling raabro 1.1.6\nFetching fugit 1.1.6\nInstalling fugit 1.1.6\nFetching hashdiff 0.3.7\nInstalling hashdiff 0.3.7\nFetching http_accept_language 2.1.1\nInstalling http_accept_language 2.1.1\nFetching multi_json 1.13.1\nInstalling multi_json 1.13.1\nFetching jbuilder 2.7.0\nInstalling jbuilder 2.7.0\nFetching jquery-rails 4.3.1\nInstalling jquery-rails 4.3.1\nFetching json 1.8.6\nInstalling json 1.8.6 with native extensions\nFetching paranoia 2.4.1\nInstalling paranoia 2.4.1\nFetching pg 0.21.0\nInstalling pg 0.21.0 with native extensions\nFetching puma 3.11.3\nInstalling puma 3.11.3 with native extensions\nFetching rack-protection 2.0.4\nInstalling rack-protection 2.0.4\nFetching sprockets 3.7.1\nInstalling sprockets 3.7.1\nFetching sprockets-rails 3.2.1\nInstalling sprockets-rails 3.2.1\nFetching rails 5.2.0\nInstalling rails 5.2.0\nFetching rb-fsevent 0.10.3\nInstalling rb-fsevent 0.10.3\nFetching rb-inotify 0.9.10\nInstalling rb-inotify 0.9.10\nFetching rdoc 4.3.0\nInstalling rdoc 4.3.0\nFetching redcarpet 3.4.0\nInstalling redcarpet 3.4.0 with native extensions\nFetching redis 4.0.2\nInstalling redis 4.0.2\nFetching rspec-support 3.7.1\nInstalling rspec-support 3.7.1\nFetching rspec-core 3.7.1\nInstalling rspec-core 3.7.1\nFetching rspec-expectations 3.7.0\nInstalling rspec-expectations 3.7.0\nFetching rspec-mocks 3.7.0\nInstalling rspec-mocks 3.7.0\nFetching rspec-rails 3.7.2\nInstalling rspec-rails 3.7.2\nFetching rufus-scheduler 3.4.2\nInstalling rufus-scheduler 3.4.2\nFetching russian 0.6.0\nInstalling russian 0.6.0\nFetching sass-listen 4.0.0\nInstalling sass-listen 4.0.0\nFetching sass 3.5.5\nInstalling sass 3.5.5\nFetching tilt 2.0.8\nInstalling tilt 2.0.8\nFetching sass-rails 5.0.7\nInstalling sass-rails 5.0.7\nFetching sdoc 0.4.1\nInstalling sdoc 0.4.1\nFetching semantic-ui-sass 2.0.7.0\nInstalling semantic-ui-sass 2.0.7.0\nFetching sidekiq 5.2.2\nInstalling sidekiq 5.2.2\nFetching sidekiq-cron 0.6.3\nInstalling sidekiq-cron 0.6.3\nFetching timecop 0.9.1\nInstalling timecop 0.9.1\nFetching uglifier 4.1.7\nInstalling uglifier 4.1.7\nFetching webmock 2.3.2\nInstalling webmock 2.3.2\nBundle complete! 39 Gemfile dependencies, 103 gems now installed.\nGems in the group development were not installed.\nUse `bundle info [gemname]` to see where a bundled gem is installed.\nCleaning all the gems on your system is dangerous! If you're sure you want to\nremove every system gem not in this bundle, run `bundle clean --force`.", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Using rake 12.3.1", "Using concurrent-ruby 1.0.5", "Using i18n 1.0.0", "Using minitest 5.11.3", "Using thread_safe 0.3.6", "Using tzinfo 1.2.5", "Using activesupport 5.2.0", "Using builder 3.2.3", "Using erubi 1.7.1", "Using mini_portile2 2.3.0", "Using nokogiri 1.8.2", "Fetching rails-dom-testing 2.0.3", "Installing rails-dom-testing 2.0.3", "Fetching crass 1.0.4", "Installing crass 1.0.4", "Fetching loofah 2.2.3", "Installing loofah 2.2.3", "Fetching rails-html-sanitizer 1.0.4", "Installing rails-html-sanitizer 1.0.4", "Fetching actionview 5.2.0", "Installing actionview 5.2.0", "Fetching rack 2.0.4", "Installing rack 2.0.4", "Fetching rack-test 1.0.0", "Installing rack-test 1.0.0", "Fetching actionpack 5.2.0", "Installing actionpack 5.2.0", "Fetching nio4r 2.3.0", "Installing nio4r 2.3.0 with native extensions", "Fetching websocket-extensions 0.1.3", "Installing websocket-extensions 0.1.3", "Fetching websocket-driver 0.7.0", "Installing websocket-driver 0.7.0 with native extensions", "Fetching actioncable 5.2.0", "Installing actioncable 5.2.0", "Fetching globalid 0.4.1", "Installing globalid 0.4.1", "Fetching activejob 5.2.0", "Installing activejob 5.2.0", "Fetching mini_mime 1.0.0", "Installing mini_mime 1.0.0", "Fetching mail 2.7.0", "Installing mail 2.7.0", "Fetching actionmailer 5.2.0", "Installing actionmailer 5.2.0", "Fetching activemodel 5.2.0", "Installing activemodel 5.2.0", "Fetching arel 9.0.0", "Installing arel 9.0.0", "Fetching activerecord 5.2.0", "Installing activerecord 5.2.0", "Fetching mimemagic 0.3.10", "Installing mimemagic 0.3.10 with native extensions", "Fetching marcel 0.3.2", "Installing marcel 0.3.2", "Fetching activestorage 5.2.0", "Installing activestorage 5.2.0", "Fetching public_suffix 3.0.2", "Installing public_suffix 3.0.2", "Fetching addressable 2.5.2", "Installing addressable 2.5.2", "Fetching airbrake-ruby 1.8.0", "Installing airbrake-ruby 1.8.0", "Fetching airbrake 5.8.1", "Installing airbrake 5.8.1", "Fetching msgpack 1.2.2", "Installing msgpack 1.2.2 with native extensions", "Fetching bootsnap 1.1.8", "Installing bootsnap 1.1.8 with native extensions", "Using bundler 1.17.3", "Fetching byebug 10.0.0", "Installing byebug 10.0.0 with native extensions", "Fetching xpath 3.0.0", "Installing xpath 3.0.0", "Fetching capybara 2.18.0", "Installing capybara 2.18.0", "Fetching launchy 2.4.3", "Installing launchy 2.4.3", "Fetching capybara-screenshot 1.0.18", "Installing capybara-screenshot 1.0.18", "Fetching clipboard-rails 1.5.5", "Installing clipboard-rails 1.5.5", "Fetching coffee-script-source 1.12.2", "Installing coffee-script-source 1.12.2", "Fetching execjs 2.7.0", "Installing execjs 2.7.0", "Fetching coffee-script 2.4.1", "Installing coffee-script 2.4.1", "Fetching method_source 0.9.0", "Installing method_source 0.9.0", "Fetching thor 0.20.0", "Installing thor 0.20.0", "Fetching railties 5.2.0", "Installing railties 5.2.0", "Fetching coffee-rails 4.2.2", "Installing coffee-rails 4.2.2", "Fetching connection_pool 2.2.2", "Installing connection_pool 2.2.2", "Fetching safe_yaml 1.0.4", "Installing safe_yaml 1.0.4", "Fetching crack 0.4.3", "Installing crack 0.4.3", "Fetching database_cleaner 1.6.2", "Installing database_cleaner 1.6.2", "Fetching diff-lcs 1.3", "Installing diff-lcs 1.3", "Fetching enumerize 2.2.2", "Installing enumerize 2.2.2", "Fetching et-orbi 1.1.6", "Installing et-orbi 1.1.6", "Fetching factory_bot 4.8.2", "Installing factory_bot 4.8.2", "Fetching factory_bot_rails 4.8.2", "Installing factory_bot_rails 4.8.2", "Fetching faker 1.8.7", "Installing faker 1.8.7", "Fetching ffi 1.9.23", "Installing ffi 1.9.23 with native extensions", "Fetching raabro 1.1.6", "Installing raabro 1.1.6", "Fetching fugit 1.1.6", "Installing fugit 1.1.6", "Fetching hashdiff 0.3.7", "Installing hashdiff 0.3.7", "Fetching http_accept_language 2.1.1", "Installing http_accept_language 2.1.1", "Fetching multi_json 1.13.1", "Installing multi_json 1.13.1", "Fetching jbuilder 2.7.0", "Installing jbuilder 2.7.0", "Fetching jquery-rails 4.3.1", "Installing jquery-rails 4.3.1", "Fetching json 1.8.6", "Installing json 1.8.6 with native extensions", "Fetching paranoia 2.4.1", "Installing paranoia 2.4.1", "Fetching pg 0.21.0", "Installing pg 0.21.0 with native extensions", "Fetching puma 3.11.3", "Installing puma 3.11.3 with native extensions", "Fetching rack-protection 2.0.4", "Installing rack-protection 2.0.4", "Fetching sprockets 3.7.1", "Installing sprockets 3.7.1", "Fetching sprockets-rails 3.2.1", "Installing sprockets-rails 3.2.1", "Fetching rails 5.2.0", "Installing rails 5.2.0", "Fetching rb-fsevent 0.10.3", "Installing rb-fsevent 0.10.3", "Fetching rb-inotify 0.9.10", "Installing rb-inotify 0.9.10", "Fetching rdoc 4.3.0", "Installing rdoc 4.3.0", "Fetching redcarpet 3.4.0", "Installing redcarpet 3.4.0 with native extensions", "Fetching redis 4.0.2", "Installing redis 4.0.2", "Fetching rspec-support 3.7.1", "Installing rspec-support 3.7.1", "Fetching rspec-core 3.7.1", "Installing rspec-core 3.7.1", "Fetching rspec-expectations 3.7.0", "Installing rspec-expectations 3.7.0", "Fetching rspec-mocks 3.7.0", "Installing rspec-mocks 3.7.0", "Fetching rspec-rails 3.7.2", "Installing rspec-rails 3.7.2", "Fetching rufus-scheduler 3.4.2", "Installing rufus-scheduler 3.4.2", "Fetching russian 0.6.0", "Installing russian 0.6.0", "Fetching sass-listen 4.0.0", "Installing sass-listen 4.0.0", "Fetching sass 3.5.5", "Installing sass 3.5.5", "Fetching tilt 2.0.8", "Installing tilt 2.0.8", "Fetching sass-rails 5.0.7", "Installing sass-rails 5.0.7", "Fetching sdoc 0.4.1", "Installing sdoc 0.4.1", "Fetching semantic-ui-sass 2.0.7.0", "Installing semantic-ui-sass 2.0.7.0", "Fetching sidekiq 5.2.2", "Installing sidekiq 5.2.2", "Fetching sidekiq-cron 0.6.3", "Installing sidekiq-cron 0.6.3", "Fetching timecop 0.9.1", "Installing timecop 0.9.1", "Fetching uglifier 4.1.7", "Installing uglifier 4.1.7", "Fetching webmock 2.3.2", "Installing webmock 2.3.2", "Bundle complete! 39 Gemfile dependencies, 103 gems now installed.", "Gems in the group development were not installed.", "Use `bundle info [gemname]` to see where a bundled gem is installed.", "Cleaning all the gems on your system is dangerous! If you're sure you want to", "remove every system gem not in this bundle, run `bundle clean --force`."]}
2024-06-24 18:41:29,157 p=314915 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:41:29,157 p=314915 u=lasolovyov@dtln.local n=ansible | app                        : ok=11   changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:41:29 +0300 (0:00:57.996)       0:02:33.922 ****** 
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Download node js ----------------------------------------------------------------------------------------------------------------- 81.62s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install gems without development dependencies ------------------------------------------------------------------------------------ 58.00s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 4.43s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 4.12s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 2.20s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app --------------------------------------------------------------------------------------------------------- 0.85s
2024-06-24 18:41:29,158 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 ---------------------------------------------------------------------------------------------------------------- 0.83s
2024-06-24 18:41:29,159 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 ---------------------------------------------------------------------------------------------------- 0.59s
2024-06-24 18:41:29,159 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------- 0.53s
2024-06-24 18:41:29,159 p=314915 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.31s
2024-06-24 18:41:29,159 p=314915 u=lasolovyov@dtln.local n=ansible | app : Install node js ------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-24 18:41:29,159 p=314915 u=lasolovyov@dtln.local n=ansible | app : Load RVM into current shell session ----------------------------------------------------------------------------------------------- 0.09s
2024-06-24 18:44:18,195 p=315666 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:44:18,592 p=315666 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:44:18,801 p=315666 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:44:18,823 p=315666 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:44:18,954 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:44:18,954 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:18 +0300 (0:00:00.135)       0:00:00.135 ****** 
2024-06-24 18:44:21,108 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:44:21,118 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:44:21,119 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:21 +0300 (0:00:02.164)       0:00:02.299 ****** 
2024-06-24 18:44:25,012 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:44:25,021 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:44:25,022 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:25 +0300 (0:00:03.902)       0:00:06.202 ****** 
2024-06-24 18:44:25,763 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 18:44:25,777 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:44:25,777 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:25 +0300 (0:00:00.755)       0:00:06.957 ****** 
2024-06-24 18:44:31,827 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:44:31,836 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:44:31,837 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:31 +0300 (0:00:06.059)       0:00:13.017 ****** 
2024-06-24 18:44:31,915 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:44:31,924 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 18:44:31,925 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:31 +0300 (0:00:00.087)       0:00:13.105 ****** 
2024-06-24 18:44:32,738 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:44:32,747 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27] ****************************************************************************************************
2024-06-24 18:44:32,747 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:32 +0300 (0:00:00.822)       0:00:13.928 ****** 
2024-06-24 18:44:33,408 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:44:33,417 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Install nokogiri version 1.8.2] ****************************************************************************************************
2024-06-24 18:44:33,418 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:33 +0300 (0:00:00.670)       0:00:14.598 ****** 
2024-06-24 18:44:34,007 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:44:34,015 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ******************************************************************************************************************
2024-06-24 18:44:34,016 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:44:34 +0300 (0:00:00.597)       0:00:15.196 ****** 
2024-06-24 18:45:55,673 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:45:55,683 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *******************************************************************************************************************
2024-06-24 18:45:55,683 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:45:55 +0300 (0:01:21.667)       0:01:36.864 ****** 
2024-06-24 18:45:55,906 p=315666 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:45:55,916 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 18:45:55,916 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:45:55 +0300 (0:00:00.232)       0:01:37.097 ****** 
2024-06-24 18:45:56,228 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:45:56,238 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] *************************************************************************************************************
2024-06-24 18:45:56,238 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:45:56 +0300 (0:00:00.321)       0:01:37.418 ****** 
2024-06-24 18:45:56,360 p=315666 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:45:56,369 p=315666 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] **************************************************************************************************************
2024-06-24 18:45:56,370 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:45:56 +0300 (0:00:00.131)       0:01:37.550 ****** 
2024-06-24 18:45:56,592 p=315666 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "msg": "Error loading unit file 'app': org.freedesktop.DBus.Error.InvalidArgs \"Invalid argument\""}
2024-06-24 18:45:56,593 p=315666 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:45:56,593 p=315666 u=lasolovyov@dtln.local n=ansible | app                        : ok=12   changed=6    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:45:56 +0300 (0:00:00.224)       0:01:37.774 ****** 
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Download node js ----------------------------------------------------------------------------------------------------------------- 81.67s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 6.06s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 3.90s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 2.16s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 ---------------------------------------------------------------------------------------------------------------- 0.82s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app --------------------------------------------------------------------------------------------------------- 0.76s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 ---------------------------------------------------------------------------------------------------- 0.67s
2024-06-24 18:45:56,594 p=315666 u=lasolovyov@dtln.local n=ansible | app : Install nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------- 0.60s
2024-06-24 18:45:56,595 p=315666 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.32s
2024-06-24 18:45:56,595 p=315666 u=lasolovyov@dtln.local n=ansible | app : Install node js ------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-24 18:45:56,595 p=315666 u=lasolovyov@dtln.local n=ansible | app : Enable and start app -------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-24 18:45:56,595 p=315666 u=lasolovyov@dtln.local n=ansible | app : Copy app service file ------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-24 18:45:56,595 p=315666 u=lasolovyov@dtln.local n=ansible | app : Load RVM into current shell session ----------------------------------------------------------------------------------------------- 0.09s
2024-06-24 18:52:58,674 p=316700 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:52:58,987 p=316700 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 18:52:59,151 p=316700 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 18:52:59,168 p=316700 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 18:52:59,256 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 18:52:59,256 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:52:59 +0300 (0:00:00.090)       0:00:00.090 ****** 
2024-06-24 18:53:01,320 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:53:01,330 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 18:53:01,330 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:01 +0300 (0:00:02.074)       0:00:02.164 ****** 
2024-06-24 18:53:05,005 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:53:05,015 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 18:53:05,015 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:05 +0300 (0:00:03.685)       0:00:05.850 ****** 
2024-06-24 18:53:05,799 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 18:53:05,809 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 18:53:05,809 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:05 +0300 (0:00:00.793)       0:00:06.644 ****** 
2024-06-24 18:53:11,325 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:53:11,334 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 18:53:11,334 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:11 +0300 (0:00:05.524)       0:00:12.168 ****** 
2024-06-24 18:53:11,402 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:53:11,411 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 18:53:11,412 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:11 +0300 (0:00:00.077)       0:00:12.246 ****** 
2024-06-24 18:53:12,333 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:53:12,343 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27] ****************************************************************************************************
2024-06-24 18:53:12,343 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:12 +0300 (0:00:00.931)       0:00:13.177 ****** 
2024-06-24 18:53:13,038 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:53:13,047 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Install nokogiri version 1.8.2] ****************************************************************************************************
2024-06-24 18:53:13,047 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:13 +0300 (0:00:00.704)       0:00:13.882 ****** 
2024-06-24 18:53:13,666 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:53:13,675 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ******************************************************************************************************************
2024-06-24 18:53:13,675 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:53:13 +0300 (0:00:00.627)       0:00:14.509 ****** 
2024-06-24 18:54:35,252 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:54:35,262 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *******************************************************************************************************************
2024-06-24 18:54:35,262 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:35 +0300 (0:01:21.587)       0:01:36.096 ****** 
2024-06-24 18:54:35,489 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:54:35,500 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 18:54:35,500 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:35 +0300 (0:00:00.237)       0:01:36.334 ****** 
2024-06-24 18:54:35,845 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:54:35,855 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] *************************************************************************************************************
2024-06-24 18:54:35,855 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:35 +0300 (0:00:00.355)       0:01:36.690 ****** 
2024-06-24 18:54:36,024 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:54:36,034 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] **************************************************************************************************************
2024-06-24 18:54:36,034 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:36 +0300 (0:00:00.178)       0:01:36.868 ****** 
2024-06-24 18:54:36,298 p=316700 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 18:54:36,308 p=316700 u=lasolovyov@dtln.local n=ansible | TASK [app : Wait for port 80 to become open on the host] ***************************************************************************************
2024-06-24 18:54:36,308 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:36 +0300 (0:00:00.274)       0:01:37.143 ****** 
2024-06-24 18:54:37,440 p=316700 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 18:54:37,465 p=316700 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 18:54:37,465 p=316700 u=lasolovyov@dtln.local n=ansible | app                        : ok=14   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-06-24 18:54:37,465 p=316700 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  18:54:37 +0300 (0:00:01.157)       0:01:38.300 ****** 
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Download node js ----------------------------------------------------------------------------------------------------------------- 81.59s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 5.52s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 3.69s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app ----------------------------------------------------------------------------------------------------- 2.07s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Wait for port 80 to become open on the host --------------------------------------------------------------------------------------- 1.16s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 ---------------------------------------------------------------------------------------------------------------- 0.93s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app --------------------------------------------------------------------------------------------------------- 0.79s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 ---------------------------------------------------------------------------------------------------- 0.70s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Install nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------- 0.63s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.36s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Enable and start app -------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Install node js ------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-24 18:54:37,466 p=316700 u=lasolovyov@dtln.local n=ansible | app : Copy app service file ------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-24 18:54:37,467 p=316700 u=lasolovyov@dtln.local n=ansible | app : Load RVM into current shell session ----------------------------------------------------------------------------------------------- 0.08s
2024-06-24 19:57:49,984 p=322797 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 19:57:50,329 p=322797 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 19:57:50,515 p=322797 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 19:57:50,532 p=322797 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 19:57:50,632 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 19:57:50,632 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:57:50 +0300 (0:00:00.103)       0:00:00.103 ****** 
2024-06-24 19:57:52,429 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 19:57:52,439 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 19:57:52,439 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:57:52 +0300 (0:00:01.806)       0:00:01.910 ****** 
2024-06-24 19:57:52,592 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 19:57:52,602 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 19:57:52,602 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:57:52 +0300 (0:00:00.163)       0:00:02.073 ****** 
2024-06-24 19:58:11,929 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 19:58:11,937 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ********************************************************************************************************
2024-06-24 19:58:11,938 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:58:11 +0300 (0:00:19.335)       0:00:21.409 ****** 
2024-06-24 19:58:45,535 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-24 19:58:45,673 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-24 19:58:45,687 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 19:58:45,688 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:58:45 +0300 (0:00:33.750)       0:00:55.159 ****** 
2024-06-24 19:58:45,864 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 19:58:45,881 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 19:58:45,881 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  19:58:45 +0300 (0:00:00.193)       0:00:55.352 ****** 
2024-06-24 19:59:18,478 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-24 19:59:52,362 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-24 20:00:25,725 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-24 20:00:25,739 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 20:00:25,739 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:25 +0300 (0:01:39.857)       0:02:35.210 ****** 
2024-06-24 20:00:25,894 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:00:25,905 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] ************************************************************************************************************
2024-06-24 20:00:25,906 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:25 +0300 (0:00:00.166)       0:02:35.377 ****** 
2024-06-24 20:00:26,116 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:00:26,125 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 20:00:26,126 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:26 +0300 (0:00:00.219)       0:02:35.597 ****** 
2024-06-24 20:00:26,239 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:26,252 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 20:00:26,252 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:26 +0300 (0:00:00.126)       0:02:35.723 ****** 
2024-06-24 20:00:27,964 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:27,974 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 20:00:27,974 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:27 +0300 (0:00:01.722)       0:02:37.446 ****** 
2024-06-24 20:00:28,167 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:28,176 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] **************************************************************************************************
2024-06-24 20:00:28,177 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:28 +0300 (0:00:00.202)       0:02:37.648 ****** 
2024-06-24 20:00:29,324 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:29,333 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 20:00:29,333 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:29 +0300 (0:00:01.156)       0:02:38.804 ****** 
2024-06-24 20:00:30,432 p=322797 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:00:30,442 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 20:00:30,442 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:30 +0300 (0:00:01.108)       0:02:39.913 ****** 
2024-06-24 20:00:30,656 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:30,665 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 20:00:30,665 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:30 +0300 (0:00:00.222)       0:02:40.136 ****** 
2024-06-24 20:00:31,103 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:00:31,120 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *******************************************************************************************************************
2024-06-24 20:00:31,120 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:00:31 +0300 (0:00:00.455)       0:02:40.592 ****** 
2024-06-24 20:01:06,759 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:06,769 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ******************************************************************************************************
2024-06-24 20:01:06,770 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:06 +0300 (0:00:35.649)       0:03:16.241 ****** 
2024-06-24 20:01:06,858 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:06,872 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] **************************************************************************************************
2024-06-24 20:01:06,872 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:06 +0300 (0:00:00.102)       0:03:16.344 ****** 
2024-06-24 20:01:07,028 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:07,045 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 20:01:07,045 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:07 +0300 (0:00:00.172)       0:03:16.516 ****** 
2024-06-24 20:01:07,099 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:07,109 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 20:01:07,110 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:07 +0300 (0:00:00.064)       0:03:16.581 ****** 
2024-06-24 20:01:09,006 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:09,015 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *******************************************************************************************************
2024-06-24 20:01:09,015 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:09 +0300 (0:00:01.905)       0:03:18.486 ****** 
2024-06-24 20:01:09,065 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:09,075 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ******************************************************************************************************************
2024-06-24 20:01:09,075 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:09 +0300 (0:00:00.059)       0:03:18.546 ****** 
2024-06-24 20:01:09,170 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:09,180 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 20:01:09,180 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:09 +0300 (0:00:00.104)       0:03:18.651 ****** 
2024-06-24 20:01:42,094 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-24 20:01:42,104 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 20:01:42,105 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:42 +0300 (0:00:32.924)       0:03:51.576 ****** 
2024-06-24 20:01:45,782 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:45,795 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM into current shell session] ***********************************************************************************************
2024-06-24 20:01:45,795 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:45 +0300 (0:00:03.690)       0:03:55.266 ****** 
2024-06-24 20:01:45,873 p=322797 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:01:45,883 p=322797 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1] ****************************************************************************************************************
2024-06-24 20:01:45,883 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:45 +0300 (0:00:00.087)       0:03:55.354 ****** 
2024-06-24 20:01:45,983 p=322797 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "rvm install ruby 2.5.1", "delta": "0:00:00.009255", "end": "2024-06-24 20:01:45.651100", "msg": "non-zero return code", "rc": 127, "start": "2024-06-24 20:01:45.641845", "stderr": "/bin/sh: rvm: команда не найдена", "stderr_lines": ["/bin/sh: rvm: команда не найдена"], "stdout": "", "stdout_lines": []}
2024-06-24 20:01:45,985 p=322797 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 20:01:45,985 p=322797 u=lasolovyov@dtln.local n=ansible | app                        : ok=25   changed=19   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 20:01:45,985 p=322797 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:01:45 +0300 (0:00:00.102)       0:03:55.457 ****** 
2024-06-24 20:01:45,985 p=322797 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL -------------------------------------------------------------------------------------------- 99.86s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ------------------------------------------------------------------------------------------------------------------ 35.65s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------- 33.75s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app -------------------------------------------------------------------------------------------------------- 32.92s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 19.34s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 3.69s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 1.91s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.81s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.72s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service -------------------------------------------------------------------------------------------------- 1.16s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.11s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.46s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ------------------------------------------------------------------------------------------------------------ 0.22s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.20s
2024-06-24 20:01:45,986 p=322797 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.19s
2024-06-24 20:01:45,987 p=322797 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service -------------------------------------------------------------------------------------------------- 0.17s
2024-06-24 20:01:45,987 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.17s
2024-06-24 20:01:45,987 p=322797 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.16s
2024-06-24 20:01:45,987 p=322797 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.13s
2024-06-24 20:06:58,872 p=323723 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 20:06:59,208 p=323723 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 20:06:59,378 p=323723 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 20:06:59,395 p=323723 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 20:06:59,491 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 20:06:59,491 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:06:59 +0300 (0:00:00.099)       0:00:00.099 ****** 
2024-06-24 20:07:01,363 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:07:01,373 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 20:07:01,374 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:07:01 +0300 (0:00:01.882)       0:00:01.981 ****** 
2024-06-24 20:07:01,562 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:07:01,574 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 20:07:01,574 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:07:01 +0300 (0:00:00.200)       0:00:02.182 ****** 
2024-06-24 20:07:21,766 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:07:21,776 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ********************************************************************************************************
2024-06-24 20:07:21,776 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:07:21 +0300 (0:00:20.202)       0:00:22.384 ****** 
2024-06-24 20:07:56,639 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-24 20:07:56,773 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-24 20:07:56,785 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 20:07:56,785 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:07:56 +0300 (0:00:35.008)       0:00:57.393 ****** 
2024-06-24 20:07:56,899 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:07:56,916 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 20:07:56,916 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:07:56 +0300 (0:00:00.130)       0:00:57.524 ****** 
2024-06-24 20:08:30,949 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-24 20:09:05,554 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-24 20:09:40,092 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-24 20:09:40,101 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 20:09:40,102 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:40 +0300 (0:01:43.185)       0:02:40.710 ****** 
2024-06-24 20:09:40,249 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:09:40,259 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] ************************************************************************************************************
2024-06-24 20:09:40,259 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:40 +0300 (0:00:00.157)       0:02:40.867 ****** 
2024-06-24 20:09:40,465 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:09:40,475 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 20:09:40,475 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:40 +0300 (0:00:00.215)       0:02:41.083 ****** 
2024-06-24 20:09:40,576 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:40,584 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 20:09:40,584 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:40 +0300 (0:00:00.109)       0:02:41.192 ****** 
2024-06-24 20:09:42,527 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:42,540 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 20:09:42,541 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:42 +0300 (0:00:01.956)       0:02:43.148 ****** 
2024-06-24 20:09:42,744 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:42,755 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] **************************************************************************************************
2024-06-24 20:09:42,755 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:42 +0300 (0:00:00.214)       0:02:43.363 ****** 
2024-06-24 20:09:43,911 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:43,920 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 20:09:43,921 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:43 +0300 (0:00:01.165)       0:02:44.528 ****** 
2024-06-24 20:09:45,015 p=323723 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:09:45,024 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 20:09:45,025 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:45 +0300 (0:00:01.104)       0:02:45.632 ****** 
2024-06-24 20:09:45,222 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:45,231 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 20:09:45,231 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:45 +0300 (0:00:00.206)       0:02:45.839 ****** 
2024-06-24 20:09:45,740 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:09:45,756 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *******************************************************************************************************************
2024-06-24 20:09:45,757 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:09:45 +0300 (0:00:00.525)       0:02:46.365 ****** 
2024-06-24 20:10:18,559 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:18,568 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ******************************************************************************************************
2024-06-24 20:10:18,568 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:18 +0300 (0:00:32.811)       0:03:19.176 ****** 
2024-06-24 20:10:18,650 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:18,660 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] **************************************************************************************************
2024-06-24 20:10:18,660 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:18 +0300 (0:00:00.091)       0:03:19.268 ****** 
2024-06-24 20:10:18,823 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:18,839 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 20:10:18,840 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:18 +0300 (0:00:00.179)       0:03:19.448 ****** 
2024-06-24 20:10:18,885 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:18,894 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 20:10:18,895 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:18 +0300 (0:00:00.054)       0:03:19.502 ****** 
2024-06-24 20:10:20,826 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:20,835 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *******************************************************************************************************
2024-06-24 20:10:20,835 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:20 +0300 (0:00:01.940)       0:03:21.443 ****** 
2024-06-24 20:10:20,891 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:20,899 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ******************************************************************************************************************
2024-06-24 20:10:20,899 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:20 +0300 (0:00:00.063)       0:03:21.507 ****** 
2024-06-24 20:10:20,966 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:20,977 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 20:10:20,977 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:20 +0300 (0:00:00.077)       0:03:21.585 ****** 
2024-06-24 20:10:54,436 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-24 20:10:54,447 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 20:10:54,447 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:54 +0300 (0:00:33.469)       0:03:55.055 ****** 
2024-06-24 20:10:58,412 p=323723 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:10:58,421 p=323723 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM and Install Ruby 2.5.1] ***************************************************************************************************
2024-06-24 20:10:58,421 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:58 +0300 (0:00:03.974)       0:03:59.029 ****** 
2024-06-24 20:10:58,525 p=323723 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "source /etc/profile.d/rvm.sh && rvm install ruby 2.5.1", "delta": "0:00:00.022150", "end": "2024-06-24 20:10:58.891568", "msg": "non-zero return code", "rc": 127, "start": "2024-06-24 20:10:58.869418", "stderr": "/bin/sh: rvm: команда не найдена", "stderr_lines": ["/bin/sh: rvm: команда не найдена"], "stdout": "", "stdout_lines": []}
2024-06-24 20:10:58,526 p=323723 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=18   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:10:58 +0300 (0:00:00.105)       0:03:59.135 ****** 
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------- 103.19s
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------- 35.01s
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app -------------------------------------------------------------------------------------------------------- 33.47s
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ------------------------------------------------------------------------------------------------------------------ 32.81s
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 20.20s
2024-06-24 20:10:58,527 p=323723 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 3.97s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.96s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 1.94s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 1.88s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service -------------------------------------------------------------------------------------------------- 1.17s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.10s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.53s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ------------------------------------------------------------------------------------------------------------ 0.22s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.21s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.20s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service -------------------------------------------------------------------------------------------------- 0.18s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user --------------------------------------------------------------------------------------------------------- 0.16s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) --------------------------------------------------------------------------------------------------------- 0.13s
2024-06-24 20:10:58,528 p=323723 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ------------------------------------------------------------------------------------------------------------------ 0.11s
2024-06-24 20:13:52,063 p=324402 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, 
Jan 15 2024, 23:09:02) [GCC 8.5.0 20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 20:13:52,443 p=324402 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will
 be removed from ansible-core in version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-24 20:13:52,636 p=324402 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-24 20:13:52,657 p=324402 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] ************************************************************************************************************************
2024-06-24 20:13:52,780 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] **********************************************************************************************
2024-06-24 20:13:52,781 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:13:52 +0300 (0:00:00.127)       0:00:00.128 ****** 
2024-06-24 20:13:55,088 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:13:55,100 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *********************************************************************************************
2024-06-24 20:13:55,100 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:13:55 +0300 (0:00:02.319)       0:00:02.447 ****** 
2024-06-24 20:13:55,292 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:13:55,303 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] *****************************************************************************************************************
2024-06-24 20:13:55,304 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:13:55 +0300 (0:00:00.203)       0:00:02.651 ****** 
2024-06-24 20:14:13,312 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:13,323 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ********************************************************************************************************
2024-06-24 20:14:13,323 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:13 +0300 (0:00:18.019)       0:00:20.670 ****** 
2024-06-24 20:14:13,533 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-24 20:14:13,702 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-24 20:14:13,715 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *********************************************************************************************************
2024-06-24 20:14:13,716 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:13 +0300 (0:00:00.392)       0:00:21.062 ****** 
2024-06-24 20:14:13,863 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:13,880 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *********************************************************************************************
2024-06-24 20:14:13,881 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:13 +0300 (0:00:00.165)       0:00:21.228 ****** 
2024-06-24 20:14:14,006 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-24 20:14:14,085 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-24 20:14:14,153 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-24 20:14:14,176 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *********************************************************************************************************
2024-06-24 20:14:14,176 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:14 +0300 (0:00:00.295)       0:00:21.523 ****** 
2024-06-24 20:14:14,347 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:14,357 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] ************************************************************************************************************
2024-06-24 20:14:14,358 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:14 +0300 (0:00:00.181)       0:00:21.705 ****** 
2024-06-24 20:14:15,639 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:15,668 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ******************************************************************************************************************
2024-06-24 20:14:15,668 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:15 +0300 (0:00:01.310)       0:00:23.015 ****** 
2024-06-24 20:14:15,843 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:15,855 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] ************************************************************************************************************************
2024-06-24 20:14:15,855 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:15 +0300 (0:00:00.187)       0:00:23.202 ****** 
2024-06-24 20:14:17,223 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:17,233 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] **********************************************************************************************
2024-06-24 20:14:17,233 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:17 +0300 (0:00:01.378)       0:00:24.580 ****** 
2024-06-24 20:14:17,427 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:17,436 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] **************************************************************************************************
2024-06-24 20:14:17,436 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:17 +0300 (0:00:00.202)       0:00:24.783 ****** 
2024-06-24 20:14:18,531 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:18,544 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] **************************************************************************************
2024-06-24 20:14:18,544 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:18 +0300 (0:00:01.107)       0:00:25.891 ****** 
2024-06-24 20:14:19,639 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:19,648 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] ****************************************************************************************************************
2024-06-24 20:14:19,648 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:19 +0300 (0:00:01.104)       0:00:26.995 ****** 
2024-06-24 20:14:19,844 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:19,853 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *********************************************************************************************************
2024-06-24 20:14:19,853 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:19 +0300 (0:00:00.204)       0:00:27.200 ****** 
2024-06-24 20:14:20,219 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:20,236 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *******************************************************************************************************************
2024-06-24 20:14:20,237 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:20 +0300 (0:00:00.383)       0:00:27.583 ****** 
2024-06-24 20:14:20,340 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:20,349 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ******************************************************************************************************
2024-06-24 20:14:20,350 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:20 +0300 (0:00:00.112)       0:00:27.696 ****** 
2024-06-24 20:14:20,495 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:20,504 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] **************************************************************************************************
2024-06-24 20:14:20,504 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:20 +0300 (0:00:00.154)       0:00:27.851 ****** 
2024-06-24 20:14:20,577 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:20,595 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] *****************************************************************************************************
2024-06-24 20:14:20,595 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:20 +0300 (0:00:00.090)       0:00:27.942 ****** 
2024-06-24 20:14:20,647 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:20,657 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] **************************************************************************************************************************
2024-06-24 20:14:20,657 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:20 +0300 (0:00:00.062)       0:00:28.004 ****** 
2024-06-24 20:14:24,649 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:24,658 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *******************************************************************************************************
2024-06-24 20:14:24,659 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:24 +0300 (0:00:04.001)       0:00:32.005 ****** 
2024-06-24 20:14:24,702 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-24 20:14:24,712 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ******************************************************************************************************************
2024-06-24 20:14:24,712 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:24 +0300 (0:00:00.053)       0:00:32.059 ****** 
2024-06-24 20:14:24,776 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:24,785 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *********************************************************************************************************
2024-06-24 20:14:24,785 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:24 +0300 (0:00:00.073)       0:00:32.132 ****** 
2024-06-24 20:14:24,925 p=324402 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-24 20:14:24,940 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] **********************************************************************************************************
2024-06-24 20:14:24,940 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:24 +0300 (0:00:00.154)       0:00:32.287 ****** 
2024-06-24 20:14:28,815 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:28,825 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM and Install Ruby 2.5.1] ***************************************************************************************************
2024-06-24 20:14:28,825 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:28 +0300 (0:00:03.884)       0:00:36.172 ****** 
2024-06-24 20:14:29,535 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:14:29,545 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] *************************************************************************
2024-06-24 20:14:29,545 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:14:29 +0300 (0:00:00.720)       0:00:36.892 ****** 
2024-06-24 20:14:46,595 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-24 20:15:38,442 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-24 20:15:38,452 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ******************************************************************************************************************
2024-06-24 20:15:38,453 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:15:38 +0300 (0:01:08.907)       0:01:45.799 ****** 
2024-06-24 20:16:59,947 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:16:59,956 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *******************************************************************************************************************
2024-06-24 20:16:59,956 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:16:59 +0300 (0:01:21.503)       0:03:07.303 ****** 
2024-06-24 20:17:40,148 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:17:40,158 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] ****************************************************************************************************
2024-06-24 20:17:40,158 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:17:40 +0300 (0:00:40.201)       0:03:47.505 ****** 
2024-06-24 20:17:40,405 p=324402 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-24 20:17:40,418 p=324402 u=lasolovyov@dtln.local n=ansible | TASK [app : Install gems without development dependencies] *************************************************************************************
2024-06-24 20:17:40,418 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:17:40 +0300 (0:00:00.260)       0:03:47.765 ****** 
2024-06-24 20:17:50,193 p=324402 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "/usr/local/rvm/rubies/ruby-2.5.1/bin/bundle install --clean", "msg": "", "rc": 5, "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 12.3.1\nInstalling rake 12.3.1\nFetching concurrent-ruby 1.0.5\nInstalling concurrent-ruby 1.0.5\nFetching i18n 1.0.0\nInstalling i18n 1.0.0\nFetching minitest 5.11.3\nInstalling minitest 5.11.3\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.5\nInstalling tzinfo 1.2.5\nFetching activesupport 5.2.0\nInstalling activesupport 5.2.0\nFetching builder 3.2.3\nInstalling builder 3.2.3\nFetching erubi 1.7.1\nInstalling erubi 1.7.1\nFetching mini_portile2 2.3.0\nInstalling mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240624-20989-h87a3.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri\n", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Fetching rake 12.3.1", "Installing rake 12.3.1", "Fetching concurrent-ruby 1.0.5", "Installing concurrent-ruby 1.0.5", "Fetching i18n 1.0.0", "Installing i18n 1.0.0", "Fetching minitest 5.11.3", "Installing minitest 5.11.3", "Fetching thread_safe 0.3.6", "Installing thread_safe 0.3.6", "Fetching tzinfo 1.2.5", "Installing tzinfo 1.2.5", "Fetching activesupport 5.2.0", "Installing activesupport 5.2.0", "Fetching builder 3.2.3", "Installing builder 3.2.3", "Fetching erubi 1.7.1", "Installing erubi 1.7.1", "Fetching mini_portile2 2.3.0", "Installing mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240624-20989-h87a3.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | PLAY RECAP *************************************************************************************************************************************
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | app                        : ok=29   changed=15   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | Понедельник 24 июня 2024  20:17:50 +0300 (0:00:09.776)       0:03:57.542 ****** 
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | app : Download node js ----------------------------------------------------------------------------------------------------------------- 81.50s
2024-06-24 20:17:50,195 p=324402 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ------------------------------------------------------------------------ 68.91s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Install node js ------------------------------------------------------------------------------------------------------------------ 40.20s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | common : Upgrade system ---------------------------------------------------------------------------------------------------------------- 18.02s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Install gems without development dependencies ------------------------------------------------------------------------------------- 9.78s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Copy App -------------------------------------------------------------------------------------------------------------------------- 4.00s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM ---------------------------------------------------------------------------------------------------------- 3.88s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive ---------------------------------------------------------------------------------------------- 2.32s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ------------------------------------------------------------------------------------------------------------------------ 1.38s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ------------------------------------------------------------------------------------------------------------ 1.31s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service -------------------------------------------------------------------------------------------------- 1.11s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host -------------------------------------------------------------------------------------- 1.10s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Load RVM and Install Ruby 2.5.1 --------------------------------------------------------------------------------------------------- 0.72s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | common : Install main dependency -------------------------------------------------------------------------------------------------------- 0.39s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database --------------------------------------------------------------------------------------------------------- 0.38s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL --------------------------------------------------------------------------------------------- 0.30s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri ---------------------------------------------------------------------------------------------------- 0.26s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Create user for app ---------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-24 20:17:50,196 p=324402 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service --------------------------------------------------------------------------------------------- 0.20s
2024-06-24 20:17:50,197 p=324402 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL ---------------------------------------------------------------------------------------------- 0.20s
2024-06-25 18:08:25,094 p=430828 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 18:08:25,479 p=430828 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 18:08:25,715 p=430828 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 18:08:25,739 p=430828 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 18:08:25,871 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 18:08:25,871 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:25 +0300 (0:00:00.137)       0:00:00.137 ********** 
2024-06-25 18:08:28,150 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:28,161 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 18:08:28,161 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:28 +0300 (0:00:02.289)       0:00:02.427 ********** 
2024-06-25 18:08:28,338 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:28,351 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 18:08:28,351 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:28 +0300 (0:00:00.190)       0:00:02.617 ********** 
2024-06-25 18:08:45,386 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:45,399 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 18:08:45,399 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:45 +0300 (0:00:17.048)       0:00:19.665 ********** 
2024-06-25 18:08:45,588 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 18:08:45,708 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 18:08:45,723 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 18:08:45,723 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:45 +0300 (0:00:00.323)       0:00:19.989 ********** 
2024-06-25 18:08:45,849 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:45,868 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 18:08:45,869 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:45 +0300 (0:00:00.145)       0:00:20.135 ********** 
2024-06-25 18:08:45,992 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 18:08:46,066 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 18:08:46,133 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 18:08:46,145 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 18:08:46,145 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:46 +0300 (0:00:00.276)       0:00:20.411 ********** 
2024-06-25 18:08:46,305 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:46,315 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 18:08:46,316 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:46 +0300 (0:00:00.170)       0:00:20.582 ********** 
2024-06-25 18:08:47,549 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:47,559 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 18:08:47,559 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:47 +0300 (0:00:01.243)       0:00:21.825 ********** 
2024-06-25 18:08:47,709 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:47,722 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 18:08:47,722 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:47 +0300 (0:00:00.162)       0:00:21.988 ********** 
2024-06-25 18:08:49,029 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:49,041 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 18:08:49,041 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:49 +0300 (0:00:01.319)       0:00:23.307 ********** 
2024-06-25 18:08:49,260 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:49,270 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 18:08:49,270 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:49 +0300 (0:00:00.228)       0:00:23.536 ********** 
2024-06-25 18:08:50,369 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:50,380 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 18:08:50,380 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:50 +0300 (0:00:01.109)       0:00:24.646 ********** 
2024-06-25 18:08:51,487 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:51,498 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 18:08:51,498 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:51 +0300 (0:00:01.118)       0:00:25.764 ********** 
2024-06-25 18:08:51,800 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:51,810 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 18:08:51,810 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:51 +0300 (0:00:00.312)       0:00:26.076 ********** 
2024-06-25 18:08:52,281 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:08:52,302 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 18:08:52,303 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:52 +0300 (0:00:00.492)       0:00:26.568 ********** 
2024-06-25 18:08:52,420 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:52,431 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 18:08:52,431 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:52 +0300 (0:00:00.128)       0:00:26.697 ********** 
2024-06-25 18:08:52,573 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:52,583 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 18:08:52,583 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:52 +0300 (0:00:00.151)       0:00:26.849 ********** 
2024-06-25 18:08:52,655 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:52,674 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 18:08:52,674 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:52 +0300 (0:00:00.091)       0:00:26.940 ********** 
2024-06-25 18:08:52,735 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:52,746 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 18:08:52,746 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:52 +0300 (0:00:00.071)       0:00:27.012 ********** 
2024-06-25 18:08:56,395 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:56,406 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 18:08:56,407 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:56 +0300 (0:00:03.660)       0:00:30.673 ********** 
2024-06-25 18:08:56,466 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:56,476 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 18:08:56,477 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:56 +0300 (0:00:00.070)       0:00:30.743 ********** 
2024-06-25 18:08:56,612 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:08:56,623 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 18:08:56,623 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:56 +0300 (0:00:00.146)       0:00:30.889 ********** 
2024-06-25 18:08:56,766 p=430828 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 18:08:56,778 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] ********************************************************************************************************************************************
2024-06-25 18:08:56,778 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:08:56 +0300 (0:00:00.155)       0:00:31.044 ********** 
2024-06-25 18:09:00,652 p=430828 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:09:00,664 p=430828 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM and Install Ruby 2.5.1] *************************************************************************************************************************************
2024-06-25 18:09:00,664 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:09:00 +0300 (0:00:03.885)       0:00:34.930 ********** 
2024-06-25 18:09:00,732 p=430828 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "source /etc/profile.d/rvm.sh '&&' rvm install ruby 2.5.1", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-25 18:09:00,734 p=430828 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 18:09:00,734 p=430828 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:09:00 +0300 (0:00:00.070)       0:00:35.000 ********** 
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 17.05s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM -------------------------------------------------------------------------------------------------------------------------------------------- 3.89s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.66s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.29s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.32s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.24s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.11s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.49s
2024-06-25 18:09:00,735 p=430828 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.32s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.31s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.28s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | app : Copy secret file ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 18:09:00,736 p=430828 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 18:09:57,733 p=431140 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 18:09:58,046 p=431140 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 18:09:58,213 p=431140 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 18:09:58,230 p=431140 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 18:09:58,320 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 18:09:58,321 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:09:58 +0300 (0:00:00.093)       0:00:00.093 ********** 
2024-06-25 18:10:00,221 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:00,229 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 18:10:00,230 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:00 +0300 (0:00:01.909)       0:00:02.002 ********** 
2024-06-25 18:10:00,386 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:00,396 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 18:10:00,396 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:00 +0300 (0:00:00.166)       0:00:02.169 ********** 
2024-06-25 18:10:15,381 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:15,394 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 18:10:15,395 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:15 +0300 (0:00:14.998)       0:00:17.167 ********** 
2024-06-25 18:10:15,576 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 18:10:15,706 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 18:10:15,718 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 18:10:15,718 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:15 +0300 (0:00:00.323)       0:00:17.491 ********** 
2024-06-25 18:10:15,841 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:15,858 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 18:10:15,859 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:15 +0300 (0:00:00.140)       0:00:17.631 ********** 
2024-06-25 18:10:15,974 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 18:10:16,046 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 18:10:16,118 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 18:10:16,132 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 18:10:16,132 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:16 +0300 (0:00:00.273)       0:00:17.905 ********** 
2024-06-25 18:10:16,283 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:16,298 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 18:10:16,298 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:16 +0300 (0:00:00.166)       0:00:18.071 ********** 
2024-06-25 18:10:17,545 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:17,558 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 18:10:17,559 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:17 +0300 (0:00:01.260)       0:00:19.331 ********** 
2024-06-25 18:10:17,719 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:17,736 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 18:10:17,737 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:17 +0300 (0:00:00.178)       0:00:19.509 ********** 
2024-06-25 18:10:19,073 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:19,086 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 18:10:19,086 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:19 +0300 (0:00:01.349)       0:00:20.859 ********** 
2024-06-25 18:10:19,289 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:19,300 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 18:10:19,300 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:19 +0300 (0:00:00.214)       0:00:21.073 ********** 
2024-06-25 18:10:20,403 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:20,418 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 18:10:20,418 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:20 +0300 (0:00:01.117)       0:00:22.191 ********** 
2024-06-25 18:10:21,537 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:21,551 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 18:10:21,552 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:21 +0300 (0:00:01.133)       0:00:23.324 ********** 
2024-06-25 18:10:21,764 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:21,774 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 18:10:21,775 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:21 +0300 (0:00:00.222)       0:00:23.547 ********** 
2024-06-25 18:10:22,165 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:22,183 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 18:10:22,183 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:22 +0300 (0:00:00.408)       0:00:23.955 ********** 
2024-06-25 18:10:22,301 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:22,310 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 18:10:22,310 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:22 +0300 (0:00:00.127)       0:00:24.083 ********** 
2024-06-25 18:10:22,432 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:22,441 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 18:10:22,442 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:22 +0300 (0:00:00.131)       0:00:24.214 ********** 
2024-06-25 18:10:22,507 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:22,526 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 18:10:22,526 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:22 +0300 (0:00:00.084)       0:00:24.299 ********** 
2024-06-25 18:10:22,571 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:22,580 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 18:10:22,581 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:22 +0300 (0:00:00.054)       0:00:24.353 ********** 
2024-06-25 18:10:26,550 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:26,561 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 18:10:26,562 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:26 +0300 (0:00:03.980)       0:00:28.334 ********** 
2024-06-25 18:10:26,651 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:26,660 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 18:10:26,661 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:26 +0300 (0:00:00.099)       0:00:28.433 ********** 
2024-06-25 18:10:26,737 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:10:26,746 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 18:10:26,746 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:26 +0300 (0:00:00.085)       0:00:28.519 ********** 
2024-06-25 18:10:26,878 p=431140 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 18:10:26,888 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] ********************************************************************************************************************************************
2024-06-25 18:10:26,888 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:26 +0300 (0:00:00.142)       0:00:28.661 ********** 
2024-06-25 18:10:30,704 p=431140 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:10:30,717 p=431140 u=lasolovyov@dtln.local n=ansible | TASK [app : Load RVM and Install Ruby 2.5.1] *************************************************************************************************************************************
2024-06-25 18:10:30,717 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:30 +0300 (0:00:03.828)       0:00:32.490 ********** 
2024-06-25 18:10:30,788 p=431140 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "source /etc/profile.d/rvm.sh '&&' rvm install ruby 2.5.1", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:10:30 +0300 (0:00:00.073)       0:00:32.563 ********** 
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 15.00s
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.98s
2024-06-25 18:10:30,790 p=431140 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM -------------------------------------------------------------------------------------------------------------------------------------------- 3.83s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.91s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.35s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.26s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.13s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.41s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.32s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 18:10:30,791 p=431140 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 18:10:30,792 p=431140 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 18:16:18,960 p=432045 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 18:16:19,267 p=432045 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 18:16:19,442 p=432045 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 18:16:19,460 p=432045 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 18:16:19,553 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 18:16:19,553 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:19 +0300 (0:00:00.096)       0:00:00.096 ********** 
2024-06-25 18:16:21,403 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:21,415 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 18:16:21,415 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:21 +0300 (0:00:01.862)       0:00:01.959 ********** 
2024-06-25 18:16:21,570 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:21,579 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 18:16:21,579 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:21 +0300 (0:00:00.164)       0:00:02.123 ********** 
2024-06-25 18:16:36,186 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:36,195 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 18:16:36,195 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:36 +0300 (0:00:14.615)       0:00:16.738 ********** 
2024-06-25 18:16:36,359 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 18:16:36,473 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 18:16:36,484 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 18:16:36,485 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:36 +0300 (0:00:00.289)       0:00:17.028 ********** 
2024-06-25 18:16:36,591 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:36,608 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 18:16:36,608 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:36 +0300 (0:00:00.123)       0:00:17.151 ********** 
2024-06-25 18:16:36,707 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 18:16:36,765 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 18:16:36,821 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 18:16:36,832 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 18:16:36,833 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:36 +0300 (0:00:00.224)       0:00:17.376 ********** 
2024-06-25 18:16:36,964 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:36,976 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 18:16:36,976 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:36 +0300 (0:00:00.143)       0:00:17.519 ********** 
2024-06-25 18:16:38,179 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:38,189 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 18:16:38,189 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:38 +0300 (0:00:01.213)       0:00:18.733 ********** 
2024-06-25 18:16:38,327 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:38,339 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 18:16:38,339 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:38 +0300 (0:00:00.149)       0:00:18.882 ********** 
2024-06-25 18:16:39,510 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:39,522 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 18:16:39,523 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:39 +0300 (0:00:01.184)       0:00:20.066 ********** 
2024-06-25 18:16:39,700 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:39,709 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 18:16:39,709 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:39 +0300 (0:00:00.186)       0:00:20.253 ********** 
2024-06-25 18:16:40,802 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:40,812 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 18:16:40,812 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:40 +0300 (0:00:01.102)       0:00:21.355 ********** 
2024-06-25 18:16:41,905 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:41,914 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 18:16:41,914 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:41 +0300 (0:00:01.102)       0:00:22.458 ********** 
2024-06-25 18:16:42,127 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:42,137 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 18:16:42,137 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.222)       0:00:22.680 ********** 
2024-06-25 18:16:42,550 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:42,567 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 18:16:42,567 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.430)       0:00:23.110 ********** 
2024-06-25 18:16:42,683 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:42,695 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 18:16:42,696 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.128)       0:00:23.239 ********** 
2024-06-25 18:16:42,820 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:42,829 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 18:16:42,829 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.133)       0:00:23.372 ********** 
2024-06-25 18:16:42,904 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:42,921 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 18:16:42,921 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.091)       0:00:23.464 ********** 
2024-06-25 18:16:42,970 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:42,979 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 18:16:42,979 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:42 +0300 (0:00:00.057)       0:00:23.522 ********** 
2024-06-25 18:16:46,194 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:46,203 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 18:16:46,203 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:46 +0300 (0:00:03.223)       0:00:26.746 ********** 
2024-06-25 18:16:46,250 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:46,260 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 18:16:46,260 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:46 +0300 (0:00:00.056)       0:00:26.803 ********** 
2024-06-25 18:16:46,336 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:16:46,345 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 18:16:46,345 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:46 +0300 (0:00:00.084)       0:00:26.888 ********** 
2024-06-25 18:16:46,457 p=432045 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 18:16:46,466 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Download and install RVM] ********************************************************************************************************************************************
2024-06-25 18:16:46,467 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:46 +0300 (0:00:00.121)       0:00:27.010 ********** 
2024-06-25 18:16:50,617 p=432045 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:16:50,627 p=432045 u=lasolovyov@dtln.local n=ansible | TASK [app : Install sources for RVM] *********************************************************************************************************************************************
2024-06-25 18:16:50,628 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:50 +0300 (0:00:04.160)       0:00:31.171 ********** 
2024-06-25 18:16:50,695 p=432045 u=lasolovyov@dtln.local n=ansible | [WARNING]: As of Ansible 2.4, the parameter 'executable' is no longer supported with the 'command' module. Not using '/bin/bash'.

2024-06-25 18:16:50,696 p=432045 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "source /etc/profile.d/rvm.sh", "msg": "[Errno 2] Нет такого файла или каталога", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2024-06-25 18:16:50,697 p=432045 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:16:50 +0300 (0:00:00.070)       0:00:31.241 ********** 
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 14.62s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | app : Download and install RVM -------------------------------------------------------------------------------------------------------------------------------------------- 4.16s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.22s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.86s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.21s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.18s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 18:16:50,698 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.43s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.29s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.12s
2024-06-25 18:16:50,699 p=432045 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.12s
2024-06-25 18:28:20,358 p=433549 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 18:28:20,672 p=433549 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 18:28:20,852 p=433549 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 18:28:20,870 p=433549 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 18:28:20,969 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 18:28:20,969 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:20 +0300 (0:00:00.103)       0:00:00.103 ********** 
2024-06-25 18:28:22,810 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:22,818 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 18:28:22,818 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:22 +0300 (0:00:01.848)       0:00:01.951 ********** 
2024-06-25 18:28:22,968 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:22,979 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 18:28:22,979 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:22 +0300 (0:00:00.161)       0:00:02.113 ********** 
2024-06-25 18:28:37,927 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:37,941 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 18:28:37,941 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:37 +0300 (0:00:14.961)       0:00:17.074 ********** 
2024-06-25 18:28:38,123 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 18:28:38,264 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 18:28:38,277 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 18:28:38,278 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:38 +0300 (0:00:00.336)       0:00:17.411 ********** 
2024-06-25 18:28:38,423 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:38,445 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 18:28:38,446 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:38 +0300 (0:00:00.167)       0:00:17.579 ********** 
2024-06-25 18:28:38,574 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 18:28:38,638 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 18:28:38,705 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 18:28:38,720 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 18:28:38,721 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:38 +0300 (0:00:00.274)       0:00:17.854 ********** 
2024-06-25 18:28:38,873 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:38,887 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 18:28:38,888 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:38 +0300 (0:00:00.167)       0:00:18.021 ********** 
2024-06-25 18:28:40,136 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:40,149 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 18:28:40,150 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:40 +0300 (0:00:01.261)       0:00:19.283 ********** 
2024-06-25 18:28:40,314 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:40,330 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 18:28:40,330 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:40 +0300 (0:00:00.180)       0:00:19.463 ********** 
2024-06-25 18:28:41,579 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:41,597 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 18:28:41,597 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:41 +0300 (0:00:01.267)       0:00:20.730 ********** 
2024-06-25 18:28:41,827 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:41,839 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 18:28:41,839 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:41 +0300 (0:00:00.242)       0:00:20.972 ********** 
2024-06-25 18:28:42,944 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:42,956 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 18:28:42,957 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:42 +0300 (0:00:01.117)       0:00:22.090 ********** 
2024-06-25 18:28:44,081 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:44,094 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 18:28:44,094 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:44 +0300 (0:00:01.137)       0:00:23.228 ********** 
2024-06-25 18:28:44,308 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:44,319 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 18:28:44,319 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:44 +0300 (0:00:00.224)       0:00:23.452 ********** 
2024-06-25 18:28:44,764 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:44,785 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 18:28:44,786 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:44 +0300 (0:00:00.466)       0:00:23.919 ********** 
2024-06-25 18:28:44,909 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:44,922 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 18:28:44,923 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:44 +0300 (0:00:00.136)       0:00:24.056 ********** 
2024-06-25 18:28:45,112 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:45,123 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 18:28:45,124 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:45 +0300 (0:00:00.200)       0:00:24.257 ********** 
2024-06-25 18:28:45,207 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:45,229 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 18:28:45,229 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:45 +0300 (0:00:00.105)       0:00:24.362 ********** 
2024-06-25 18:28:45,291 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:45,303 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 18:28:45,304 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:45 +0300 (0:00:00.074)       0:00:24.437 ********** 
2024-06-25 18:28:48,706 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:48,715 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 18:28:48,715 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:48 +0300 (0:00:03.411)       0:00:27.849 ********** 
2024-06-25 18:28:48,764 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:48,773 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 18:28:48,773 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:48 +0300 (0:00:00.057)       0:00:27.907 ********** 
2024-06-25 18:28:48,879 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:28:48,889 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 18:28:48,889 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:48 +0300 (0:00:00.115)       0:00:28.022 ********** 
2024-06-25 18:28:49,055 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 18:28:49,065 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 18:28:49,066 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:49 +0300 (0:00:00.176)       0:00:28.199 ********** 
2024-06-25 18:28:54,160 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:28:54,169 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 18:28:54,169 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:28:54 +0300 (0:00:05.103)       0:00:33.302 ********** 
2024-06-25 18:29:09,752 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 18:29:55,751 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-25 18:29:55,765 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 18:29:55,765 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:29:55 +0300 (0:01:01.596)       0:01:34.899 ********** 
2024-06-25 18:31:17,168 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:31:17,177 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 18:31:17,178 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:31:17 +0300 (0:01:21.412)       0:02:56.311 ********** 
2024-06-25 18:31:17,346 p=433549 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 18:31:17,355 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri] **************************************************************************************************************************************
2024-06-25 18:31:17,355 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:31:17 +0300 (0:00:00.177)       0:02:56.489 ********** 
2024-06-25 18:31:17,601 p=433549 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 18:31:17,610 p=433549 u=lasolovyov@dtln.local n=ansible | TASK [app : Install gems without development dependencies] ***********************************************************************************************************************
2024-06-25 18:31:17,611 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:31:17 +0300 (0:00:00.255)       0:02:56.744 ********** 
2024-06-25 18:31:22,311 p=433549 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "cmd": "/usr/local/rvm/rubies/ruby-2.5.1/bin/bundle install --clean", "msg": "", "rc": 5, "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nUsing rake 12.3.1\nUsing concurrent-ruby 1.0.5\nUsing i18n 1.0.0\nUsing minitest 5.11.3\nUsing thread_safe 0.3.6\nUsing tzinfo 1.2.5\nUsing activesupport 5.2.0\nUsing builder 3.2.3\nUsing erubi 1.7.1\nUsing mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240625-3308-tbvgn9.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri\n", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Using rake 12.3.1", "Using concurrent-ruby 1.0.5", "Using i18n 1.0.0", "Using minitest 5.11.3", "Using thread_safe 0.3.6", "Using tzinfo 1.2.5", "Using activesupport 5.2.0", "Using builder 3.2.3", "Using erubi 1.7.1", "Using mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240625-3308-tbvgn9.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-25 18:31:22,313 p=433549 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 18:31:22,313 p=433549 u=lasolovyov@dtln.local n=ansible | app                        : ok=28   changed=12   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 18:31:22,313 p=433549 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  18:31:22 +0300 (0:00:04.702)       0:03:01.447 ********** 
2024-06-25 18:31:22,313 p=433549 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.41s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------------- 61.60s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 14.96s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 5.10s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Install gems without development dependencies ----------------------------------------------------------------------------------------------------------------------- 4.70s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.41s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.85s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.27s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.26s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.47s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.34s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-25 18:31:22,314 p=433549 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri -------------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 18:31:22,315 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-25 18:31:22,315 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 18:31:22,315 p=433549 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 18:31:22,315 p=433549 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 18:31:22,315 p=433549 u=lasolovyov@dtln.local n=ansible | app : Install node js ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 19:34:14,028 p=440126 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 19:34:14,388 p=440126 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 19:34:14,598 p=440126 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 19:34:14,619 p=440126 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 19:34:14,744 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 19:34:14,744 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:14 +0300 (0:00:00.130)       0:00:00.130 ********** 
2024-06-25 19:34:16,951 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:16,961 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 19:34:16,961 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:16 +0300 (0:00:02.216)       0:00:02.346 ********** 
2024-06-25 19:34:17,137 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:17,147 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 19:34:17,147 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:17 +0300 (0:00:00.186)       0:00:02.533 ********** 
2024-06-25 19:34:32,464 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:32,473 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 19:34:32,473 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:32 +0300 (0:00:15.325)       0:00:17.859 ********** 
2024-06-25 19:34:32,639 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 19:34:32,771 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 19:34:32,782 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 19:34:32,783 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:32 +0300 (0:00:00.309)       0:00:18.168 ********** 
2024-06-25 19:34:32,895 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:32,912 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 19:34:32,912 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:32 +0300 (0:00:00.129)       0:00:18.298 ********** 
2024-06-25 19:34:33,027 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 19:34:33,095 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 19:34:33,156 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 19:34:33,168 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 19:34:33,168 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:33 +0300 (0:00:00.255)       0:00:18.553 ********** 
2024-06-25 19:34:33,304 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:33,313 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 19:34:33,314 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:33 +0300 (0:00:00.145)       0:00:18.699 ********** 
2024-06-25 19:34:34,530 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:34,539 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 19:34:34,539 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:34 +0300 (0:00:01.225)       0:00:19.925 ********** 
2024-06-25 19:34:34,677 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:34,689 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 19:34:34,689 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:34 +0300 (0:00:00.149)       0:00:20.075 ********** 
2024-06-25 19:34:35,803 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:35,812 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 19:34:35,813 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:35 +0300 (0:00:01.123)       0:00:21.198 ********** 
2024-06-25 19:34:35,986 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:35,994 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 19:34:35,995 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:35 +0300 (0:00:00.182)       0:00:21.380 ********** 
2024-06-25 19:34:37,081 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:37,090 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 19:34:37,090 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:37 +0300 (0:00:01.095)       0:00:22.476 ********** 
2024-06-25 19:34:38,184 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:38,194 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 19:34:38,195 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:38 +0300 (0:00:01.104)       0:00:23.580 ********** 
2024-06-25 19:34:38,415 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:38,425 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 19:34:38,425 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:38 +0300 (0:00:00.230)       0:00:23.810 ********** 
2024-06-25 19:34:38,771 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:38,789 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 19:34:38,789 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:38 +0300 (0:00:00.363)       0:00:24.174 ********** 
2024-06-25 19:34:38,883 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:38,893 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 19:34:38,893 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:38 +0300 (0:00:00.104)       0:00:24.278 ********** 
2024-06-25 19:34:39,007 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:39,015 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 19:34:39,016 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:39 +0300 (0:00:00.122)       0:00:24.401 ********** 
2024-06-25 19:34:39,076 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:39,093 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 19:34:39,093 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:39 +0300 (0:00:00.077)       0:00:24.478 ********** 
2024-06-25 19:34:39,134 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:39,144 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 19:34:39,144 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:39 +0300 (0:00:00.051)       0:00:24.530 ********** 
2024-06-25 19:34:42,116 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:42,126 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 19:34:42,126 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:42 +0300 (0:00:02.981)       0:00:27.511 ********** 
2024-06-25 19:34:42,179 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:42,192 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 19:34:42,192 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:42 +0300 (0:00:00.066)       0:00:27.577 ********** 
2024-06-25 19:34:42,272 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:34:42,281 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 19:34:42,281 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:42 +0300 (0:00:00.089)       0:00:27.667 ********** 
2024-06-25 19:34:42,452 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 19:34:42,462 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 19:34:42,462 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:42 +0300 (0:00:00.181)       0:00:27.848 ********** 
2024-06-25 19:34:46,968 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:34:46,980 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 19:34:46,980 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:34:46 +0300 (0:00:04.517)       0:00:32.366 ********** 
2024-06-25 19:35:02,543 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 19:35:48,318 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-25 19:35:48,328 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 19:35:48,329 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:35:48 +0300 (0:01:01.348)       0:01:33.714 ********** 
2024-06-25 19:37:09,794 p=440126 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:37:09,804 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 19:37:09,804 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:37:09 +0300 (0:01:21.475)       0:02:55.189 ********** 
2024-06-25 19:37:09,915 p=440126 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:37:09,924 p=440126 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri and install gems] *********************************************************************************************************************
2024-06-25 19:37:09,924 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:37:09 +0300 (0:00:00.120)       0:02:55.310 ********** 
2024-06-25 19:37:14,501 p=440126 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "bundle config build.nokogiri --use-system-libraries\nbundle install --clean --no-cache --without development\n", "delta": "0:00:04.519547", "end": "2024-06-25 19:37:13.499081", "msg": "non-zero return code", "rc": 5, "start": "2024-06-25 19:37:08.979534", "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nUsing rake 12.3.1\nUsing concurrent-ruby 1.0.5\nUsing i18n 1.0.0\nUsing minitest 5.11.3\nUsing thread_safe 0.3.6\nUsing tzinfo 1.2.5\nUsing activesupport 5.2.0\nUsing builder 3.2.3\nUsing erubi 1.7.1\nUsing mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240625-17222-1glwh06.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Using rake 12.3.1", "Using concurrent-ruby 1.0.5", "Using i18n 1.0.0", "Using minitest 5.11.3", "Using thread_safe 0.3.6", "Using tzinfo 1.2.5", "Using activesupport 5.2.0", "Using builder 3.2.3", "Using erubi 1.7.1", "Using mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240625-17222-1glwh06.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | app                        : ok=27   changed=11   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:37:14 +0300 (0:00:04.579)       0:02:59.890 ********** 
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.48s
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------------- 61.35s
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 15.33s
2024-06-25 19:37:14,504 p=440126 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri and install gems --------------------------------------------------------------------------------------------------------------------- 4.58s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 4.52s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.98s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.22s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.23s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.12s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.36s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.31s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 19:37:14,505 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 19:37:14,506 p=440126 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 19:41:49,171 p=441024 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 19:41:49,481 p=441024 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 19:41:49,637 p=441024 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 19:41:49,654 p=441024 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 19:41:49,744 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 19:41:49,745 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:49 +0300 (0:00:00.094)       0:00:00.094 ********** 
2024-06-25 19:41:51,423 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:41:51,432 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 19:41:51,432 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:51 +0300 (0:00:01.687)       0:00:01.782 ********** 
2024-06-25 19:41:54,267 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:41:54,280 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 19:41:54,280 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:54 +0300 (0:00:02.847)       0:00:04.629 ********** 
2024-06-25 19:41:54,329 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:41:54,338 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 19:41:54,338 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:54 +0300 (0:00:00.057)       0:00:04.687 ********** 
2024-06-25 19:41:54,409 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:41:54,418 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 19:41:54,418 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:54 +0300 (0:00:00.080)       0:00:04.768 ********** 
2024-06-25 19:41:55,080 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 19:41:55,091 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 19:41:55,091 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:41:55 +0300 (0:00:00.672)       0:00:05.441 ********** 
2024-06-25 19:42:00,726 p=441024 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:42:00,737 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 19:42:00,737 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:42:00 +0300 (0:00:05.645)       0:00:11.086 ********** 
2024-06-25 19:42:16,420 p=441024 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 19:42:16,848 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-25 19:42:16,859 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 19:42:16,859 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:42:16 +0300 (0:00:16.122)       0:00:27.208 ********** 
2024-06-25 19:43:38,261 p=441024 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:43:38,270 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 19:43:38,270 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:43:38 +0300 (0:01:21.411)       0:01:48.620 ********** 
2024-06-25 19:43:38,449 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:43:38,458 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] ***********************************************************************************************************************************************
2024-06-25 19:43:38,458 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:43:38 +0300 (0:00:00.187)       0:01:48.807 ********** 
2024-06-25 19:43:38,609 p=441024 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:43:38,618 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] ************************************************************************************************************************************************
2024-06-25 19:43:38,618 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:43:38 +0300 (0:00:00.160)       0:01:48.968 ********** 
2024-06-25 19:43:38,843 p=441024 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 19:43:38,856 p=441024 u=lasolovyov@dtln.local n=ansible | TASK [app : Wait for port 80 to become open on the host] *************************************************************************************************************************
2024-06-25 19:43:38,857 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:43:38 +0300 (0:00:00.238)       0:01:49.206 ********** 
2024-06-25 19:43:39,986 p=441024 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 19:43:40,020 p=441024 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 19:43:40,020 p=441024 u=lasolovyov@dtln.local n=ansible | app                        : ok=12   changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  19:43:40 +0300 (0:00:01.163)       0:01:50.370 ********** 
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.41s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------------- 16.12s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 5.65s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.85s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app --------------------------------------------------------------------------------------------------------------------------------------- 1.69s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Wait for port 80 to become open on the host ------------------------------------------------------------------------------------------------------------------------- 1.16s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.67s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Enable and start app ------------------------------------------------------------------------------------------------------------------------------------------------ 0.24s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Install node js ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Copy app service file ----------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 19:43:40,021 p=441024 u=lasolovyov@dtln.local n=ansible | app : Copy secret file ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.08s
2024-06-25 19:43:40,022 p=441024 u=lasolovyov@dtln.local n=ansible | app : Create directory for secret ----------------------------------------------------------------------------------------------------------------------------------------- 0.06s
2024-06-25 20:09:14,568 p=443773 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:09:14,939 p=443773 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:09:15,079 p=443773 u=lasolovyov@dtln.local n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected '-' indicator

The error appears to be in '/home/lasolovyov@dtln.local/slurm/xpaste_practicum/roles/app/tasks/main.yml': line 67, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    chdir: /app
ignore_errors: True
^ here

2024-06-25 20:09:37,424 p=443825 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:09:37,793 p=443825 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:09:37,985 p=443825 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 20:09:38,004 p=443825 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:09:38,123 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 20:09:38,123 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:09:38 +0300 (0:00:00.123)       0:00:00.123 ********** 
2024-06-25 20:09:40,159 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:09:40,169 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 20:09:40,169 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:09:40 +0300 (0:00:02.045)       0:00:02.169 ********** 
2024-06-25 20:09:40,348 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:09:40,359 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 20:09:40,359 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:09:40 +0300 (0:00:00.189)       0:00:02.359 ********** 
2024-06-25 20:10:00,378 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:10:00,390 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 20:10:00,390 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:10:00 +0300 (0:00:20.030)       0:00:22.390 ********** 
2024-06-25 20:10:34,066 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-25 20:10:34,182 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 20:10:34,195 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 20:10:34,195 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:10:34 +0300 (0:00:33.805)       0:00:56.195 ********** 
2024-06-25 20:10:34,310 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:10:34,327 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 20:10:34,327 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:10:34 +0300 (0:00:00.132)       0:00:56.327 ********** 
2024-06-25 20:11:06,466 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-25 20:11:40,162 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-25 20:12:13,174 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-25 20:12:13,190 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 20:12:13,190 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:13 +0300 (0:01:38.862)       0:02:35.190 ********** 
2024-06-25 20:12:13,331 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:12:13,342 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 20:12:13,342 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:13 +0300 (0:00:00.151)       0:02:35.342 ********** 
2024-06-25 20:12:13,552 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:12:13,562 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 20:12:13,563 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:13 +0300 (0:00:00.220)       0:02:35.563 ********** 
2024-06-25 20:12:13,658 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:13,666 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 20:12:13,666 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:13 +0300 (0:00:00.103)       0:02:35.666 ********** 
2024-06-25 20:12:15,299 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:15,309 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 20:12:15,310 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:15 +0300 (0:00:01.643)       0:02:37.310 ********** 
2024-06-25 20:12:15,492 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:15,501 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 20:12:15,502 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:15 +0300 (0:00:00.191)       0:02:37.502 ********** 
2024-06-25 20:12:16,631 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:16,640 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 20:12:16,640 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:16 +0300 (0:00:01.138)       0:02:38.640 ********** 
2024-06-25 20:12:17,734 p=443825 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:12:17,743 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 20:12:17,743 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:17 +0300 (0:00:01.103)       0:02:39.743 ********** 
2024-06-25 20:12:17,968 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:17,981 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 20:12:17,981 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:17 +0300 (0:00:00.237)       0:02:39.981 ********** 
2024-06-25 20:12:18,383 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:18,401 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 20:12:18,401 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:18 +0300 (0:00:00.420)       0:02:40.401 ********** 
2024-06-25 20:12:50,806 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:50,815 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 20:12:50,815 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:50 +0300 (0:00:32.414)       0:03:12.815 ********** 
2024-06-25 20:12:50,897 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:50,906 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 20:12:50,906 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:50 +0300 (0:00:00.090)       0:03:12.906 ********** 
2024-06-25 20:12:51,058 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:51,074 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:12:51,074 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:51 +0300 (0:00:00.168)       0:03:13.074 ********** 
2024-06-25 20:12:51,119 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:51,129 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:12:51,129 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:51 +0300 (0:00:00.054)       0:03:13.129 ********** 
2024-06-25 20:12:52,619 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:52,628 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:12:52,629 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:52 +0300 (0:00:01.499)       0:03:14.629 ********** 
2024-06-25 20:12:52,674 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:52,684 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:12:52,684 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:52 +0300 (0:00:00.055)       0:03:14.684 ********** 
2024-06-25 20:12:52,744 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:12:52,754 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:12:52,754 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:12:52 +0300 (0:00:00.069)       0:03:14.754 ********** 
2024-06-25 20:13:25,627 p=443825 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-25 20:13:25,637 p=443825 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:13:25,637 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:13:25 +0300 (0:00:32.883)       0:03:47.637 ********** 
2024-06-25 20:13:29,390 p=443825 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "curl -sSL https://get.rvm.io | bash\nsource /etc/profile.d/rvm.sh\nrvm install ruby 2.5.1\n", "delta": "0:00:03.656855", "end": "2024-06-25 20:13:29.156629", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 20:13:25.499774", "stderr": "  * Please do NOT forget to add your users to the <code>rvm</code> group.\n     The installer no longer auto-adds root or users to the rvm group. Admins must do this.\n     Also, please note that group memberships are ONLY evaluated at login time.\n     This means that users must log out then back in before group membership takes effect!\n/bin/sh: line 2: rvm: команда не найдена", "stderr_lines": ["  * Please do NOT forget to add your users to the <code>rvm</code> group.", "     The installer no longer auto-adds root or users to the rvm group. Admins must do this.", "     Also, please note that group memberships are ONLY evaluated at login time.", "     This means that users must log out then back in before group membership takes effect!", "/bin/sh: line 2: rvm: команда не найдена"], "stdout": "Downloading https://github.com/rvm/rvm/archive/master.tar.gz\nCreating group 'rvm'\nInstalling RVM to /usr/local/rvm/\nInstallation of RVM in /usr/local/rvm/ is almost complete:\n\n  * First you need to add all users that will be using rvm to 'rvm' group,\n    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.\n\n  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`\n    in all your open shell windows, in rare cases you need to reopen all shell windows.\n<warn>Thanks for installing RVM 🙏</warn>\nPlease consider donating to our open collective to help us maintain RVM.\n\n👉  Donate: <code>https://opencollective.com/rvm/donate</code>", "stdout_lines": ["Downloading https://github.com/rvm/rvm/archive/master.tar.gz", "Creating group 'rvm'", "Installing RVM to /usr/local/rvm/", "Installation of RVM in /usr/local/rvm/ is almost complete:", "", "  * First you need to add all users that will be using rvm to 'rvm' group,", "    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.", "", "  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`", "    in all your open shell windows, in rare cases you need to reopen all shell windows.", "<warn>Thanks for installing RVM 🙏</warn>", "Please consider donating to our open collective to help us maintain RVM.", "", "👉  Donate: <code>https://opencollective.com/rvm/donate</code>"]}
2024-06-25 20:13:29,391 p=443825 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | app                        : ok=23   changed=17   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:13:29 +0300 (0:00:03.754)       0:03:51.392 ********** 
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------ 98.86s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ----------------------------------------------------------------------------------------------------------------------------------------- 33.81s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------ 32.88s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ---------------------------------------------------------------------------------------------------------------------------------------------------- 32.41s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 20.03s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 3.75s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.05s
2024-06-25 20:13:29,392 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.64s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.50s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.42s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service ------------------------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 20:13:29,393 p=443825 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.10s
2024-06-25 20:14:02,273 p=444273 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:14:02,592 p=444273 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:14:02,768 p=444273 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 20:14:02,784 p=444273 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:14:02,875 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 20:14:02,876 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:02 +0300 (0:00:00.095)       0:00:00.095 ********** 
2024-06-25 20:14:04,732 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:04,744 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 20:14:04,744 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:04 +0300 (0:00:01.868)       0:00:01.963 ********** 
2024-06-25 20:14:04,902 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:04,912 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 20:14:04,912 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:04 +0300 (0:00:00.167)       0:00:02.131 ********** 
2024-06-25 20:14:22,334 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:22,345 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 20:14:22,346 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:22 +0300 (0:00:17.433)       0:00:19.564 ********** 
2024-06-25 20:14:22,508 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 20:14:22,619 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 20:14:22,632 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 20:14:22,633 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:22 +0300 (0:00:00.286)       0:00:19.851 ********** 
2024-06-25 20:14:22,765 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:22,783 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 20:14:22,784 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:22 +0300 (0:00:00.150)       0:00:20.002 ********** 
2024-06-25 20:14:22,890 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 20:14:22,951 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 20:14:23,011 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 20:14:23,024 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 20:14:23,025 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:23 +0300 (0:00:00.240)       0:00:20.243 ********** 
2024-06-25 20:14:23,172 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:23,183 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 20:14:23,183 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:23 +0300 (0:00:00.158)       0:00:20.402 ********** 
2024-06-25 20:14:24,410 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:24,422 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 20:14:24,422 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:24 +0300 (0:00:01.239)       0:00:21.641 ********** 
2024-06-25 20:14:24,593 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:24,608 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 20:14:24,608 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:24 +0300 (0:00:00.185)       0:00:21.827 ********** 
2024-06-25 20:14:25,816 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:25,828 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 20:14:25,829 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:25 +0300 (0:00:01.220)       0:00:23.048 ********** 
2024-06-25 20:14:26,043 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:26,055 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 20:14:26,055 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:26 +0300 (0:00:00.226)       0:00:23.274 ********** 
2024-06-25 20:14:27,180 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:27,191 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 20:14:27,191 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:27 +0300 (0:00:01.136)       0:00:24.410 ********** 
2024-06-25 20:14:28,298 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:28,313 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 20:14:28,314 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:28 +0300 (0:00:01.122)       0:00:25.532 ********** 
2024-06-25 20:14:28,509 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:28,519 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 20:14:28,519 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:28 +0300 (0:00:00.205)       0:00:25.738 ********** 
2024-06-25 20:14:28,884 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:14:28,904 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 20:14:28,905 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:28 +0300 (0:00:00.385)       0:00:26.123 ********** 
2024-06-25 20:14:29,022 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:29,032 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 20:14:29,032 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:29 +0300 (0:00:00.127)       0:00:26.251 ********** 
2024-06-25 20:14:29,181 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:29,191 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 20:14:29,192 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:29 +0300 (0:00:00.159)       0:00:26.411 ********** 
2024-06-25 20:14:29,264 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:29,283 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:14:29,283 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:29 +0300 (0:00:00.091)       0:00:26.502 ********** 
2024-06-25 20:14:29,333 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:29,344 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:14:29,344 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:29 +0300 (0:00:00.060)       0:00:26.563 ********** 
2024-06-25 20:14:32,583 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:32,593 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:14:32,593 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:32 +0300 (0:00:03.248)       0:00:29.812 ********** 
2024-06-25 20:14:32,647 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:32,656 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:14:32,656 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:32 +0300 (0:00:00.063)       0:00:29.875 ********** 
2024-06-25 20:14:32,740 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:14:32,751 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:14:32,751 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:32 +0300 (0:00:00.095)       0:00:29.970 ********** 
2024-06-25 20:14:32,876 p=444273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 20:14:32,887 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:14:32,888 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:14:32 +0300 (0:00:00.136)       0:00:30.106 ********** 
2024-06-25 20:15:18,042 p=444273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:15:18,052 p=444273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 20:15:18,053 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:15:18 +0300 (0:00:45.164)       0:01:15.271 ********** 
2024-06-25 20:15:22,466 p=444273 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 2.3.27 --user-install --no-document bundler", "item": {"name": "bundler", "version": "2.3.27"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "", "stdout_lines": []}
2024-06-25 20:15:22,468 p=444273 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:15:22 +0300 (0:00:04.416)       0:01:19.688 ********** 
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ----------------------------------------------------------------------------------------------------------------------------------------- 45.16s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 17.43s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 4.42s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.25s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.87s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.24s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.22s
2024-06-25 20:15:22,469 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.39s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.29s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 20:15:22,470 p=444273 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:18:00,856 p=444697 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:18:01,232 p=444697 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:18:01,390 p=444697 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:18:01,487 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 20:18:01,487 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:01 +0300 (0:00:00.101)       0:00:00.101 ********** 
2024-06-25 20:18:03,711 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:03,722 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 20:18:03,722 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:03 +0300 (0:00:02.235)       0:00:02.336 ********** 
2024-06-25 20:18:03,896 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:03,906 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 20:18:03,906 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:03 +0300 (0:00:00.183)       0:00:02.520 ********** 
2024-06-25 20:18:21,747 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:21,757 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 20:18:21,758 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:21 +0300 (0:00:17.851)       0:00:20.371 ********** 
2024-06-25 20:18:22,013 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 20:18:22,102 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 20:18:22,115 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 20:18:22,116 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:22 +0300 (0:00:00.358)       0:00:20.730 ********** 
2024-06-25 20:18:22,240 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:22,259 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 20:18:22,259 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:22 +0300 (0:00:00.143)       0:00:20.873 ********** 
2024-06-25 20:18:22,388 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 20:18:22,455 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 20:18:22,519 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 20:18:22,532 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 20:18:22,532 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:22 +0300 (0:00:00.272)       0:00:21.146 ********** 
2024-06-25 20:18:22,695 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:22,706 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 20:18:22,706 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:22 +0300 (0:00:00.174)       0:00:21.320 ********** 
2024-06-25 20:18:23,957 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:23,971 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 20:18:23,971 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:23 +0300 (0:00:01.265)       0:00:22.585 ********** 
2024-06-25 20:18:24,151 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:24,164 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 20:18:24,165 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:24 +0300 (0:00:00.193)       0:00:22.778 ********** 
2024-06-25 20:18:25,500 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:25,511 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 20:18:25,511 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:25 +0300 (0:00:01.346)       0:00:24.125 ********** 
2024-06-25 20:18:25,723 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:25,734 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 20:18:25,734 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:25 +0300 (0:00:00.223)       0:00:24.348 ********** 
2024-06-25 20:18:26,835 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:26,849 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 20:18:26,849 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:26 +0300 (0:00:01.115)       0:00:25.463 ********** 
2024-06-25 20:18:27,957 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:27,968 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 20:18:27,968 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:27 +0300 (0:00:01.119)       0:00:26.582 ********** 
2024-06-25 20:18:28,217 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:28,231 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 20:18:28,231 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:28 +0300 (0:00:00.262)       0:00:26.845 ********** 
2024-06-25 20:18:28,739 p=444697 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:18:28,756 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 20:18:28,757 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:28 +0300 (0:00:00.525)       0:00:27.371 ********** 
2024-06-25 20:18:28,886 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:28,898 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 20:18:28,899 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:28 +0300 (0:00:00.141)       0:00:27.512 ********** 
2024-06-25 20:18:29,029 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:29,038 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 20:18:29,038 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:29 +0300 (0:00:00.139)       0:00:27.652 ********** 
2024-06-25 20:18:29,105 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:29,121 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:18:29,121 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:29 +0300 (0:00:00.082)       0:00:27.735 ********** 
2024-06-25 20:18:29,168 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:29,177 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:18:29,177 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:29 +0300 (0:00:00.055)       0:00:27.791 ********** 
2024-06-25 20:18:32,623 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:32,632 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:18:32,633 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:32 +0300 (0:00:03.455)       0:00:31.247 ********** 
2024-06-25 20:18:32,679 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:32,689 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:18:32,689 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:32 +0300 (0:00:00.056)       0:00:31.303 ********** 
2024-06-25 20:18:32,772 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:18:32,781 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:18:32,782 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:32 +0300 (0:00:00.093)       0:00:31.396 ********** 
2024-06-25 20:18:32,904 p=444697 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 20:18:32,914 p=444697 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:18:32,914 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:32 +0300 (0:00:00.132)       0:00:31.528 ********** 
2024-06-25 20:18:40,274 p=444697 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "curl -sSL https://get.rvm.io | bash\nsource /etc/profile.d/rvm.sh\nrvm install ruby 2.5.1\ngem install bundler -v 2.3.27\n", "delta": "0:00:07.315122", "end": "2024-06-25 20:18:40.035200", "msg": "non-zero return code", "rc": 1, "start": "2024-06-25 20:18:32.720078", "stderr": "  * Please do NOT forget to add your users to the <code>rvm</code> group.\n     The installer no longer auto-adds root or users to the rvm group. Admins must do this.\n     Also, please note that group memberships are ONLY evaluated at login time.\n     This means that users must log out then back in before group membership takes effect!\n\nAlready installed ruby-2.5.1.\nTo reinstall use:\n\n    rvm reinstall ruby-2.5.1\n\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "stderr_lines": ["  * Please do NOT forget to add your users to the <code>rvm</code> group.", "     The installer no longer auto-adds root or users to the rvm group. Admins must do this.", "     Also, please note that group memberships are ONLY evaluated at login time.", "     This means that users must log out then back in before group membership takes effect!", "", "Already installed ruby-2.5.1.", "To reinstall use:", "", "    rvm reinstall ruby-2.5.1", "", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "Downloading https://github.com/rvm/rvm/archive/master.tar.gz\nUpgrading the RVM installation in /usr/local/rvm/\nUpgrade of RVM in /usr/local/rvm/ is complete.\n<warn>Thanks for installing RVM 🙏</warn>\nPlease consider donating to our open collective to help us maintain RVM.\n\n👉  Donate: <code>https://opencollective.com/rvm/donate</code>", "stdout_lines": ["Downloading https://github.com/rvm/rvm/archive/master.tar.gz", "Upgrading the RVM installation in /usr/local/rvm/", "Upgrade of RVM in /usr/local/rvm/ is complete.", "<warn>Thanks for installing RVM 🙏</warn>", "Please consider donating to our open collective to help us maintain RVM.", "", "👉  Donate: <code>https://opencollective.com/rvm/donate</code>"]}
2024-06-25 20:18:40,275 p=444697 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:18:40,275 p=444697 u=lasolovyov@dtln.local n=ansible | app                        : ok=23   changed=8    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:18:40 +0300 (0:00:07.361)       0:00:38.890 ********** 
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 17.85s
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 7.36s
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.46s
2024-06-25 20:18:40,276 p=444697 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.23s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.35s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.27s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.53s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.36s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 20:18:40,277 p=444697 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:18:40,278 p=444697 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:18:40,278 p=444697 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:18:40,278 p=444697 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 20:19:25,977 p=444948 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:19:26,360 p=444948 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:19:26,527 p=444948 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:19:26,617 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 20:19:26,618 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:26 +0300 (0:00:00.095)       0:00:00.095 ********** 
2024-06-25 20:19:28,834 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:28,847 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 20:19:28,847 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:28 +0300 (0:00:02.229)       0:00:02.324 ********** 
2024-06-25 20:19:29,026 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:29,038 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 20:19:29,038 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:29 +0300 (0:00:00.190)       0:00:02.515 ********** 
2024-06-25 20:19:46,677 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:46,685 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 20:19:46,685 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:46 +0300 (0:00:17.647)       0:00:20.162 ********** 
2024-06-25 20:19:46,852 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 20:19:46,978 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 20:19:46,990 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 20:19:46,990 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:46 +0300 (0:00:00.304)       0:00:20.467 ********** 
2024-06-25 20:19:47,107 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:47,125 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 20:19:47,125 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:47 +0300 (0:00:00.134)       0:00:20.602 ********** 
2024-06-25 20:19:47,239 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 20:19:47,303 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 20:19:47,365 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 20:19:47,375 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 20:19:47,376 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:47 +0300 (0:00:00.250)       0:00:20.852 ********** 
2024-06-25 20:19:47,514 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:47,523 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 20:19:47,523 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:47 +0300 (0:00:00.147)       0:00:21.000 ********** 
2024-06-25 20:19:48,749 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:48,758 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 20:19:48,758 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:48 +0300 (0:00:01.234)       0:00:22.235 ********** 
2024-06-25 20:19:48,891 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:48,902 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 20:19:48,903 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:48 +0300 (0:00:00.144)       0:00:22.380 ********** 
2024-06-25 20:19:50,096 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:50,106 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 20:19:50,106 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:50 +0300 (0:00:01.203)       0:00:23.583 ********** 
2024-06-25 20:19:50,301 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:50,309 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 20:19:50,310 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:50 +0300 (0:00:00.203)       0:00:23.787 ********** 
2024-06-25 20:19:51,399 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:51,412 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 20:19:51,412 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:51 +0300 (0:00:01.102)       0:00:24.889 ********** 
2024-06-25 20:19:52,507 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:52,516 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 20:19:52,516 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:52 +0300 (0:00:01.103)       0:00:25.993 ********** 
2024-06-25 20:19:52,689 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:52,698 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 20:19:52,699 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:52 +0300 (0:00:00.182)       0:00:26.176 ********** 
2024-06-25 20:19:53,150 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:19:53,166 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 20:19:53,166 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:53 +0300 (0:00:00.467)       0:00:26.643 ********** 
2024-06-25 20:19:53,273 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:53,282 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 20:19:53,283 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:53 +0300 (0:00:00.116)       0:00:26.760 ********** 
2024-06-25 20:19:53,400 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:53,413 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 20:19:53,414 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:53 +0300 (0:00:00.130)       0:00:26.891 ********** 
2024-06-25 20:19:53,486 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:53,503 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:19:53,503 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:53 +0300 (0:00:00.089)       0:00:26.980 ********** 
2024-06-25 20:19:53,546 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:53,556 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:19:53,556 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:53 +0300 (0:00:00.053)       0:00:27.033 ********** 
2024-06-25 20:19:56,954 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:56,967 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:19:56,967 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:56 +0300 (0:00:03.411)       0:00:30.444 ********** 
2024-06-25 20:19:57,035 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:57,045 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:19:57,045 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:57 +0300 (0:00:00.077)       0:00:30.522 ********** 
2024-06-25 20:19:57,128 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:19:57,137 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:19:57,137 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:57 +0300 (0:00:00.092)       0:00:30.614 ********** 
2024-06-25 20:19:57,289 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 20:19:57,299 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:19:57,299 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:19:57 +0300 (0:00:00.162)       0:00:30.776 ********** 
2024-06-25 20:20:04,497 p=444948 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "curl -sSL https://get.rvm.io | bash\nsource /etc/profile.d/rvm.sh\nrvm install ruby 2.5.1\ngem install bundler -v 2.3.27\n", "delta": "0:00:07.108343", "end": "2024-06-25 20:20:04.256343", "msg": "non-zero return code", "rc": 1, "start": "2024-06-25 20:19:57.148000", "stderr": "  * Please do NOT forget to add your users to the <code>rvm</code> group.\n     The installer no longer auto-adds root or users to the rvm group. Admins must do this.\n     Also, please note that group memberships are ONLY evaluated at login time.\n     This means that users must log out then back in before group membership takes effect!\n\nAlready installed ruby-2.5.1.\nTo reinstall use:\n\n    rvm reinstall ruby-2.5.1\n\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "stderr_lines": ["  * Please do NOT forget to add your users to the <code>rvm</code> group.", "     The installer no longer auto-adds root or users to the rvm group. Admins must do this.", "     Also, please note that group memberships are ONLY evaluated at login time.", "     This means that users must log out then back in before group membership takes effect!", "", "Already installed ruby-2.5.1.", "To reinstall use:", "", "    rvm reinstall ruby-2.5.1", "", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "Downloading https://github.com/rvm/rvm/archive/master.tar.gz\nUpgrading the RVM installation in /usr/local/rvm/\nUpgrade of RVM in /usr/local/rvm/ is complete.\n<warn>Thanks for installing RVM 🙏</warn>\nPlease consider donating to our open collective to help us maintain RVM.\n\n👉  Donate: <code>https://opencollective.com/rvm/donate</code>", "stdout_lines": ["Downloading https://github.com/rvm/rvm/archive/master.tar.gz", "Upgrading the RVM installation in /usr/local/rvm/", "Upgrade of RVM in /usr/local/rvm/ is complete.", "<warn>Thanks for installing RVM 🙏</warn>", "Please consider donating to our open collective to help us maintain RVM.", "", "👉  Donate: <code>https://opencollective.com/rvm/donate</code>"]}
2024-06-25 20:20:04,498 p=444948 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 20:20:04,511 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 20:20:04,511 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:20:04 +0300 (0:00:07.211)       0:00:37.988 ********** 
2024-06-25 20:21:26,340 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:21:26,348 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 20:21:26,349 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:21:26 +0300 (0:01:21.837)       0:01:59.826 ********** 
2024-06-25 20:22:07,940 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:22:07,949 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri and install gems] *********************************************************************************************************************
2024-06-25 20:22:07,950 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:22:07 +0300 (0:00:41.601)       0:02:41.427 ********** 
2024-06-25 20:22:08,002 p=444948 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "bundle config build.nokogiri --use-system-libraries\nbundle install --clean --no-cache --without development\n", "delta": "0:00:00.007220", "end": "2024-06-25 20:22:07.761235", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 20:22:07.754015", "stderr": "/bin/sh: bundle: команда не найдена\n/bin/sh: line 1: bundle: команда не найдена", "stderr_lines": ["/bin/sh: bundle: команда не найдена", "/bin/sh: line 1: bundle: команда не найдена"], "stdout": "", "stdout_lines": []}
2024-06-25 20:22:08,002 p=444948 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 20:22:08,012 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] ***********************************************************************************************************************************************
2024-06-25 20:22:08,012 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:22:08 +0300 (0:00:00.062)       0:02:41.489 ********** 
2024-06-25 20:22:08,070 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:22:08,080 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] ************************************************************************************************************************************************
2024-06-25 20:22:08,080 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:22:08 +0300 (0:00:00.067)       0:02:41.557 ********** 
2024-06-25 20:22:08,247 p=444948 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:22:08,257 p=444948 u=lasolovyov@dtln.local n=ansible | TASK [app : Wait for port 80 to become open on the host] *************************************************************************************************************************
2024-06-25 20:22:08,257 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:22:08 +0300 (0:00:00.177)       0:02:41.734 ********** 
2024-06-25 20:22:09,307 p=444948 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | app                        : ok=30   changed=14   unreachable=0    failed=0    skipped=0    rescued=0    ignored=2   
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:22:09 +0300 (0:00:01.076)       0:02:42.810 ********** 
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.84s
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | app : Install node js ---------------------------------------------------------------------------------------------------------------------------------------------------- 41.60s
2024-06-25 20:22:09,333 p=444948 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 17.65s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 7.21s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.41s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.23s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.23s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.20s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | app : Wait for port 80 to become open on the host ------------------------------------------------------------------------------------------------------------------------- 1.08s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.47s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.30s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | app : Enable and start app ------------------------------------------------------------------------------------------------------------------------------------------------ 0.18s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 20:22:09,334 p=444948 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 20:25:15,868 p=445611 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:25:16,187 p=445611 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:25:16,369 p=445611 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 20:25:16,384 p=445611 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:25:16,479 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 20:25:16,479 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:25:16 +0300 (0:00:00.098)       0:00:00.098 ********** 
2024-06-25 20:25:18,469 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:25:18,478 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 20:25:18,478 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:25:18 +0300 (0:00:01.999)       0:00:02.097 ********** 
2024-06-25 20:25:18,649 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:25:18,659 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 20:25:18,659 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:25:18 +0300 (0:00:00.180)       0:00:02.278 ********** 
2024-06-25 20:25:46,235 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:25:46,244 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 20:25:46,244 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:25:46 +0300 (0:00:27.585)       0:00:29.863 ********** 
2024-06-25 20:26:15,354 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-25 20:26:15,493 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 20:26:15,506 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 20:26:15,506 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:26:15 +0300 (0:00:29.261)       0:00:59.125 ********** 
2024-06-25 20:26:15,628 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:26:15,647 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 20:26:15,647 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:26:15 +0300 (0:00:00.141)       0:00:59.266 ********** 
2024-06-25 20:26:42,860 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-25 20:27:11,554 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-25 20:27:38,905 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-25 20:27:38,920 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 20:27:38,920 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:38 +0300 (0:01:23.272)       0:02:22.539 ********** 
2024-06-25 20:27:39,065 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:27:39,074 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 20:27:39,074 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:39 +0300 (0:00:00.154)       0:02:22.693 ********** 
2024-06-25 20:27:39,307 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:27:39,316 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 20:27:39,317 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:39 +0300 (0:00:00.242)       0:02:22.936 ********** 
2024-06-25 20:27:39,428 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:39,437 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 20:27:39,437 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:39 +0300 (0:00:00.120)       0:02:23.056 ********** 
2024-06-25 20:27:41,162 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:41,171 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 20:27:41,172 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:41 +0300 (0:00:01.734)       0:02:24.791 ********** 
2024-06-25 20:27:41,388 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:41,402 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 20:27:41,402 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:41 +0300 (0:00:00.230)       0:02:25.021 ********** 
2024-06-25 20:27:42,568 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:42,581 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 20:27:42,581 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:42 +0300 (0:00:01.178)       0:02:26.200 ********** 
2024-06-25 20:27:43,680 p=445611 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:27:43,689 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 20:27:43,689 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:43 +0300 (0:00:01.108)       0:02:27.308 ********** 
2024-06-25 20:27:43,961 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:43,970 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 20:27:43,971 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:43 +0300 (0:00:00.281)       0:02:27.590 ********** 
2024-06-25 20:27:44,348 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:27:44,366 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 20:27:44,366 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:27:44 +0300 (0:00:00.395)       0:02:27.985 ********** 
2024-06-25 20:28:11,147 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:11,158 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 20:28:11,159 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:11 +0300 (0:00:26.792)       0:02:54.777 ********** 
2024-06-25 20:28:11,249 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:11,258 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 20:28:11,258 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:11 +0300 (0:00:00.099)       0:02:54.877 ********** 
2024-06-25 20:28:11,405 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:11,424 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:28:11,425 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:11 +0300 (0:00:00.166)       0:02:55.043 ********** 
2024-06-25 20:28:11,490 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:11,499 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:28:11,500 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:11 +0300 (0:00:00.075)       0:02:55.118 ********** 
2024-06-25 20:28:13,894 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:13,907 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:28:13,907 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:13 +0300 (0:00:02.407)       0:02:57.526 ********** 
2024-06-25 20:28:13,954 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:13,963 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:28:13,963 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:13 +0300 (0:00:00.056)       0:02:57.582 ********** 
2024-06-25 20:28:14,025 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:28:14,035 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:28:14,035 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:14 +0300 (0:00:00.071)       0:02:57.654 ********** 
2024-06-25 20:28:41,566 p=445611 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-25 20:28:41,581 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:28:41,581 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:41 +0300 (0:00:27.546)       0:03:25.200 ********** 
2024-06-25 20:28:45,485 p=445611 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "curl -sSL https://get.rvm.io | bash >> /dev/null\nsource /etc/profile.d/rvm.sh\nrvm install ruby 2.5.1\n", "delta": "0:00:03.854445", "end": "2024-06-25 20:28:45.410378", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 20:28:41.555933", "stderr": "  * Please do NOT forget to add your users to the <code>rvm</code> group.\n     The installer no longer auto-adds root or users to the rvm group. Admins must do this.\n     Also, please note that group memberships are ONLY evaluated at login time.\n     This means that users must log out then back in before group membership takes effect!\n/bin/sh: line 2: rvm: команда не найдена", "stderr_lines": ["  * Please do NOT forget to add your users to the <code>rvm</code> group.", "     The installer no longer auto-adds root or users to the rvm group. Admins must do this.", "     Also, please note that group memberships are ONLY evaluated at login time.", "     This means that users must log out then back in before group membership takes effect!", "/bin/sh: line 2: rvm: команда не найдена"], "stdout": "", "stdout_lines": []}
2024-06-25 20:28:45,485 p=445611 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 20:28:45,494 p=445611 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 20:28:45,495 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:45 +0300 (0:00:03.913)       0:03:29.114 ********** 
2024-06-25 20:28:45,673 p=445611 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "item": {"name": "bundler", "version": "2.3.27"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 20:28:45,676 p=445611 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:28:45,677 p=445611 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=18   unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2024-06-25 20:28:45,677 p=445611 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:28:45 +0300 (0:00:00.182)       0:03:29.296 ********** 
2024-06-25 20:28:45,677 p=445611 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:28:45,677 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------ 83.27s
2024-06-25 20:28:45,677 p=445611 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ----------------------------------------------------------------------------------------------------------------------------------------- 29.26s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 27.59s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------ 27.55s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ---------------------------------------------------------------------------------------------------------------------------------------------------- 26.79s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 3.91s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.41s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.00s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.73s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.18s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.11s
2024-06-25 20:28:45,678 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.40s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.28s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service ------------------------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 20:28:45,679 p=445611 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:31:21,085 p=446242 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:31:21,471 p=446242 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:31:21,656 p=446242 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 20:31:21,675 p=446242 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:31:21,804 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:31:21,805 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:21 +0300 (0:00:00.132)       0:00:00.133 ********** 
2024-06-25 20:31:23,804 p=446242 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:31:23,816 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:31:23,816 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:23 +0300 (0:00:02.011)       0:00:02.144 ********** 
2024-06-25 20:31:27,681 p=446242 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:31:27,692 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:31:27,693 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:27 +0300 (0:00:03.876)       0:00:06.021 ********** 
2024-06-25 20:31:27,748 p=446242 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:31:27,758 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:31:27,758 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:27 +0300 (0:00:00.065)       0:00:06.086 ********** 
2024-06-25 20:31:27,884 p=446242 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:31:27,894 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:31:27,895 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:27 +0300 (0:00:00.136)       0:00:06.223 ********** 
2024-06-25 20:31:28,681 p=446242 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 20:31:28,694 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 20:31:28,694 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:31:28 +0300 (0:00:00.799)       0:00:07.022 ********** 
2024-06-25 20:32:08,462 p=446242 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:32:08,472 p=446242 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 20:32:08,472 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:32:08 +0300 (0:00:39.777)       0:00:46.800 ********** 
2024-06-25 20:32:12,753 p=446242 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 2.3.27 --user-install --no-document bundler", "item": {"name": "bundler", "version": "2.3.27"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "", "stdout_lines": []}
2024-06-25 20:32:12,756 p=446242 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:32:12,756 p=446242 u=lasolovyov@dtln.local n=ansible | app                        : ok=6    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:32:12 +0300 (0:00:04.284)       0:00:51.085 ********** 
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ----------------------------------------------------------------------------------------------------------------------------------------- 39.78s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 4.29s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.88s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app --------------------------------------------------------------------------------------------------------------------------------------- 2.01s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.80s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Copy secret file ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 20:32:12,757 p=446242 u=lasolovyov@dtln.local n=ansible | app : Create directory for secret ----------------------------------------------------------------------------------------------------------------------------------------- 0.07s
2024-06-25 20:34:13,763 p=446558 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 20:34:14,139 p=446558 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 20:34:14,306 p=446558 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 20:34:14,325 p=446558 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 20:34:14,438 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 20:34:14,438 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:14 +0300 (0:00:00.117)       0:00:00.117 ********** 
2024-06-25 20:34:16,557 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:34:16,572 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 20:34:16,573 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:16 +0300 (0:00:02.134)       0:00:02.252 ********** 
2024-06-25 20:34:19,807 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:34:19,817 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 20:34:19,817 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:19 +0300 (0:00:03.244)       0:00:05.496 ********** 
2024-06-25 20:34:19,880 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:34:19,890 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 20:34:19,890 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:19 +0300 (0:00:00.072)       0:00:05.569 ********** 
2024-06-25 20:34:19,982 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:34:19,992 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 20:34:19,992 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:19 +0300 (0:00:00.102)       0:00:05.671 ********** 
2024-06-25 20:34:20,718 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 20:34:20,736 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 20:34:20,737 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:20 +0300 (0:00:00.744)       0:00:06.415 ********** 
2024-06-25 20:34:38,185 p=446558 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 20:34:38,200 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 20:34:38,200 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:34:38 +0300 (0:00:17.463)       0:00:23.879 ********** 
2024-06-25 20:35:59,849 p=446558 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:35:59,861 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 20:35:59,862 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:35:59 +0300 (0:01:21.661)       0:01:45.540 ********** 
2024-06-25 20:36:34,887 p=446558 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:36:34,895 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri and install gems] *********************************************************************************************************************
2024-06-25 20:36:34,895 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:36:34 +0300 (0:00:35.033)       0:02:20.574 ********** 
2024-06-25 20:36:45,458 p=446558 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "bundle config build.nokogiri --use-system-libraries\nbundle install --clean --no-cache --without development\n", "delta": "0:00:10.502538", "end": "2024-06-25 20:36:45.370437", "msg": "non-zero return code", "rc": 5, "start": "2024-06-25 20:36:34.867899", "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 12.3.1\nInstalling rake 12.3.1\nFetching concurrent-ruby 1.0.5\nInstalling concurrent-ruby 1.0.5\nFetching i18n 1.0.0\nInstalling i18n 1.0.0\nFetching minitest 5.11.3\nInstalling minitest 5.11.3\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.5\nInstalling tzinfo 1.2.5\nFetching activesupport 5.2.0\nInstalling activesupport 5.2.0\nFetching builder 3.2.3\nInstalling builder 3.2.3\nFetching erubi 1.7.1\nInstalling erubi 1.7.1\nFetching mini_portile2 2.3.0\nInstalling mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240625-12513-1m47211.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Fetching rake 12.3.1", "Installing rake 12.3.1", "Fetching concurrent-ruby 1.0.5", "Installing concurrent-ruby 1.0.5", "Fetching i18n 1.0.0", "Installing i18n 1.0.0", "Fetching minitest 5.11.3", "Installing minitest 5.11.3", "Fetching thread_safe 0.3.6", "Installing thread_safe 0.3.6", "Fetching tzinfo 1.2.5", "Installing tzinfo 1.2.5", "Fetching activesupport 5.2.0", "Installing activesupport 5.2.0", "Fetching builder 3.2.3", "Installing builder 3.2.3", "Fetching erubi 1.7.1", "Installing erubi 1.7.1", "Fetching mini_portile2 2.3.0", "Installing mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240625-12513-1m47211.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-25 20:36:45,458 p=446558 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 20:36:45,470 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] ***********************************************************************************************************************************************
2024-06-25 20:36:45,471 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:36:45 +0300 (0:00:10.575)       0:02:31.150 ********** 
2024-06-25 20:36:45,617 p=446558 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:36:45,629 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] ************************************************************************************************************************************************
2024-06-25 20:36:45,630 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:36:45 +0300 (0:00:00.159)       0:02:31.309 ********** 
2024-06-25 20:36:45,896 p=446558 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 20:36:45,905 p=446558 u=lasolovyov@dtln.local n=ansible | TASK [app : Wait for port 80 to become open on the host] *************************************************************************************************************************
2024-06-25 20:36:45,906 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:36:45 +0300 (0:00:00.275)       0:02:31.585 ********** 
2024-06-25 20:36:47,019 p=446558 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 20:36:47,045 p=446558 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 20:36:47,045 p=446558 u=lasolovyov@dtln.local n=ansible | app                        : ok=12   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  20:36:47 +0300 (0:00:01.140)       0:02:32.725 ********** 
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.66s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Install node js ---------------------------------------------------------------------------------------------------------------------------------------------------- 35.03s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------------- 17.46s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri and install gems -------------------------------------------------------------------------------------------------------------------- 10.58s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.24s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Create main directory for app --------------------------------------------------------------------------------------------------------------------------------------- 2.13s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Wait for port 80 to become open on the host ------------------------------------------------------------------------------------------------------------------------- 1.14s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.74s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Enable and start app ------------------------------------------------------------------------------------------------------------------------------------------------ 0.28s
2024-06-25 20:36:47,046 p=446558 u=lasolovyov@dtln.local n=ansible | app : Copy app service file ----------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 20:36:47,047 p=446558 u=lasolovyov@dtln.local n=ansible | app : Copy secret file ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.10s
2024-06-25 20:36:47,047 p=446558 u=lasolovyov@dtln.local n=ansible | app : Create directory for secret ----------------------------------------------------------------------------------------------------------------------------------------- 0.07s
2024-06-25 22:06:54,827 p=453671 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:06:55,137 p=453671 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:06:55,312 p=453671 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:06:55,329 p=453671 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:06:55,421 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:06:55,422 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:06:55 +0300 (0:00:00.097)       0:00:00.097 ********** 
2024-06-25 22:06:57,264 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:06:57,273 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:06:57,273 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:06:57 +0300 (0:00:01.851)       0:00:01.948 ********** 
2024-06-25 22:06:57,513 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:06:57,522 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:06:57,522 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:06:57 +0300 (0:00:00.249)       0:00:02.197 ********** 
2024-06-25 22:07:14,326 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:07:14,338 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:07:14,338 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:07:14 +0300 (0:00:16.815)       0:00:19.013 ********** 
2024-06-25 22:07:41,734 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-25 22:07:41,848 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:07:41,859 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:07:41,859 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:07:41 +0300 (0:00:27.520)       0:00:46.534 ********** 
2024-06-25 22:07:41,965 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:07:41,982 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:07:41,982 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:07:41 +0300 (0:00:00.122)       0:00:46.657 ********** 
2024-06-25 22:08:09,304 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-25 22:08:39,227 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-25 22:09:07,233 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-25 22:09:07,249 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:09:07,250 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:07 +0300 (0:01:25.267)       0:02:11.925 ********** 
2024-06-25 22:09:07,437 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:09:07,447 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:09:07,447 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:07 +0300 (0:00:00.197)       0:02:12.122 ********** 
2024-06-25 22:09:07,654 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:09:07,663 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:09:07,663 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:07 +0300 (0:00:00.216)       0:02:12.338 ********** 
2024-06-25 22:09:07,766 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:07,775 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:09:07,775 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:07 +0300 (0:00:00.111)       0:02:12.450 ********** 
2024-06-25 22:09:09,240 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:09,250 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:09:09,250 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:09 +0300 (0:00:01.474)       0:02:13.925 ********** 
2024-06-25 22:09:09,443 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:09,452 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:09:09,452 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:09 +0300 (0:00:00.202)       0:02:14.128 ********** 
2024-06-25 22:09:10,582 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:10,593 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:09:10,593 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:10 +0300 (0:00:01.140)       0:02:15.268 ********** 
2024-06-25 22:09:11,705 p=453671 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:09:11,714 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:09:11,714 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:11 +0300 (0:00:01.121)       0:02:16.389 ********** 
2024-06-25 22:09:11,926 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:11,936 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:09:11,936 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:11 +0300 (0:00:00.221)       0:02:16.611 ********** 
2024-06-25 22:09:12,286 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:12,305 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:09:12,305 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:12 +0300 (0:00:00.369)       0:02:16.980 ********** 
2024-06-25 22:09:38,791 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:38,800 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:09:38,801 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:38 +0300 (0:00:26.495)       0:02:43.476 ********** 
2024-06-25 22:09:38,899 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:38,908 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:09:38,909 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:38 +0300 (0:00:00.107)       0:02:43.584 ********** 
2024-06-25 22:09:39,064 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:39,083 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:09:39,083 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:39 +0300 (0:00:00.174)       0:02:43.758 ********** 
2024-06-25 22:09:39,143 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:39,153 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:09:39,153 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:39 +0300 (0:00:00.069)       0:02:43.828 ********** 
2024-06-25 22:09:40,904 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:40,916 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:09:40,916 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:40 +0300 (0:00:01.763)       0:02:45.592 ********** 
2024-06-25 22:09:40,972 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:40,981 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:09:40,981 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:40 +0300 (0:00:00.064)       0:02:45.656 ********** 
2024-06-25 22:09:41,040 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:09:41,050 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:09:41,050 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:09:41 +0300 (0:00:00.069)       0:02:45.725 ********** 
2024-06-25 22:10:07,956 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-25 22:10:07,969 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 22:10:07,969 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:10:07 +0300 (0:00:26.919)       0:03:12.644 ********** 
2024-06-25 22:10:11,870 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:10:11,883 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Add root user to rvm group] ******************************************************************************************************************************************
2024-06-25 22:10:11,883 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:10:11 +0300 (0:00:03.913)       0:03:16.558 ********** 
2024-06-25 22:10:12,047 p=453671 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:10:12,057 p=453671 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1 via rvm] ******************************************************************************************************************************************
2024-06-25 22:10:12,057 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:10:12 +0300 (0:00:00.173)       0:03:16.732 ********** 
2024-06-25 22:10:12,112 p=453671 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "rvm install ruby 2.5.1", "delta": "0:00:00.008090", "end": "2024-06-25 22:10:11.612321", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 22:10:11.604231", "stderr": "/bin/sh: rvm: команда не найдена", "stderr_lines": ["/bin/sh: rvm: команда не найдена"], "stdout": "", "stdout_lines": []}
2024-06-25 22:10:12,113 p=453671 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:10:12,113 p=453671 u=lasolovyov@dtln.local n=ansible | app                        : ok=25   changed=19   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:10:12 +0300 (0:00:00.056)       0:03:16.789 ********** 
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------ 85.27s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ----------------------------------------------------------------------------------------------------------------------------------------- 27.52s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------ 26.92s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ---------------------------------------------------------------------------------------------------------------------------------------------------- 26.50s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 16.82s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 3.91s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.85s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.76s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.47s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 22:10:12,114 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.37s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service ------------------------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | app : Add root user to rvm group ------------------------------------------------------------------------------------------------------------------------------------------ 0.17s
2024-06-25 22:10:12,115 p=453671 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.12s
2024-06-25 22:11:22,645 p=454151 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:11:22,959 p=454151 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:11:23,129 p=454151 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:11:23,145 p=454151 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:11:23,246 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:11:23,247 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:23 +0300 (0:00:00.105)       0:00:00.105 ********** 
2024-06-25 22:11:25,432 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:25,440 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:11:25,440 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:25 +0300 (0:00:02.193)       0:00:02.298 ********** 
2024-06-25 22:11:25,595 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:25,604 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:11:25,605 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:25 +0300 (0:00:00.164)       0:00:02.463 ********** 
2024-06-25 22:11:40,262 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:40,272 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:11:40,272 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:40 +0300 (0:00:14.667)       0:00:17.131 ********** 
2024-06-25 22:11:40,465 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:11:40,617 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:11:40,630 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:11:40,630 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:40 +0300 (0:00:00.357)       0:00:17.488 ********** 
2024-06-25 22:11:40,767 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:40,786 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:11:40,786 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:40 +0300 (0:00:00.156)       0:00:17.645 ********** 
2024-06-25 22:11:40,905 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:11:40,966 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:11:41,028 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:11:41,041 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:11:41,041 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:41 +0300 (0:00:00.254)       0:00:17.900 ********** 
2024-06-25 22:11:41,187 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:41,197 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:11:41,197 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:41 +0300 (0:00:00.155)       0:00:18.055 ********** 
2024-06-25 22:11:42,490 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:42,500 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:11:42,501 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:42 +0300 (0:00:01.303)       0:00:19.359 ********** 
2024-06-25 22:11:42,665 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:42,678 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:11:42,678 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:42 +0300 (0:00:00.177)       0:00:19.536 ********** 
2024-06-25 22:11:43,971 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:43,982 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:11:43,982 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:43 +0300 (0:00:01.303)       0:00:20.840 ********** 
2024-06-25 22:11:44,216 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:44,228 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:11:44,228 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:44 +0300 (0:00:00.246)       0:00:21.086 ********** 
2024-06-25 22:11:45,368 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:45,379 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:11:45,379 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:45 +0300 (0:00:01.150)       0:00:22.237 ********** 
2024-06-25 22:11:46,506 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:46,516 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:11:46,516 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:46 +0300 (0:00:01.137)       0:00:23.374 ********** 
2024-06-25 22:11:46,717 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:46,726 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:11:46,726 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:46 +0300 (0:00:00.210)       0:00:23.585 ********** 
2024-06-25 22:11:47,154 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:47,170 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:11:47,170 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:47 +0300 (0:00:00.444)       0:00:24.029 ********** 
2024-06-25 22:11:47,270 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:47,282 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:11:47,282 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:47 +0300 (0:00:00.111)       0:00:24.140 ********** 
2024-06-25 22:11:47,403 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:47,413 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:11:47,413 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:47 +0300 (0:00:00.130)       0:00:24.271 ********** 
2024-06-25 22:11:47,485 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:47,508 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:11:47,509 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:47 +0300 (0:00:00.095)       0:00:24.367 ********** 
2024-06-25 22:11:47,570 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:47,583 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:11:47,583 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:47 +0300 (0:00:00.074)       0:00:24.441 ********** 
2024-06-25 22:11:52,141 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:52,151 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:11:52,151 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:52 +0300 (0:00:04.567)       0:00:29.009 ********** 
2024-06-25 22:11:52,208 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:52,218 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:11:52,218 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:52 +0300 (0:00:00.067)       0:00:29.077 ********** 
2024-06-25 22:11:52,333 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:52,342 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:11:52,343 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:52 +0300 (0:00:00.124)       0:00:29.201 ********** 
2024-06-25 22:11:52,479 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:11:52,488 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 22:11:52,488 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:52 +0300 (0:00:00.145)       0:00:29.347 ********** 
2024-06-25 22:11:56,161 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:11:56,174 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Add root user to rvm group] ******************************************************************************************************************************************
2024-06-25 22:11:56,174 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:56 +0300 (0:00:03.685)       0:00:33.032 ********** 
2024-06-25 22:11:56,235 p=454151 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:11:56,244 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1 via rvm] ******************************************************************************************************************************************
2024-06-25 22:11:56,244 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:11:56 +0300 (0:00:00.069)       0:00:33.102 ********** 
2024-06-25 22:12:28,739 p=454151 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:12:28,748 p=454151 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:12:28,748 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:12:28 +0300 (0:00:32.504)       0:01:05.607 ********** 
2024-06-25 22:12:32,441 p=454151 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 2.3.27 --user-install --no-document bundler", "item": {"name": "bundler", "version": "2.3.27"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "", "stdout_lines": []}
2024-06-25 22:12:35,954 p=454151 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'nokogiri', 'version': '1.8.2'}) => {"ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 1.8.2 --user-install --no-document nokogiri", "item": {"name": "nokogiri", "version": "1.8.2"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing nokogiri:\n\tnokogiri requires Ruby version >= 2.1.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing nokogiri:\n\tnokogiri requires Ruby version >= 2.1.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing nokogiri:", "\tnokogiri requires Ruby version >= 2.1.0."], "stdout": "Successfully installed mini_portile2-2.3.0\n", "stdout_lines": ["Successfully installed mini_portile2-2.3.0"]}
2024-06-25 22:12:35,957 p=454151 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:12:35,957 p=454151 u=lasolovyov@dtln.local n=ansible | app                        : ok=26   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:12:35 +0300 (0:00:07.209)       0:01:12.816 ********** 
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 via rvm ----------------------------------------------------------------------------------------------------------------------------------------- 32.50s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 14.67s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 7.21s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 4.57s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 3.69s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.19s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.30s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.30s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.15s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 22:12:35,958 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.44s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.36s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 22:12:35,959 p=454151 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 22:13:47,072 p=454547 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:13:47,378 p=454547 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:13:47,553 p=454547 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:13:47,570 p=454547 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:13:47,663 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:13:47,663 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:13:47 +0300 (0:00:00.096)       0:00:00.096 ********** 
2024-06-25 22:13:49,490 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:13:49,500 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:13:49,500 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:13:49 +0300 (0:00:01.836)       0:00:01.933 ********** 
2024-06-25 22:13:49,668 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:13:49,678 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:13:49,678 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:13:49 +0300 (0:00:00.178)       0:00:02.112 ********** 
2024-06-25 22:14:04,291 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:04,302 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:14:04,302 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:04 +0300 (0:00:14.623)       0:00:16.735 ********** 
2024-06-25 22:14:04,487 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:14:04,608 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:14:04,621 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:14:04,621 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:04 +0300 (0:00:00.318)       0:00:17.054 ********** 
2024-06-25 22:14:04,765 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:04,785 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:14:04,785 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:04 +0300 (0:00:00.164)       0:00:17.219 ********** 
2024-06-25 22:14:04,908 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:14:04,974 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:14:05,035 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:14:05,050 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:14:05,050 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:05 +0300 (0:00:00.264)       0:00:17.483 ********** 
2024-06-25 22:14:05,199 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:05,210 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:14:05,210 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:05 +0300 (0:00:00.160)       0:00:17.643 ********** 
2024-06-25 22:14:06,468 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:06,480 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:14:06,480 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:06 +0300 (0:00:01.269)       0:00:18.913 ********** 
2024-06-25 22:14:06,657 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:06,670 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:14:06,671 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:06 +0300 (0:00:00.190)       0:00:19.104 ********** 
2024-06-25 22:14:07,958 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:07,968 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:14:07,969 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:07 +0300 (0:00:01.298)       0:00:20.402 ********** 
2024-06-25 22:14:08,184 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:08,195 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:14:08,195 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:08 +0300 (0:00:00.226)       0:00:20.629 ********** 
2024-06-25 22:14:09,302 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:09,313 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:14:09,313 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:09 +0300 (0:00:01.117)       0:00:21.746 ********** 
2024-06-25 22:14:10,457 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:10,470 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:14:10,470 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:10 +0300 (0:00:01.157)       0:00:22.904 ********** 
2024-06-25 22:14:10,669 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:10,677 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:14:10,677 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:10 +0300 (0:00:00.207)       0:00:23.111 ********** 
2024-06-25 22:14:11,044 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:11,062 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:14:11,062 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:11 +0300 (0:00:00.384)       0:00:23.496 ********** 
2024-06-25 22:14:11,189 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:11,198 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:14:11,199 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:11 +0300 (0:00:00.136)       0:00:23.632 ********** 
2024-06-25 22:14:11,349 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:11,358 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:14:11,359 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:11 +0300 (0:00:00.159)       0:00:23.792 ********** 
2024-06-25 22:14:11,440 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:11,457 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:14:11,457 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:11 +0300 (0:00:00.098)       0:00:23.890 ********** 
2024-06-25 22:14:11,508 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:11,518 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:14:11,518 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:11 +0300 (0:00:00.061)       0:00:23.952 ********** 
2024-06-25 22:14:15,308 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:15,317 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:14:15,318 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:15 +0300 (0:00:03.799)       0:00:27.751 ********** 
2024-06-25 22:14:15,362 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:15,371 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:14:15,371 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:15 +0300 (0:00:00.053)       0:00:27.804 ********** 
2024-06-25 22:14:15,454 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:15,463 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:14:15,464 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:15 +0300 (0:00:00.092)       0:00:27.897 ********** 
2024-06-25 22:14:15,625 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:14:15,645 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 22:14:15,646 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:15 +0300 (0:00:00.182)       0:00:28.079 ********** 
2024-06-25 22:14:19,870 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:19,883 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Add root user to rvm group] ******************************************************************************************************************************************
2024-06-25 22:14:19,883 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:19 +0300 (0:00:04.237)       0:00:32.316 ********** 
2024-06-25 22:14:19,952 p=454547 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:14:19,962 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1 via rvm] ******************************************************************************************************************************************
2024-06-25 22:14:19,962 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:19 +0300 (0:00:00.079)       0:00:32.395 ********** 
2024-06-25 22:14:20,793 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:14:20,804 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:14:20,804 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:14:20 +0300 (0:00:00.842)       0:00:33.238 ********** 
2024-06-25 22:14:37,373 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 22:15:27,360 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-25 22:15:27,371 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 22:15:27,371 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:15:27 +0300 (0:01:06.567)       0:01:39.805 ********** 
2024-06-25 22:16:48,808 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:16:48,817 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 22:16:48,817 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:16:48 +0300 (0:01:21.446)       0:03:01.251 ********** 
2024-06-25 22:17:22,553 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:17:22,562 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri and install gems] *********************************************************************************************************************
2024-06-25 22:17:22,563 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:17:22 +0300 (0:00:33.745)       0:03:34.996 ********** 
2024-06-25 22:17:31,901 p=454547 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "bundle config build.nokogiri --use-system-libraries\nbundle install --no-cache --without development\n", "delta": "0:00:09.237457", "end": "2024-06-25 22:17:31.393180", "msg": "non-zero return code", "rc": 5, "start": "2024-06-25 22:17:22.155723", "stderr": "", "stderr_lines": [], "stdout": "Don't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/.........\nFetching rake 12.3.1\nInstalling rake 12.3.1\nFetching concurrent-ruby 1.0.5\nInstalling concurrent-ruby 1.0.5\nFetching i18n 1.0.0\nInstalling i18n 1.0.0\nFetching minitest 5.11.3\nInstalling minitest 5.11.3\nFetching thread_safe 0.3.6\nInstalling thread_safe 0.3.6\nFetching tzinfo 1.2.5\nInstalling tzinfo 1.2.5\nFetching activesupport 5.2.0\nInstalling activesupport 5.2.0\nFetching builder 3.2.3\nInstalling builder 3.2.3\nFetching erubi 1.7.1\nInstalling erubi 1.7.1\nFetching mini_portile2 2.3.0\nInstalling mini_portile2 2.3.0\nFetching nokogiri 1.8.2\nInstalling nokogiri 1.8.2 with native extensions\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\ncurrent directory:\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri\n/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I\n/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r\n./siteconf20240625-25683-1kjvqmu.rb extconf.rb --use-system-libraries\nchecking if the C compiler accepts ... yes\nBuilding nokogiri using system libraries.\npkg-config could not be used to find libxslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\npkg-config could not be used to find libexslt\nPlease install either `pkg-config` or the pkg-config gem per\n\n    gem install pkg-config -v \"~> 1.1\"\n\nWARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding\nanyway.\nchecking for xmlParseDoc() in libxml/parser.h... yes\nchecking for xsltParseStylesheetDoc() in libxslt/xslt.h... no\nchecking for xsltParseStylesheetDoc() in -lxslt... no\nchecking for xsltParseStylesheetDoc() in -llibxslt... no\n-----\nlibxslt is missing.  Please locate mkmf.log to investigate how it is failing.\n-----\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n\t--with-opt-dir\n\t--without-opt-dir\n\t--with-opt-include\n\t--without-opt-include=${opt-dir}/include\n\t--with-opt-lib\n\t--without-opt-lib=${opt-dir}/lib\n\t--with-make-prog\n\t--without-make-prog\n\t--srcdir=.\n\t--curdir\n\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)\n\t--help\n\t--clean\n\t--use-system-libraries\n\t--with-zlib-dir\n\t--without-zlib-dir\n\t--with-zlib-include\n\t--without-zlib-include=${zlib-dir}/include\n\t--with-zlib-lib\n\t--without-zlib-lib=${zlib-dir}/lib\n\t--with-xml2-dir\n\t--without-xml2-dir\n\t--with-xml2-include\n\t--without-xml2-include=${xml2-dir}/include\n\t--with-xml2-lib\n\t--without-xml2-lib=${xml2-dir}/lib\n\t--with-libxml-2.0-config\n\t--without-libxml-2.0-config\n\t--with-pkg-config\n\t--without-pkg-config\n\t--with-xslt-dir\n\t--without-xslt-dir\n\t--with-xslt-include\n\t--without-xslt-include=${xslt-dir}/include\n\t--with-xslt-lib\n\t--without-xslt-lib=${xslt-dir}/lib\n\t--with-libxslt-config\n\t--without-libxslt-config\n\t--with-exslt-dir\n\t--without-exslt-dir\n\t--with-exslt-include\n\t--without-exslt-include=${exslt-dir}/include\n\t--with-exslt-lib\n\t--without-exslt-lib=${exslt-dir}/lib\n\t--with-libexslt-config\n\t--without-libexslt-config\n\t--with-xsltlib\n\t--without-xsltlib\n\t--with-libxsltlib\n\t--without-libxsltlib\n\nTo see why this extension failed to compile, please check the mkmf.log which can\nbe found here:\n\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log\n\nextconf failed, exit code 1\n\nGem files will remain installed in\n/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.\nResults logged to\n/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out\n\nAn error occurred while installing nokogiri (1.8.2), and Bundler cannot\ncontinue.\nMake sure that `gem install nokogiri -v '1.8.2' --source\n'https://rubygems.org/'` succeeds before bundling.\n\nIn Gemfile:\n  rails was resolved to 5.2.0, which depends on\n    actioncable was resolved to 5.2.0, which depends on\n      actionpack was resolved to 5.2.0, which depends on\n        actionview was resolved to 5.2.0, which depends on\n          rails-dom-testing was resolved to 2.0.3, which depends on\n            nokogiri", "stdout_lines": ["Don't run Bundler as root. Bundler can ask for sudo if it is needed, and", "installing your bundle as root will break this application for all non-root", "users on this machine.", "Fetching gem metadata from https://rubygems.org/.........", "Fetching rake 12.3.1", "Installing rake 12.3.1", "Fetching concurrent-ruby 1.0.5", "Installing concurrent-ruby 1.0.5", "Fetching i18n 1.0.0", "Installing i18n 1.0.0", "Fetching minitest 5.11.3", "Installing minitest 5.11.3", "Fetching thread_safe 0.3.6", "Installing thread_safe 0.3.6", "Fetching tzinfo 1.2.5", "Installing tzinfo 1.2.5", "Fetching activesupport 5.2.0", "Installing activesupport 5.2.0", "Fetching builder 3.2.3", "Installing builder 3.2.3", "Fetching erubi 1.7.1", "Installing erubi 1.7.1", "Fetching mini_portile2 2.3.0", "Installing mini_portile2 2.3.0", "Fetching nokogiri 1.8.2", "Installing nokogiri 1.8.2 with native extensions", "Gem::Ext::BuildError: ERROR: Failed to build gem native extension.", "", "current directory:", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2/ext/nokogiri", "/usr/local/rvm/rubies/ruby-2.5.1/bin/ruby -I", "/usr/local/rvm/rubies/ruby-2.5.1/lib/ruby/site_ruby/2.5.0 -r", "./siteconf20240625-25683-1kjvqmu.rb extconf.rb --use-system-libraries", "checking if the C compiler accepts ... yes", "Building nokogiri using system libraries.", "pkg-config could not be used to find libxslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "pkg-config could not be used to find libexslt", "Please install either `pkg-config` or the pkg-config gem per", "", "    gem install pkg-config -v \"~> 1.1\"", "", "WARNING: libxml2 version 2.9.3 or later is highly recommended, but proceeding", "anyway.", "checking for xmlParseDoc() in libxml/parser.h... yes", "checking for xsltParseStylesheetDoc() in libxslt/xslt.h... no", "checking for xsltParseStylesheetDoc() in -lxslt... no", "checking for xsltParseStylesheetDoc() in -llibxslt... no", "-----", "libxslt is missing.  Please locate mkmf.log to investigate how it is failing.", "-----", "*** extconf.rb failed ***", "Could not create Makefile due to some reason, probably lack of necessary", "libraries and/or headers.  Check the mkmf.log file for more details.  You may", "need configuration options.", "", "Provided configuration options:", "\t--with-opt-dir", "\t--without-opt-dir", "\t--with-opt-include", "\t--without-opt-include=${opt-dir}/include", "\t--with-opt-lib", "\t--without-opt-lib=${opt-dir}/lib", "\t--with-make-prog", "\t--without-make-prog", "\t--srcdir=.", "\t--curdir", "\t--ruby=/usr/local/rvm/rubies/ruby-2.5.1/bin/$(RUBY_BASE_NAME)", "\t--help", "\t--clean", "\t--use-system-libraries", "\t--with-zlib-dir", "\t--without-zlib-dir", "\t--with-zlib-include", "\t--without-zlib-include=${zlib-dir}/include", "\t--with-zlib-lib", "\t--without-zlib-lib=${zlib-dir}/lib", "\t--with-xml2-dir", "\t--without-xml2-dir", "\t--with-xml2-include", "\t--without-xml2-include=${xml2-dir}/include", "\t--with-xml2-lib", "\t--without-xml2-lib=${xml2-dir}/lib", "\t--with-libxml-2.0-config", "\t--without-libxml-2.0-config", "\t--with-pkg-config", "\t--without-pkg-config", "\t--with-xslt-dir", "\t--without-xslt-dir", "\t--with-xslt-include", "\t--without-xslt-include=${xslt-dir}/include", "\t--with-xslt-lib", "\t--without-xslt-lib=${xslt-dir}/lib", "\t--with-libxslt-config", "\t--without-libxslt-config", "\t--with-exslt-dir", "\t--without-exslt-dir", "\t--with-exslt-include", "\t--without-exslt-include=${exslt-dir}/include", "\t--with-exslt-lib", "\t--without-exslt-lib=${exslt-dir}/lib", "\t--with-libexslt-config", "\t--without-libexslt-config", "\t--with-xsltlib", "\t--without-xsltlib", "\t--with-libxsltlib", "\t--without-libxsltlib", "", "To see why this extension failed to compile, please check the mkmf.log which can", "be found here:", "", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/mkmf.log", "", "extconf failed, exit code 1", "", "Gem files will remain installed in", "/usr/local/rvm/gems/ruby-2.5.1/gems/nokogiri-1.8.2 for inspection.", "Results logged to", "/usr/local/rvm/gems/ruby-2.5.1/extensions/x86_64-linux/2.5.0/nokogiri-1.8.2/gem_make.out", "", "An error occurred while installing nokogiri (1.8.2), and Bundler cannot", "continue.", "Make sure that `gem install nokogiri -v '1.8.2' --source", "'https://rubygems.org/'` succeeds before bundling.", "", "In Gemfile:", "  rails was resolved to 5.2.0, which depends on", "    actioncable was resolved to 5.2.0, which depends on", "      actionpack was resolved to 5.2.0, which depends on", "        actionview was resolved to 5.2.0, which depends on", "          rails-dom-testing was resolved to 2.0.3, which depends on", "            nokogiri"]}
2024-06-25 22:17:31,902 p=454547 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 22:17:31,911 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] ***********************************************************************************************************************************************
2024-06-25 22:17:31,911 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:17:31 +0300 (0:00:09.347)       0:03:44.344 ********** 
2024-06-25 22:17:32,062 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:17:32,073 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] ************************************************************************************************************************************************
2024-06-25 22:17:32,073 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:17:32 +0300 (0:00:00.162)       0:03:44.506 ********** 
2024-06-25 22:17:32,234 p=454547 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:17:32,244 p=454547 u=lasolovyov@dtln.local n=ansible | TASK [app : Check App start correct] *********************************************************************************************************************************************
2024-06-25 22:17:32,245 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:17:32 +0300 (0:00:00.171)       0:03:44.678 ********** 
2024-06-25 22:17:32,498 p=454547 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "connection": "close", "content_length": "157", "content_type": "text/html", "date": "Tue, 25 Jun 2024 19:17:31 GMT", "elapsed": 0, "msg": "Status code was 502 and not [200]: HTTP Error 502: Bad Gateway", "redirected": false, "server": "nginx/1.20.1", "status": 502, "url": "http://localhost"}
2024-06-25 22:17:32,500 p=454547 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:17:32,500 p=454547 u=lasolovyov@dtln.local n=ansible | app                        : ok=32   changed=16   unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:17:32 +0300 (0:00:00.255)       0:03:44.934 ********** 
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 81.45s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ---------------------------------------------------------------------------------------------------------- 66.57s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Install node js ---------------------------------------------------------------------------------------------------------------------------------------------------- 33.75s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 14.62s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri and install gems --------------------------------------------------------------------------------------------------------------------- 9.35s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 4.24s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.80s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.84s
2024-06-25 22:17:32,501 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.30s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.27s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.16s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 via rvm ------------------------------------------------------------------------------------------------------------------------------------------ 0.84s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.38s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.32s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | app : Check App start correct --------------------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-25 22:17:32,502 p=454547 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:21:31,566 p=455273 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:21:31,948 p=455273 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:21:32,147 p=455273 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:21:32,166 p=455273 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:21:32,284 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:21:32,285 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:32 +0300 (0:00:00.123)       0:00:00.123 ********** 
2024-06-25 22:21:34,391 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:34,403 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:21:34,403 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:34 +0300 (0:00:02.118)       0:00:02.241 ********** 
2024-06-25 22:21:34,589 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:34,601 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:21:34,601 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:34 +0300 (0:00:00.197)       0:00:02.439 ********** 
2024-06-25 22:21:49,039 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:49,048 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:21:49,048 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:49 +0300 (0:00:14.447)       0:00:16.886 ********** 
2024-06-25 22:21:49,209 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:21:49,336 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:21:49,347 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:21:49,347 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:49 +0300 (0:00:00.298)       0:00:17.185 ********** 
2024-06-25 22:21:49,464 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:49,482 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:21:49,482 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:49 +0300 (0:00:00.134)       0:00:17.320 ********** 
2024-06-25 22:21:49,607 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:21:49,669 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:21:49,725 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:21:49,737 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:21:49,737 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:49 +0300 (0:00:00.254)       0:00:17.575 ********** 
2024-06-25 22:21:49,865 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:49,874 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:21:49,875 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:49 +0300 (0:00:00.137)       0:00:17.713 ********** 
2024-06-25 22:21:51,085 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:51,095 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:21:51,095 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:51 +0300 (0:00:01.220)       0:00:18.933 ********** 
2024-06-25 22:21:51,229 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:51,240 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:21:51,240 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:51 +0300 (0:00:00.145)       0:00:19.078 ********** 
2024-06-25 22:21:52,388 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:52,398 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:21:52,398 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:52 +0300 (0:00:01.158)       0:00:20.236 ********** 
2024-06-25 22:21:52,577 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:52,586 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:21:52,586 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:52 +0300 (0:00:00.187)       0:00:20.424 ********** 
2024-06-25 22:21:53,669 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:53,679 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:21:53,679 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:53 +0300 (0:00:01.092)       0:00:21.517 ********** 
2024-06-25 22:21:54,774 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:54,783 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:21:54,783 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:54 +0300 (0:00:01.104)       0:00:22.621 ********** 
2024-06-25 22:21:54,985 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:54,994 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:21:54,994 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:54 +0300 (0:00:00.210)       0:00:22.832 ********** 
2024-06-25 22:21:55,365 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:21:55,382 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:21:55,382 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:55 +0300 (0:00:00.387)       0:00:23.220 ********** 
2024-06-25 22:21:55,483 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:55,495 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:21:55,495 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:55 +0300 (0:00:00.113)       0:00:23.333 ********** 
2024-06-25 22:21:55,618 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:55,627 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:21:55,627 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:55 +0300 (0:00:00.131)       0:00:23.465 ********** 
2024-06-25 22:21:55,686 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:55,703 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:21:55,703 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:55 +0300 (0:00:00.076)       0:00:23.541 ********** 
2024-06-25 22:21:55,746 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:55,755 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:21:55,755 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:55 +0300 (0:00:00.052)       0:00:23.593 ********** 
2024-06-25 22:21:58,911 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:58,921 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:21:58,921 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:58 +0300 (0:00:03.165)       0:00:26.759 ********** 
2024-06-25 22:21:58,964 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:58,973 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:21:58,973 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:58 +0300 (0:00:00.051)       0:00:26.811 ********** 
2024-06-25 22:21:59,054 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:21:59,062 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:21:59,062 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:59 +0300 (0:00:00.089)       0:00:26.900 ********** 
2024-06-25 22:21:59,191 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:21:59,201 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install RVM and Ruby 2.5.1] ******************************************************************************************************************************************
2024-06-25 22:21:59,201 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:21:59 +0300 (0:00:00.138)       0:00:27.039 ********** 
2024-06-25 22:22:03,447 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:22:03,456 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Add root user to rvm group] ******************************************************************************************************************************************
2024-06-25 22:22:03,456 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:22:03 +0300 (0:00:04.255)       0:00:31.294 ********** 
2024-06-25 22:22:03,515 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:22:03,526 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Ruby 2.5.1 via rvm] ******************************************************************************************************************************************
2024-06-25 22:22:03,526 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:22:03 +0300 (0:00:00.069)       0:00:31.364 ********** 
2024-06-25 22:22:04,439 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:22:04,449 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:22:04,449 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:22:04 +0300 (0:00:00.922)       0:00:32.287 ********** 
2024-06-25 22:22:04,908 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item={'name': 'bundler', 'version': '2.3.27'})
2024-06-25 22:22:05,257 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item={'name': 'nokogiri', 'version': '1.8.2'})
2024-06-25 22:22:05,268 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Download node js] ****************************************************************************************************************************************************
2024-06-25 22:22:05,268 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:22:05 +0300 (0:00:00.819)       0:00:33.106 ********** 
2024-06-25 22:23:27,921 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:23:27,933 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Install node js] *****************************************************************************************************************************************************
2024-06-25 22:23:27,934 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:23:27 +0300 (0:01:22.665)       0:01:55.772 ********** 
2024-06-25 22:23:28,041 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:23:28,050 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Set bundle config for Nokogiri and install gems] *********************************************************************************************************************
2024-06-25 22:23:28,050 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:23:28 +0300 (0:00:00.116)       0:01:55.888 ********** 
2024-06-25 22:24:20,125 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:24:20,135 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy app service file] ***********************************************************************************************************************************************
2024-06-25 22:24:20,136 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:24:20 +0300 (0:00:52.085)       0:02:47.974 ********** 
2024-06-25 22:24:20,210 p=455273 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:24:20,219 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Enable and start app] ************************************************************************************************************************************************
2024-06-25 22:24:20,220 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:24:20 +0300 (0:00:00.083)       0:02:48.057 ********** 
2024-06-25 22:24:20,325 p=455273 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:24:20,335 p=455273 u=lasolovyov@dtln.local n=ansible | TASK [app : Check App start correct] *********************************************************************************************************************************************
2024-06-25 22:24:20,335 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:24:20 +0300 (0:00:00.115)       0:02:48.173 ********** 
2024-06-25 22:24:20,454 p=455273 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": false, "connection": "close", "content_length": "157", "content_type": "text/html", "date": "Tue, 25 Jun 2024 19:24:19 GMT", "elapsed": 0, "msg": "Status code was 502 and not [200]: HTTP Error 502: Bad Gateway", "redirected": false, "server": "nginx/1.20.1", "status": 502, "url": "http://localhost"}
2024-06-25 22:24:20,456 p=455273 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:24:20,456 p=455273 u=lasolovyov@dtln.local n=ansible | app                        : ok=32   changed=13   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:24:20,456 p=455273 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:24:20 +0300 (0:00:00.121)       0:02:48.294 ********** 
2024-06-25 22:24:20,456 p=455273 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Download node js --------------------------------------------------------------------------------------------------------------------------------------------------- 82.67s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Set bundle config for Nokogiri and install gems -------------------------------------------------------------------------------------------------------------------- 52.09s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 14.45s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Install RVM and Ruby 2.5.1 ------------------------------------------------------------------------------------------------------------------------------------------ 4.26s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.17s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.12s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.22s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.16s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.10s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.09s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Install Ruby 2.5.1 via rvm ------------------------------------------------------------------------------------------------------------------------------------------ 0.92s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 0.82s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.39s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.30s
2024-06-25 22:24:20,457 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.25s
2024-06-25 22:24:20,458 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.21s
2024-06-25 22:24:20,458 p=455273 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 22:24:20,458 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:24:20,458 p=455273 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 22:24:20,458 p=455273 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:29:53,110 p=456118 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:29:53,512 p=456118 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:29:53,731 p=456118 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:29:53,749 p=456118 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:29:53,881 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:29:53,882 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:29:53 +0300 (0:00:00.136)       0:00:00.136 ********** 
2024-06-25 22:29:56,028 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:29:56,040 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:29:56,041 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:29:56 +0300 (0:00:02.159)       0:00:02.295 ********** 
2024-06-25 22:29:56,247 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:29:56,258 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:29:56,258 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:29:56 +0300 (0:00:00.217)       0:00:02.513 ********** 
2024-06-25 22:30:12,254 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:30:12,264 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:30:12,264 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:30:12 +0300 (0:00:16.006)       0:00:18.519 ********** 
2024-06-25 22:30:34,716 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-25 22:30:34,834 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:30:34,846 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:30:34,846 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:30:34 +0300 (0:00:22.582)       0:00:41.101 ********** 
2024-06-25 22:30:34,964 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:30:34,980 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:30:34,980 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:30:34 +0300 (0:00:00.133)       0:00:41.234 ********** 
2024-06-25 22:30:56,139 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-25 22:31:18,953 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-25 22:31:44,804 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-25 22:31:44,819 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:31:44,819 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:44 +0300 (0:01:09.839)       0:01:51.074 ********** 
2024-06-25 22:31:45,044 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:31:45,054 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:31:45,054 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:45 +0300 (0:00:00.234)       0:01:51.308 ********** 
2024-06-25 22:31:45,325 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:31:45,335 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:31:45,335 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:45 +0300 (0:00:00.281)       0:01:51.590 ********** 
2024-06-25 22:31:45,472 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:45,481 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:31:45,481 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:45 +0300 (0:00:00.145)       0:01:51.736 ********** 
2024-06-25 22:31:47,140 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:47,150 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:31:47,150 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:47 +0300 (0:00:01.668)       0:01:53.405 ********** 
2024-06-25 22:31:47,339 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:47,349 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:31:47,349 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:47 +0300 (0:00:00.198)       0:01:53.603 ********** 
2024-06-25 22:31:48,492 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:48,501 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:31:48,502 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:48 +0300 (0:00:01.152)       0:01:54.756 ********** 
2024-06-25 22:31:49,602 p=456118 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:31:49,611 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:31:49,611 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:49 +0300 (0:00:01.109)       0:01:55.866 ********** 
2024-06-25 22:31:49,837 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:49,846 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:31:49,846 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:49 +0300 (0:00:00.234)       0:01:56.101 ********** 
2024-06-25 22:31:50,565 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:31:50,581 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:31:50,581 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:31:50 +0300 (0:00:00.734)       0:01:56.835 ********** 
2024-06-25 22:32:15,807 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:15,820 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:32:15,821 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:15 +0300 (0:00:25.239)       0:02:22.075 ********** 
2024-06-25 22:32:15,903 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:15,912 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:32:15,913 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:15 +0300 (0:00:00.091)       0:02:22.167 ********** 
2024-06-25 22:32:16,056 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:16,072 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:32:16,073 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:16 +0300 (0:00:00.159)       0:02:22.327 ********** 
2024-06-25 22:32:16,142 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:16,152 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:32:16,152 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:16 +0300 (0:00:00.079)       0:02:22.407 ********** 
2024-06-25 22:32:18,779 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:18,789 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:32:18,789 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:18 +0300 (0:00:02.636)       0:02:25.043 ********** 
2024-06-25 22:32:18,836 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:18,845 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:32:18,846 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:18 +0300 (0:00:00.056)       0:02:25.100 ********** 
2024-06-25 22:32:18,917 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:18,928 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:32:18,929 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:18 +0300 (0:00:00.083)       0:02:25.183 ********** 
2024-06-25 22:32:45,406 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-25 22:32:45,415 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy Ruby Install Script] ********************************************************************************************************************************************
2024-06-25 22:32:45,416 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:45 +0300 (0:00:26.486)       0:02:51.670 ********** 
2024-06-25 22:32:45,538 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:45,548 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Run Ruby Install script] *********************************************************************************************************************************************
2024-06-25 22:32:45,548 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:45 +0300 (0:00:00.132)       0:02:51.802 ********** 
2024-06-25 22:32:45,623 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:45,632 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Delete Ruby Install script] ******************************************************************************************************************************************
2024-06-25 22:32:45,632 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:45 +0300 (0:00:00.084)       0:02:51.886 ********** 
2024-06-25 22:32:45,708 p=456118 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:32:45,718 p=456118 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:32:45,718 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:45 +0300 (0:00:00.085)       0:02:51.972 ********** 
2024-06-25 22:32:45,860 p=456118 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "item": {"name": "bundler", "version": "2.3.27"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:32:45,873 p=456118 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'nokogiri', 'version': '1.8.2'}) => {"ansible_loop_var": "item", "changed": false, "item": {"name": "nokogiri", "version": "1.8.2"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:32:45,885 p=456118 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:32:45,885 p=456118 u=lasolovyov@dtln.local n=ansible | app                        : ok=26   changed=20   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:32:45 +0300 (0:00:00.167)       0:02:52.140 ********** 
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------ 69.84s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------ 26.49s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ---------------------------------------------------------------------------------------------------------------------------------------------------- 25.24s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ----------------------------------------------------------------------------------------------------------------------------------------- 22.58s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 16.01s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 2.64s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.16s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.67s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.15s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.11s
2024-06-25 22:32:45,886 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.73s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 0.28s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.23s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | nginx : Start and enable Nginx service ------------------------------------------------------------------------------------------------------------------------------------ 0.16s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 22:32:45,887 p=456118 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 22:34:06,481 p=456569 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:34:06,790 p=456569 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:34:06,964 p=456569 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:34:06,980 p=456569 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:34:07,078 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:34:07,078 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:07 +0300 (0:00:00.101)       0:00:00.101 ********** 
2024-06-25 22:34:08,879 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:08,888 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:34:08,888 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:08 +0300 (0:00:01.810)       0:00:01.911 ********** 
2024-06-25 22:34:09,059 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:09,068 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:34:09,068 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:09 +0300 (0:00:00.179)       0:00:02.091 ********** 
2024-06-25 22:34:24,902 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:24,911 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:34:24,911 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:24 +0300 (0:00:15.842)       0:00:17.934 ********** 
2024-06-25 22:34:25,087 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:34:25,226 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:34:25,237 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:34:25,237 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:25 +0300 (0:00:00.326)       0:00:18.260 ********** 
2024-06-25 22:34:25,355 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:25,372 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:34:25,372 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:25 +0300 (0:00:00.134)       0:00:18.395 ********** 
2024-06-25 22:34:25,506 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:34:25,588 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:34:25,651 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:34:25,662 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:34:25,663 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:25 +0300 (0:00:00.290)       0:00:18.686 ********** 
2024-06-25 22:34:25,797 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:25,806 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:34:25,806 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:25 +0300 (0:00:00.143)       0:00:18.829 ********** 
2024-06-25 22:34:27,027 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:27,037 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:34:27,037 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:27 +0300 (0:00:01.230)       0:00:20.060 ********** 
2024-06-25 22:34:27,175 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:27,186 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:34:27,186 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:27 +0300 (0:00:00.148)       0:00:20.209 ********** 
2024-06-25 22:34:28,508 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:28,518 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:34:28,518 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:28 +0300 (0:00:01.332)       0:00:21.541 ********** 
2024-06-25 22:34:28,699 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:28,708 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:34:28,708 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:28 +0300 (0:00:00.190)       0:00:21.731 ********** 
2024-06-25 22:34:29,815 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:29,824 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:34:29,824 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:29 +0300 (0:00:01.116)       0:00:22.847 ********** 
2024-06-25 22:34:30,927 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:30,936 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:34:30,936 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:30 +0300 (0:00:01.111)       0:00:23.959 ********** 
2024-06-25 22:34:31,184 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:31,197 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:34:31,198 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:31 +0300 (0:00:00.261)       0:00:24.221 ********** 
2024-06-25 22:34:31,723 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:31,739 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:34:31,740 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:31 +0300 (0:00:00.541)       0:00:24.763 ********** 
2024-06-25 22:34:31,847 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:31,855 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:34:31,856 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:31 +0300 (0:00:00.116)       0:00:24.879 ********** 
2024-06-25 22:34:31,984 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:31,993 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:34:31,994 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:31 +0300 (0:00:00.137)       0:00:25.017 ********** 
2024-06-25 22:34:32,058 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:32,074 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:34:32,075 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:32 +0300 (0:00:00.081)       0:00:25.098 ********** 
2024-06-25 22:34:32,120 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:32,129 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:34:32,129 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:32 +0300 (0:00:00.054)       0:00:25.152 ********** 
2024-06-25 22:34:36,134 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:36,143 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:34:36,143 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:04.013)       0:00:29.166 ********** 
2024-06-25 22:34:36,192 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:36,201 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:34:36,201 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.057)       0:00:29.224 ********** 
2024-06-25 22:34:36,279 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:34:36,288 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:34:36,288 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.087)       0:00:29.311 ********** 
2024-06-25 22:34:36,414 p=456569 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:34:36,427 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy Ruby Install Script] ********************************************************************************************************************************************
2024-06-25 22:34:36,427 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.138)       0:00:29.450 ********** 
2024-06-25 22:34:36,481 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:36,490 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Run Ruby Install script] *********************************************************************************************************************************************
2024-06-25 22:34:36,490 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.062)       0:00:29.513 ********** 
2024-06-25 22:34:36,544 p=456569 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:34:36,553 p=456569 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:34:36,553 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.063)       0:00:29.576 ********** 
2024-06-25 22:34:36,669 p=456569 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "item": {"name": "bundler", "version": "2.3.27"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:34:36,679 p=456569 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'nokogiri', 'version': '1.8.2'}) => {"ansible_loop_var": "item", "changed": false, "item": {"name": "nokogiri", "version": "1.8.2"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:34:36,682 p=456569 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:34:36,682 p=456569 u=lasolovyov@dtln.local n=ansible | app                        : ok=25   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:34:36,682 p=456569 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:34:36 +0300 (0:00:00.129)       0:00:29.705 ********** 
2024-06-25 22:34:36,682 p=456569 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 15.84s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 4.01s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 1.81s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.33s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.23s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.12s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.11s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.54s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.33s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.29s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 22:34:36,683 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 22:34:36,684 p=456569 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.12s
2024-06-25 22:38:09,704 p=457040 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:38:10,020 p=457040 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:38:10,195 p=457040 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:38:10,210 p=457040 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:38:10,341 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:38:10,341 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:10 +0300 (0:00:00.134)       0:00:00.134 ********** 
2024-06-25 22:38:12,481 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:12,491 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:38:12,491 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:12 +0300 (0:00:02.149)       0:00:02.284 ********** 
2024-06-25 22:38:12,661 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:12,671 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:38:12,672 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:12 +0300 (0:00:00.180)       0:00:02.464 ********** 
2024-06-25 22:38:24,975 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:24,984 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:38:24,985 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:24 +0300 (0:00:12.312)       0:00:14.777 ********** 
2024-06-25 22:38:25,159 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:38:25,309 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:38:25,332 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:38:25,333 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:25 +0300 (0:00:00.348)       0:00:15.125 ********** 
2024-06-25 22:38:25,473 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:25,492 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:38:25,492 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:25 +0300 (0:00:00.159)       0:00:15.285 ********** 
2024-06-25 22:38:25,622 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:38:25,706 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:38:25,784 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:38:25,797 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:38:25,798 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:25 +0300 (0:00:00.305)       0:00:15.590 ********** 
2024-06-25 22:38:25,972 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:25,983 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:38:25,983 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:25 +0300 (0:00:00.185)       0:00:15.776 ********** 
2024-06-25 22:38:27,245 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:27,256 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:38:27,257 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:27 +0300 (0:00:01.273)       0:00:17.049 ********** 
2024-06-25 22:38:27,425 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:27,438 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:38:27,439 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:27 +0300 (0:00:00.181)       0:00:17.231 ********** 
2024-06-25 22:38:28,829 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:28,840 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:38:28,841 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:28 +0300 (0:00:01.401)       0:00:18.633 ********** 
2024-06-25 22:38:29,099 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:29,109 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:38:29,109 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:29 +0300 (0:00:00.268)       0:00:18.902 ********** 
2024-06-25 22:38:30,238 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:30,250 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:38:30,250 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:30 +0300 (0:00:01.141)       0:00:20.043 ********** 
2024-06-25 22:38:31,383 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:31,393 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:38:31,393 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:31 +0300 (0:00:01.143)       0:00:21.186 ********** 
2024-06-25 22:38:31,640 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:31,650 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:38:31,650 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:31 +0300 (0:00:00.256)       0:00:21.443 ********** 
2024-06-25 22:38:32,024 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:32,042 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:38:32,043 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:32 +0300 (0:00:00.392)       0:00:21.835 ********** 
2024-06-25 22:38:32,167 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:32,178 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:38:32,178 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:32 +0300 (0:00:00.135)       0:00:21.971 ********** 
2024-06-25 22:38:32,350 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:32,361 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:38:32,361 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:32 +0300 (0:00:00.182)       0:00:22.154 ********** 
2024-06-25 22:38:32,439 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:32,459 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:38:32,459 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:32 +0300 (0:00:00.098)       0:00:22.252 ********** 
2024-06-25 22:38:32,527 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:32,538 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:38:32,538 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:32 +0300 (0:00:00.079)       0:00:22.331 ********** 
2024-06-25 22:38:37,698 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:37,707 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:38:37,707 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:37 +0300 (0:00:05.169)       0:00:27.500 ********** 
2024-06-25 22:38:37,754 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:37,762 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:38:37,762 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:37 +0300 (0:00:00.055)       0:00:27.555 ********** 
2024-06-25 22:38:37,849 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:38:37,858 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:38:37,859 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:37 +0300 (0:00:00.096)       0:00:27.651 ********** 
2024-06-25 22:38:37,991 p=457040 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:38:38,002 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy Ruby Install Script] ********************************************************************************************************************************************
2024-06-25 22:38:38,002 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:38 +0300 (0:00:00.143)       0:00:27.795 ********** 
2024-06-25 22:38:38,077 p=457040 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:38:38,086 p=457040 u=lasolovyov@dtln.local n=ansible | TASK [app : Run Ruby Install script] *********************************************************************************************************************************************
2024-06-25 22:38:38,086 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:38 +0300 (0:00:00.083)       0:00:27.879 ********** 
2024-06-25 22:38:42,011 p=457040 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "/tmp/install-ruby.sh", "delta": "0:00:03.875319", "end": "2024-06-25 22:38:42.244545", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 22:38:38.369226", "stderr": "  * Please do NOT forget to add your users to the <code>rvm</code> group.\n     The installer no longer auto-adds root or users to the rvm group. Admins must do this.\n     Also, please note that group memberships are ONLY evaluated at login time.\n     This means that users must log out then back in before group membership takes effect!\n/tmp/install-ruby.sh: line 5: rvm: команда не найдена", "stderr_lines": ["  * Please do NOT forget to add your users to the <code>rvm</code> group.", "     The installer no longer auto-adds root or users to the rvm group. Admins must do this.", "     Also, please note that group memberships are ONLY evaluated at login time.", "     This means that users must log out then back in before group membership takes effect!", "/tmp/install-ruby.sh: line 5: rvm: команда не найдена"], "stdout": "Downloading https://github.com/rvm/rvm/archive/master.tar.gz\nCreating group 'rvm'\nInstalling RVM to /usr/local/rvm/\nInstallation of RVM in /usr/local/rvm/ is almost complete:\n\n  * First you need to add all users that will be using rvm to 'rvm' group,\n    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.\n\n  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`\n    in all your open shell windows, in rare cases you need to reopen all shell windows.\n<warn>Thanks for installing RVM 🙏</warn>\nPlease consider donating to our open collective to help us maintain RVM.\n\n👉  Donate: <code>https://opencollective.com/rvm/donate</code>", "stdout_lines": ["Downloading https://github.com/rvm/rvm/archive/master.tar.gz", "Creating group 'rvm'", "Installing RVM to /usr/local/rvm/", "Installation of RVM in /usr/local/rvm/ is almost complete:", "", "  * First you need to add all users that will be using rvm to 'rvm' group,", "    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.", "", "  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`", "    in all your open shell windows, in rare cases you need to reopen all shell windows.", "<warn>Thanks for installing RVM 🙏</warn>", "Please consider donating to our open collective to help us maintain RVM.", "", "👉  Donate: <code>https://opencollective.com/rvm/donate</code>"]}
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | app                        : ok=24   changed=9    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:38:42 +0300 (0:00:03.927)       0:00:31.806 ********** 
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 12.31s
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 5.17s
2024-06-25 22:38:42,013 p=457040 u=lasolovyov@dtln.local n=ansible | app : Run Ruby Install script --------------------------------------------------------------------------------------------------------------------------------------------- 3.93s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.15s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.40s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.27s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.39s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.35s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.31s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.26s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:38:42,014 p=457040 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 22:38:42,015 p=457040 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 22:38:42,015 p=457040 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.18s
2024-06-25 22:38:42,015 p=457040 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 22:38:42,015 p=457040 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:38:42,015 p=457040 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ----------------------------------------------------------------------------------------------------------------------------------------------------- 0.14s
2024-06-25 22:40:54,890 p=457421 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:40:55,200 p=457421 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:40:55,378 p=457421 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:40:55,394 p=457421 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:40:55,486 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:40:55,486 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:40:55 +0300 (0:00:00.095)       0:00:00.095 ********** 
2024-06-25 22:40:57,595 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:40:57,604 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:40:57,604 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:40:57 +0300 (0:00:02.118)       0:00:02.214 ********** 
2024-06-25 22:40:57,788 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:40:57,798 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:40:57,798 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:40:57 +0300 (0:00:00.193)       0:00:02.407 ********** 
2024-06-25 22:41:09,832 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:09,843 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:41:09,843 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:09 +0300 (0:00:12.044)       0:00:14.452 ********** 
2024-06-25 22:41:10,032 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=git)
2024-06-25 22:41:10,153 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:41:10,168 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:41:10,168 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:10 +0300 (0:00:00.325)       0:00:14.777 ********** 
2024-06-25 22:41:10,301 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:10,319 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:41:10,320 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:10 +0300 (0:00:00.151)       0:00:14.929 ********** 
2024-06-25 22:41:10,439 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=python-psycopg2)
2024-06-25 22:41:10,505 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-server)
2024-06-25 22:41:10,573 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=postgresql-devel)
2024-06-25 22:41:10,585 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:41:10,586 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:10 +0300 (0:00:00.266)       0:00:15.195 ********** 
2024-06-25 22:41:10,742 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:10,752 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:41:10,752 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:10 +0300 (0:00:00.166)       0:00:15.361 ********** 
2024-06-25 22:41:12,012 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:12,022 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:41:12,022 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:12 +0300 (0:00:01.270)       0:00:16.631 ********** 
2024-06-25 22:41:12,198 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:12,211 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:41:12,211 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:12 +0300 (0:00:00.189)       0:00:16.821 ********** 
2024-06-25 22:41:13,554 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:13,564 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:41:13,565 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:13 +0300 (0:00:01.353)       0:00:18.174 ********** 
2024-06-25 22:41:13,772 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:13,783 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:41:13,783 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:13 +0300 (0:00:00.218)       0:00:18.392 ********** 
2024-06-25 22:41:14,903 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:14,913 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:41:14,913 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:14 +0300 (0:00:01.130)       0:00:19.523 ********** 
2024-06-25 22:41:16,013 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:16,022 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:41:16,022 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:16 +0300 (0:00:01.108)       0:00:20.631 ********** 
2024-06-25 22:41:16,253 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:16,262 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:41:16,262 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:16 +0300 (0:00:00.240)       0:00:20.871 ********** 
2024-06-25 22:41:16,695 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:16,712 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:41:16,712 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:16 +0300 (0:00:00.449)       0:00:21.321 ********** 
2024-06-25 22:41:16,818 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:16,827 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:41:16,827 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:16 +0300 (0:00:00.115)       0:00:21.437 ********** 
2024-06-25 22:41:16,948 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:16,958 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:41:16,958 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:16 +0300 (0:00:00.130)       0:00:21.567 ********** 
2024-06-25 22:41:17,027 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:17,043 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:41:17,044 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:17 +0300 (0:00:00.085)       0:00:21.653 ********** 
2024-06-25 22:41:17,097 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:17,106 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:41:17,107 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:17 +0300 (0:00:00.062)       0:00:21.716 ********** 
2024-06-25 22:41:21,881 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:21,890 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:41:21,890 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:21 +0300 (0:00:04.783)       0:00:26.499 ********** 
2024-06-25 22:41:21,941 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:21,954 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:41:21,955 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:21 +0300 (0:00:00.064)       0:00:26.564 ********** 
2024-06-25 22:41:22,050 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:41:22,058 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:41:22,058 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:22 +0300 (0:00:00.103)       0:00:26.668 ********** 
2024-06-25 22:41:22,208 p=457421 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=libxml2-devel)
2024-06-25 22:41:22,218 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy Ruby Install Script] ********************************************************************************************************************************************
2024-06-25 22:41:22,218 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:22 +0300 (0:00:00.159)       0:00:26.827 ********** 
2024-06-25 22:41:22,302 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:22,312 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Run Ruby Install script] *********************************************************************************************************************************************
2024-06-25 22:41:22,312 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:22 +0300 (0:00:00.094)       0:00:26.922 ********** 
2024-06-25 22:41:58,866 p=457421 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:41:58,875 p=457421 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:41:58,876 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:41:58 +0300 (0:00:36.563)       0:01:03.485 ********** 
2024-06-25 22:42:03,605 p=457421 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 2.3.27 --user-install --no-document bundler", "item": {"name": "bundler", "version": "2.3.27"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing bundler:\n\tbundler requires Ruby version >= 2.3.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing bundler:", "\tbundler requires Ruby version >= 2.3.0."], "stdout": "", "stdout_lines": []}
2024-06-25 22:42:08,063 p=457421 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'nokogiri', 'version': '1.8.2'}) => {"ansible_loop_var": "item", "changed": false, "cmd": "/usr/bin/gem install --version 1.8.2 --user-install --no-document nokogiri", "item": {"name": "nokogiri", "version": "1.8.2"}, "msg": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing nokogiri:\n\tnokogiri requires Ruby version >= 2.1.0.", "rc": 1, "stderr": "WARNING:  You don't have /root/.gem/ruby/bin in your PATH,\n\t  gem executables will not run.\nERROR:  Error installing nokogiri:\n\tnokogiri requires Ruby version >= 2.1.0.\n", "stderr_lines": ["WARNING:  You don't have /root/.gem/ruby/bin in your PATH,", "\t  gem executables will not run.", "ERROR:  Error installing nokogiri:", "\tnokogiri requires Ruby version >= 2.1.0."], "stdout": "Successfully installed mini_portile2-2.3.0\n", "stdout_lines": ["Successfully installed mini_portile2-2.3.0"]}
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | app                        : ok=25   changed=10   unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:42:08 +0300 (0:00:09.191)       0:01:12.676 ********** 
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | app : Run Ruby Install script -------------------------------------------------------------------------------------------------------------------------------------------- 36.56s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 12.04s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 9.19s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | app : Copy App ------------------------------------------------------------------------------------------------------------------------------------------------------------ 4.78s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.12s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 1.35s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 1.27s
2024-06-25 22:42:08,067 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.13s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.11s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.45s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ------------------------------------------------------------------------------------------------------------------------------------------ 0.33s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------- 0.27s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.24s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.19s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | pg : Change shell postgres user ------------------------------------------------------------------------------------------------------------------------------------------- 0.17s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------- 0.16s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | common : Change hostname (FQDN) ------------------------------------------------------------------------------------------------------------------------------------------- 0.15s
2024-06-25 22:42:08,068 p=457421 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.13s
2024-06-25 22:56:17,403 p=458738 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: Ansible will require Python 3.8 or newer on the controller starting with Ansible 2.12. Current version: 3.6.8 (default, Jan 15 2024, 23:09:02) [GCC 8.5.0 
20210514 (Red Hat 8.5.0-20)]. This feature will be removed from ansible-core in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2024-06-25 22:56:17,705 p=458738 u=lasolovyov@dtln.local n=ansible | [DEPRECATION WARNING]: [defaults]callback_whitelist option, normalizing names to new standard, use callbacks_enabled instead. This feature will be removed from ansible-core in 
version 2.15. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2024-06-25 22:56:17,880 p=458738 u=lasolovyov@dtln.local n=ansible | [WARNING]: Collection community.general does not support Ansible version 2.11.12

2024-06-25 22:56:17,896 p=458738 u=lasolovyov@dtln.local n=ansible | PLAY [xpaste_practicum] **********************************************************************************************************************************************************
2024-06-25 22:56:17,993 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [common : Change mode SELINUX to permissive] ********************************************************************************************************************************
2024-06-25 22:56:17,994 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:56:17 +0300 (0:00:00.101)       0:00:00.101 ********** 
2024-06-25 22:56:20,474 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:56:20,482 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [common : Stop and disable firewalld.service] *******************************************************************************************************************************
2024-06-25 22:56:20,483 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:56:20 +0300 (0:00:02.488)       0:00:02.589 ********** 
2024-06-25 22:56:20,672 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:56:20,681 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [common : Upgrade system] ***************************************************************************************************************************************************
2024-06-25 22:56:20,682 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:56:20 +0300 (0:00:00.199)       0:00:02.788 ********** 
2024-06-25 22:56:38,697 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:56:38,706 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [common : Install main dependency] ******************************************************************************************************************************************
2024-06-25 22:56:38,706 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:56:38 +0300 (0:00:18.024)       0:00:20.813 ********** 
2024-06-25 22:57:06,703 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=git)
2024-06-25 22:57:06,824 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app] => (item=curl)
2024-06-25 22:57:06,837 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [common : Change hostname (FQDN)] *******************************************************************************************************************************************
2024-06-25 22:57:06,837 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:57:06 +0300 (0:00:28.130)       0:00:48.944 ********** 
2024-06-25 22:57:06,950 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:57:06,967 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Install packages for deploy PostgreSQL] *******************************************************************************************************************************
2024-06-25 22:57:06,967 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:57:06 +0300 (0:00:00.130)       0:00:49.074 ********** 
2024-06-25 22:57:38,837 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=python-psycopg2)
2024-06-25 22:58:09,339 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-server)
2024-06-25 22:58:36,548 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=postgresql-devel)
2024-06-25 22:58:36,560 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Change shell postgres user] *******************************************************************************************************************************************
2024-06-25 22:58:36,560 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:36 +0300 (0:01:29.592)       0:02:18.667 ********** 
2024-06-25 22:58:36,716 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:58:36,725 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Stop postgresql.service] **********************************************************************************************************************************************
2024-06-25 22:58:36,726 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:36 +0300 (0:00:00.165)       0:02:18.832 ********** 
2024-06-25 22:58:36,937 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:58:36,946 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Remove default DB] ****************************************************************************************************************************************************
2024-06-25 22:58:36,946 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:36 +0300 (0:00:00.220)       0:02:19.053 ********** 
2024-06-25 22:58:37,289 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:37,299 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Init new DB] **********************************************************************************************************************************************************
2024-06-25 22:58:37,299 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:37 +0300 (0:00:00.352)       0:02:19.406 ********** 
2024-06-25 22:58:39,334 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:39,346 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create postgresql.conf for PostgreSQL] ********************************************************************************************************************************
2024-06-25 22:58:39,347 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:39 +0300 (0:00:02.047)       0:02:21.453 ********** 
2024-06-25 22:58:40,012 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:40,024 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Start and enable Postgres service] ************************************************************************************************************************************
2024-06-25 22:58:40,024 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:40 +0300 (0:00:00.677)       0:02:22.131 ********** 
2024-06-25 22:58:41,159 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:41,168 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Wait for port 5432 to become open on the host] ************************************************************************************************************************
2024-06-25 22:58:41,169 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:41 +0300 (0:00:01.144)       0:02:23.275 ********** 
2024-06-25 22:58:42,537 p=458738 u=lasolovyov@dtln.local n=ansible | ok: [app]
2024-06-25 22:58:42,545 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create user for app] **************************************************************************************************************************************************
2024-06-25 22:58:42,546 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:42 +0300 (0:00:01.376)       0:02:24.652 ********** 
2024-06-25 22:58:43,334 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:43,345 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [pg : Create PostgreSQL database] *******************************************************************************************************************************************
2024-06-25 22:58:43,346 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:43 +0300 (0:00:00.800)       0:02:25.453 ********** 
2024-06-25 22:58:43,835 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:58:43,851 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Install Nginx] *****************************************************************************************************************************************************
2024-06-25 22:58:43,851 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:58:43 +0300 (0:00:00.505)       0:02:25.958 ********** 
2024-06-25 22:59:12,639 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:12,648 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Deploy Nginx configuration] ****************************************************************************************************************************************
2024-06-25 22:59:12,648 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:12 +0300 (0:00:28.797)       0:02:54.755 ********** 
2024-06-25 22:59:12,980 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:12,989 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [nginx : Start and enable Nginx service] ************************************************************************************************************************************
2024-06-25 22:59:12,989 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:12 +0300 (0:00:00.341)       0:02:55.096 ********** 
2024-06-25 22:59:13,144 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:13,160 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Create main directory for app] ***************************************************************************************************************************************
2024-06-25 22:59:13,160 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:13 +0300 (0:00:00.170)       0:02:55.267 ********** 
2024-06-25 22:59:13,216 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:13,225 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy App] ************************************************************************************************************************************************************
2024-06-25 22:59:13,225 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:13 +0300 (0:00:00.064)       0:02:55.332 ********** 
2024-06-25 22:59:23,428 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:23,437 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Create directory for secret] *****************************************************************************************************************************************
2024-06-25 22:59:23,437 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:23 +0300 (0:00:10.212)       0:03:05.544 ********** 
2024-06-25 22:59:23,711 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:23,720 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy secret file] ****************************************************************************************************************************************************
2024-06-25 22:59:23,720 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:23 +0300 (0:00:00.282)       0:03:05.827 ********** 
2024-06-25 22:59:23,801 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:23,810 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Install depencies for app] *******************************************************************************************************************************************
2024-06-25 22:59:23,810 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:23 +0300 (0:00:00.090)       0:03:05.917 ********** 
2024-06-25 22:59:51,756 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app] => (item=libxml2-devel)
2024-06-25 22:59:51,767 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Copy Ruby Install Script] ********************************************************************************************************************************************
2024-06-25 22:59:51,767 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:51 +0300 (0:00:27.956)       0:03:33.874 ********** 
2024-06-25 22:59:51,840 p=458738 u=lasolovyov@dtln.local n=ansible | changed: [app]
2024-06-25 22:59:51,850 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Run Ruby Install script] *********************************************************************************************************************************************
2024-06-25 22:59:51,850 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:51 +0300 (0:00:00.083)       0:03:33.957 ********** 
2024-06-25 22:59:55,511 p=458738 u=lasolovyov@dtln.local n=ansible | fatal: [app]: FAILED! => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "changed": true, "cmd": "/tmp/install-ruby.sh", "delta": "0:00:03.571752", "end": "2024-06-25 22:59:55.043376", "msg": "non-zero return code", "rc": 127, "start": "2024-06-25 22:59:51.471624", "stderr": "", "stderr_lines": [], "stdout": "Downloading https://github.com/rvm/rvm/archive/master.tar.gz\nCreating group 'rvm'\nInstalling RVM to /usr/local/rvm/\nInstallation of RVM in /usr/local/rvm/ is almost complete:\n\n  * First you need to add all users that will be using rvm to 'rvm' group,\n    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.\n\n  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`\n    in all your open shell windows, in rare cases you need to reopen all shell windows.\n<warn>Thanks for installing RVM 🙏</warn>\nPlease consider donating to our open collective to help us maintain RVM.\n\n👉  Donate: <code>https://opencollective.com/rvm/donate</code>", "stdout_lines": ["Downloading https://github.com/rvm/rvm/archive/master.tar.gz", "Creating group 'rvm'", "Installing RVM to /usr/local/rvm/", "Installation of RVM in /usr/local/rvm/ is almost complete:", "", "  * First you need to add all users that will be using rvm to 'rvm' group,", "    and logout - login again, anyone using rvm will be operating with `umask u=rwx,g=rwx,o=rx`.", "", "  * To start using RVM you need to run `source /etc/profile.d/rvm.sh`", "    in all your open shell windows, in rare cases you need to reopen all shell windows.", "<warn>Thanks for installing RVM 🙏</warn>", "Please consider donating to our open collective to help us maintain RVM.", "", "👉  Donate: <code>https://opencollective.com/rvm/donate</code>"]}
2024-06-25 22:59:55,512 p=458738 u=lasolovyov@dtln.local n=ansible | ...ignoring
2024-06-25 22:59:55,521 p=458738 u=lasolovyov@dtln.local n=ansible | TASK [app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2] ***********************************************************************************************************
2024-06-25 22:59:55,521 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:55 +0300 (0:00:03.671)       0:03:37.628 ********** 
2024-06-25 22:59:55,685 p=458738 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'bundler', 'version': '2.3.27'}) => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python"}, "ansible_loop_var": "item", "changed": false, "item": {"name": "bundler", "version": "2.3.27"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:59:55,699 p=458738 u=lasolovyov@dtln.local n=ansible | failed: [app] (item={'name': 'nokogiri', 'version': '1.8.2'}) => {"ansible_loop_var": "item", "changed": false, "item": {"name": "nokogiri", "version": "1.8.2"}, "msg": "Failed to find required executable \"gem\" in paths: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin"}
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | app                        : ok=25   changed=19   unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | Вторник 25 июня 2024  22:59:55 +0300 (0:00:00.181)       0:03:37.810 ********** 
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | =============================================================================== 
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Install packages for deploy PostgreSQL ------------------------------------------------------------------------------------------------------------------------------ 89.59s
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | nginx : Install Nginx ---------------------------------------------------------------------------------------------------------------------------------------------------- 28.80s
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | common : Install main dependency ----------------------------------------------------------------------------------------------------------------------------------------- 28.13s
2024-06-25 22:59:55,703 p=458738 u=lasolovyov@dtln.local n=ansible | app : Install depencies for app ------------------------------------------------------------------------------------------------------------------------------------------ 27.96s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | common : Upgrade system -------------------------------------------------------------------------------------------------------------------------------------------------- 18.02s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | app : Copy App ----------------------------------------------------------------------------------------------------------------------------------------------------------- 10.21s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | app : Run Ruby Install script --------------------------------------------------------------------------------------------------------------------------------------------- 3.67s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | common : Change mode SELINUX to permissive -------------------------------------------------------------------------------------------------------------------------------- 2.49s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Init new DB ---------------------------------------------------------------------------------------------------------------------------------------------------------- 2.05s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Wait for port 5432 to become open on the host ------------------------------------------------------------------------------------------------------------------------ 1.38s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Start and enable Postgres service ------------------------------------------------------------------------------------------------------------------------------------ 1.14s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Create user for app -------------------------------------------------------------------------------------------------------------------------------------------------- 0.80s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Create postgresql.conf for PostgreSQL -------------------------------------------------------------------------------------------------------------------------------- 0.68s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Create PostgreSQL database ------------------------------------------------------------------------------------------------------------------------------------------- 0.51s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Remove default DB ---------------------------------------------------------------------------------------------------------------------------------------------------- 0.35s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | nginx : Deploy Nginx configuration ---------------------------------------------------------------------------------------------------------------------------------------- 0.34s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | app : Create directory for secret ----------------------------------------------------------------------------------------------------------------------------------------- 0.28s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | pg : Stop postgresql.service ---------------------------------------------------------------------------------------------------------------------------------------------- 0.22s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | common : Stop and disable firewalld.service ------------------------------------------------------------------------------------------------------------------------------- 0.20s
2024-06-25 22:59:55,704 p=458738 u=lasolovyov@dtln.local n=ansible | app : Install Bundler version 2.3.27 and Nokogiri version 1.8.2 ----------------------------------------------------------------------------------------------------------- 0.18s
